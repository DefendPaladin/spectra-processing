{"version":3,"file":"ml-spectra-processing.min.js","sources":["../node_modules/ml-array-median/node_modules/is-any-array/src/index.js","../node_modules/median-quickselect/lib/median-quickselect.min.js","../src/x/xMultiply.js","../src/x/xDotProduct.js","../src/x/xCrossCorrelation.js","../src/x/xFindClosestIndex.js","../src/x/xGetFromToIndex.js","../node_modules/validate.io-number-primitive/lib/index.js","../node_modules/validate.io-nan/lib/index.js","../node_modules/validate.io-integer-primitive/lib/index.js","../node_modules/validate.io-array-like/lib/index.js","../node_modules/const-max-uint32/lib/index.js","../node_modules/validate.io-typed-array-like/lib/index.js","../node_modules/validate.io-matrix-like/lib/index.js","../node_modules/compute-array-constructors/lib/ctors.js","../node_modules/compute-array-constructors/lib/index.js","../node_modules/validate.io-string-primitive/lib/index.js","../node_modules/validate.io-array/lib/index.js","../node_modules/validate.io-number/lib/index.js","../node_modules/validate.io-integer/lib/index.js","../node_modules/validate.io-nonnegative-integer/lib/index.js","../node_modules/validate.io-nonnegative-integer-array/lib/index.js","../node_modules/validate.io-nan-primitive/lib/index.js","../node_modules/validate.io-contains/lib/index.js","../node_modules/type-name/index.js","../node_modules/dstructs-array-dtype/lib/dtypes.js","../node_modules/dstructs-array-dtype/lib/index.js","../node_modules/dstructs-array-constructors/lib/ctors.js","../node_modules/dstructs-array-constructors/lib/index.js","../node_modules/dstructs-cast-arrays/lib/index.js","../node_modules/compute-array-dtype/lib/dtypes.js","../node_modules/compute-array-dtype/lib/index.js","../node_modules/compute-dtype/lib/index.js","../node_modules/dstructs-matrix/lib/set.js","../node_modules/dstructs-matrix/lib/iset.js","../node_modules/validate.io-function/lib/index.js","../node_modules/dstructs-matrix/lib/mset1.js","../node_modules/dstructs-matrix/lib/mset2.js","../node_modules/dstructs-matrix/lib/mset3.js","../node_modules/dstructs-matrix/lib/mset4.js","../node_modules/dstructs-matrix/lib/mset5.js","../node_modules/dstructs-matrix/lib/mset6.js","../node_modules/dstructs-matrix/lib/mset.js","../node_modules/compute-indexspace/lib/index.js","../node_modules/dstructs-matrix/lib/sset.js","../node_modules/dstructs-matrix/lib/get.js","../node_modules/dstructs-matrix/lib/iget.js","../node_modules/dstructs-matrix/lib/btypes.js","../node_modules/dstructs-matrix/lib/mget.js","../node_modules/dstructs-matrix/lib/sget.js","../node_modules/dstructs-matrix/lib/tostring.js","../node_modules/const-pinf-float64/lib/index.js","../node_modules/validate.io-buffer/lib/index.js","../node_modules/utils-copy/node_modules/type-name/index.js","../node_modules/regex-regex/lib/index.js","../node_modules/utils-regex-from-string/lib/index.js","../node_modules/object-keys/implementation.js","../node_modules/object-keys/isArguments.js","../node_modules/object-keys/index.js","../node_modules/utils-copy-error/lib/copy.js","../node_modules/utils-indexof/lib/index.js","../node_modules/utils-copy/lib/typedarrays.js","../node_modules/utils-copy/lib/deepcopy.js","../node_modules/utils-copy/lib/index.js","../node_modules/dstructs-matrix/lib/tojson.js","../node_modules/dstructs-matrix/lib/ctor.js","../node_modules/dstructs-matrix/lib/dtypes.js","../node_modules/dstructs-matrix/lib/matrix.js","../node_modules/dstructs-matrix/lib/set.raw.js","../node_modules/dstructs-matrix/lib/iset.raw.js","../node_modules/dstructs-matrix/lib/mset.raw.js","../node_modules/dstructs-matrix/lib/sset.raw.js","../node_modules/dstructs-matrix/lib/get.raw.js","../node_modules/dstructs-matrix/lib/iget.raw.js","../node_modules/dstructs-matrix/lib/mget.raw.js","../node_modules/dstructs-matrix/lib/sget.raw.js","../node_modules/dstructs-matrix/lib/ctor.raw.js","../node_modules/dstructs-matrix/lib/matrix.raw.js","../node_modules/dstructs-matrix/lib/index.js","../node_modules/validate.io-object/lib/index.js","../node_modules/validate.io-boolean-primitive/lib/index.js","../node_modules/compute-erfcinv/lib/validate.js","../node_modules/validate.io-number-primitive-array/lib/index.js","../node_modules/compute-polynomial/lib/index.js","../node_modules/compute-erfcinv/lib/number.js","../node_modules/compute-erfcinv/lib/array.js","../node_modules/compute-erfcinv/lib/accessor.js","../node_modules/utils-deep-set/lib/validate.js","../node_modules/utils-deep-set/lib/defaults.js","../node_modules/utils-deep-set/lib/deepset.js","../node_modules/utils-deep-set/lib/index.js","../node_modules/utils-deep-set/lib/factory.js","../node_modules/utils-deep-get/lib/validate.js","../node_modules/utils-deep-get/lib/defaults.js","../node_modules/utils-deep-get/lib/deepget.js","../node_modules/utils-deep-get/lib/index.js","../node_modules/utils-deep-get/lib/factory.js","../node_modules/compute-erfcinv/lib/deepset.js","../node_modules/compute-erfcinv/lib/matrix.js","../node_modules/compute-erfcinv/lib/typedarray.js","../node_modules/compute-erfcinv/lib/index.js","../node_modules/validate.io-positive-primitive/lib/index.js","../node_modules/distributions-rayleigh-cdf/lib/validate.js","../node_modules/distributions-rayleigh-cdf/lib/number.js","../node_modules/distributions-rayleigh-cdf/lib/partial.js","../node_modules/distributions-rayleigh-cdf/lib/array.js","../node_modules/distributions-rayleigh-cdf/lib/accessor.js","../node_modules/distributions-rayleigh-cdf/lib/deepset.js","../node_modules/distributions-rayleigh-cdf/lib/matrix.js","../node_modules/distributions-rayleigh-cdf/lib/typedarray.js","../node_modules/distributions-rayleigh-cdf/lib/index.js","../node_modules/d3-array/build/d3-array.js","../node_modules/spline-interpolator/index.js","../src/x/xNoiseSanPlot.js","../src/x/xGetTargetIndex.js","../src/x/xRotate.js","../src/reim/reimAbsolute.js","../src/reim/reimPhaseCorrection.js","../src/reim/reimAutoPhaseCorrection.js","../node_modules/fft.js/lib/fft.js","../src/reim/reimFFT.js","../node_modules/is-any-array/src/index.js","../src/xy/xyCheck.js","../src/zones/zonesNormalize.js","../src/x/xAbsoluteMedian.js","../node_modules/ml-array-median/lib-es6/index.js","../src/x/xAdd.js","../src/x/xAutoCorrelation.js","../src/x/xBoxPlot.js","../src/x/xCorrelation.js","../src/x/xDivide.js","../src/x/xSubtract.js","../src/xreim/xreimSortX.js","../src/xreim/xreimZeroFilling.js","../src/xy/xyAlign.js","../src/xy/xyExtract.js","../src/xy/xyGetNMaxY.js","../src/xy/xyGrowingX.js","../src/xy/xyIntegral.js","../src/xy/xyIntegration.js","../src/xy/xyMaxClosestYPoint.js","../src/xy/xyMaxY.js","../src/xy/xyMaxYPoint.js","../src/xy/xyMaximaY.js","../src/xy/xyMinClosestYPoint.js","../src/xy/xyMinYPoint.js","../src/xy/xyMinimaY.js","../src/xyObject/xyObjectJoinX.js","../src/xyObject/xyObjectSlotX.js","../src/xyObject/xyObjectSortX.js","../src/xyObject/xyObjectToXY.js","../src/xy/xyPeakInfo.js","../src/xy/xyRealMaxYPoint.js","../src/xy/xyRealMinYPoint.js","../src/xy/xyReduce.js","../src/xy/xyToXYObject.js","../src/zone/zoneToX.js"],"sourcesContent":["'use strict';\n\nconst toString = Object.prototype.toString;\n\nfunction isAnyArray(object) {\n  return toString.call(object).endsWith('Array]');\n}\n\nmodule.exports = isAnyArray;\n","(function(){function a(d){for(var e=0,f=d.length-1,g=void 0,h=void 0,i=void 0,j=c(e,f);!0;){if(f<=e)return d[j];if(f==e+1)return d[e]>d[f]&&b(d,e,f),d[j];for(g=c(e,f),d[g]>d[f]&&b(d,g,f),d[e]>d[f]&&b(d,e,f),d[g]>d[e]&&b(d,g,e),b(d,g,e+1),h=e+1,i=f;!0;){do h++;while(d[e]>d[h]);do i--;while(d[i]>d[e]);if(i<h)break;b(d,h,i)}b(d,e,i),i<=j&&(e=h),i>=j&&(f=i-1)}}var b=function b(d,e,f){var _ref;return _ref=[d[f],d[e]],d[e]=_ref[0],d[f]=_ref[1],_ref},c=function c(d,e){return~~((d+e)/2)};'undefined'!=typeof module&&module.exports?module.exports=a:window.median=a})();\n","/**\n\n/**\n * This function xMultiply the first array by the second array or a constant value to each element of the first array\n * @param {Array} array1 - the array that will be rotated\n * @param {Array|Number} array2\n * @return {Float64Array}\n */\nexport function xMultiply(array1, array2) {\n  let isConstant = false;\n  let constant;\n  if (Array.isArray(array2)) {\n    if (array1.length !== array2.length) {\n      throw new Error('sub: size of array1 and array2 must be identical');\n    }\n  } else {\n    isConstant = true;\n    constant = Number(array2);\n  }\n\n  let array3 = new Float64Array(array1.length);\n  if (isConstant) {\n    for (let i = 0; i < array1.length; i++) {\n      array3[i] = array1[i] * constant;\n    }\n  } else {\n    for (let i = 0; i < array1.length; i++) {\n      array3[i] = array1[i] * array2[i];\n    }\n  }\n\n  return array3;\n}\n","import { xMultiply } from './xMultiply';\n\nexport function xDotProduct(A, B) {\n  let g = xMultiply(A, B);\n  let result = 0;\n  for (let i = 0; i < A.length; i++) {\n    result += g[i];\n  }\n  return result;\n}\n","import { xDotProduct } from './xDotProduct';\n\n/**\n * Calculates the cross-correlation between 2 vectors\n * @param {Array<Number>} [A] - fixed array\n * @param {Array<Number>} [B] - sweeping array\n * @param {object} [options={}]\n * @param {number} [options.tau = 1] - sweep increment size (in number of points, min = 1, max = A.length)\n * @param {number} [options.lag = A.length - 1] - scalar lag parameter\n */\n\nexport function xCrossCorrelation(A, B, options = {}) {\n  let { tau = 1, lag = A.length - 1 } = options;\n  let result = new Float64Array(1 + (2 * lag) / tau);\n  if (A.length === B.length) {\n    let n = B.length;\n    let g = new Float64Array(2 * n);\n    let q = new Float64Array(2 * n);\n    for (let i = 0; i < n; i++) {\n      q[n + i] = B[i];\n    }\n    for (let i = n * 2 - (tau - 1); i > 0; i -= tau) {\n      let k = 0;\n      for (let j = i; j < n * 2; j++) {\n        g[k] = q[j];\n        k++;\n      }\n      let w = [];\n      for (let l = 0; l < n; l++) {\n        w[l] = g[l];\n      }\n      result[(k - (n - lag)) / tau] = xDotProduct(A, w);\n    }\n  }\n  return result;\n}\n","/**\n * Returns the closest index of a `target` in an ordered array\n * @param {array<Number>} array\n * @param {number} target\n */\n\nexport function xFindClosestIndex(array, target) {\n  let low = 0;\n  let high = array.length - 1;\n  let middle = 0;\n  while (high - low > 1) {\n    middle = low + ((high - low) >> 1);\n    if (array[middle] < target) {\n      low = middle;\n    } else if (array[middle] > target) {\n      high = middle;\n    } else {\n      return middle;\n    }\n  }\n\n  if (low < array.length - 1) {\n    if (Math.abs(target - array[low]) < Math.abs(array[low + 1] - target)) {\n      return low;\n    } else {\n      return low + 1;\n    }\n  } else {\n    return low;\n  }\n}\n","import { xFindClosestIndex } from './xFindClosestIndex';\n\n/**\n * Returns an object with {fromIndex, toIndex} for a specific from / to\n * @param {array} x\n * @param {object} [options={}]\n * @param {number} [options.from] - First value for xyIntegration in the X scale\n * @param {number} [options.fromIndex=0] - First point for xyIntegration\n * @param {number} [options.to] - Last value for xyIntegration in the X scale\n * @param {number} [options.toIndex=x.length-1] - Last point for xyIntegration\n */\n\nexport function xGetFromToIndex(x, options = {}) {\n  let { fromIndex, toIndex, from, to } = options;\n\n  if (fromIndex === undefined) {\n    if (from !== undefined) {\n      fromIndex = xFindClosestIndex(x, from);\n    } else {\n      fromIndex = 0;\n    }\n  }\n  if (toIndex === undefined) {\n    if (to !== undefined) {\n      toIndex = xFindClosestIndex(x, to);\n    } else {\n      toIndex = x.length - 1;\n    }\n  }\n  if (fromIndex > toIndex) [fromIndex, toIndex] = [toIndex, fromIndex];\n  return { fromIndex, toIndex };\n}\n","/**\n*\n*\tVALIDATE: number-primitive\n*\n*\n*\tDESCRIPTION:\n*\t\t- Validates if a value is a number primitive.\n*\n*\n*\tNOTES:\n*\t\t[1]\n*\n*\n*\tTODO:\n*\t\t[1]\n*\n*\n*\tLICENSE:\n*\t\tMIT\n*\n*\tCopyright (c) 2015. Athan Reines.\n*\n*\n*\tAUTHOR:\n*\t\tAthan Reines. kgryte@gmail.com. 2015.\n*\n*/\n\n'use strict';\n\n/**\n* FUNCTION: isNumber( value )\n*\tValidates if a value is a number primitive, excluding `NaN`.\n*\n* @param {*} value - value to be validated\n* @returns {Boolean} boolean indicating if a value is a number primitive\n*/\nfunction isNumber( value ) {\n\treturn (typeof value === 'number') && (value === value);\n} // end FUNCTION isNumber()\n\n\n// EXPORTS //\n\nmodule.exports = isNumber;\n","/**\n*\n*\tVALIDATE: nan\n*\n*\n*\tDESCRIPTION:\n*\t\t- Validates if a value is NaN.\n*\n*\n*\tNOTES:\n*\t\t[1]\n*\n*\n*\tTODO:\n*\t\t[1]\n*\n*\n*\tLICENSE:\n*\t\tMIT\n*\n*\tCopyright (c) 2014. Athan Reines.\n*\n*\n*\tAUTHOR:\n*\t\tAthan Reines. kgryte@gmail.com. 2014.\n*\n*/\n\n'use strict';\n\n/**\n* FUNCTION: nan( value )\n*\tValidates if a value is not-a-number.\n*\n* @param {*} value - value to be validated\n* @returns {Boolean} boolean indicating whether the value is a NaN\n*/\nfunction nan( value ) {\n\treturn ( typeof value === 'number' || Object.prototype.toString.call( value ) === '[object Number]' ) && value.valueOf() !== value.valueOf();\n} // end FUNCTION nan()\n\n\n// EXPORTS //\n\nmodule.exports = nan;\n","'use strict';\n\n// MODULES //\n\nvar isNumber = require( 'validate.io-number-primitive' );\n\n\n// IS INTEGER //\n\n/**\n* FUNCTION: isInteger( value )\n*\tValidates if a value is a number primitive, excluding `NaN`, and an integer.\n*\n* @param {*} value - value to be validated\n* @returns {Boolean} boolean indicating if a value is a integer primitive\n*/\nfunction isInteger( value ) {\n\treturn isNumber( value ) && value%1 === 0;\n} // end FUNCTION isInteger()\n\n\n// EXPORTS //\n\nmodule.exports = isInteger;\n","'use strict';\n\n// MODULES //\n\nvar isInteger = require( 'validate.io-integer-primitive' );\n\n\n// CONSTANTS //\n\nvar MAX = require( 'const-max-uint32' );\n\n\n// IS ARRAY-LIKE //\n\n/**\n* FUNCTION: isArrayLike( value )\n*\tValidates if a value is array-like.\n*\n* @param {*} value - value to validate\n* @param {Boolean} boolean indicating if a value is array-like\n*/\nfunction isArrayLike( value ) {\n\treturn (\n\t\tvalue !== void 0 &&\n\t\tvalue !== null &&\n\t\ttypeof value !== 'function' &&\n\t\tisInteger( value.length ) &&\n\t\tvalue.length >= 0 &&\n\t\tvalue.length <= MAX\n\t);\n} // end FUNCTION isArrayLike()\n\n\n// EXPORTS //\n\nmodule.exports = isArrayLike;\n","'use strict';\n\n// EXPORTS //\n\nmodule.exports = 4294967295; // 2**32 - 1\n","'use strict';\n\n// MODULES //\n\nvar isInteger = require( 'validate.io-integer-primitive' );\n\n\n// CONSTANTS //\n\nvar MAX = require( 'const-max-uint32' );\n\n\n// IS TYPED-ARRAY-LIKE //\n\n/**\n* FUNCTION: isTypedArrayLike( value )\n*\tValidates if a value is typed-array-like.\n*\n* @param {*} value - value to validate\n* @param {Boolean} boolean indicating if a value is typed-array-like\n*/\nfunction isTypedArrayLike( value ) {\n\treturn (\n\t\tvalue !== null &&\n\t\ttypeof value === 'object' &&\n\t\tisInteger( value.length ) &&\n\t\tvalue.length >= 0 &&\n\t\tvalue.length <= MAX &&\n\t\ttypeof value.BYTES_PER_ELEMENT === 'number' &&\n\t\ttypeof value.byteOffset === 'number' &&\n\t\ttypeof value.byteLength === 'number'\n\t);\n} // end FUNCTION isTypedArrayLike()\n\n\n// EXPORTS //\n\nmodule.exports = isTypedArrayLike;\n","'use strict';\n\n/**\n* FUNCTION: matrixLike( value )\n*\tValidates if a value is matrix-like.\n*\n* @param {*} value - value to be validated\n* @returns {Boolean} boolean indicating if a value is matrix-like\n*/\nfunction matrixLike( v ) {\n\treturn v !== null &&\n\t\ttypeof v === 'object' &&\n\t\ttypeof v.data === 'object' &&\n\t\ttypeof v.shape === 'object' &&\n\t\ttypeof v.offset === 'number' &&\n\t\ttypeof v.strides === 'object' &&\n\t\ttypeof v.dtype === 'string' &&\n\t\ttypeof v.length === 'number';\n} // end FUNCTION matrixLike()\n\n\n// EXPORTS //\n\nmodule.exports = matrixLike;\n","'use strict';\n\nvar CTORS = {\n\t'int8': Int8Array,\n\t'uint8': Uint8Array,\n\t'uint8_clamped': Uint8ClampedArray,\n\t'int16': Int16Array,\n\t'uint16': Uint16Array,\n\t'int32': Int32Array,\n\t'uint32': Uint32Array,\n\t'float32': Float32Array,\n\t'float64': Float64Array,\n\t'generic': Array\n};\n\n\n// EXPORTS //\n\nmodule.exports = CTORS;\n","'use strict';\n\n// CTORS //\n\nvar CTORS = require( './ctors.js' );\n\n\n// GET CTOR //\n\n/**\n* FUNCTION: getCtor( dtype )\n*\tReturns an array constructor corresponding to an input data type.\n*\n* @param {String} dtype - data type\n* @returns {Function|Null} array constructor or null\n*/\nfunction getCtor( dtype ) {\n\treturn CTORS[ dtype ] || null;\n} // end FUNCTION getCtor()\n\n\n// EXPORTS //\n\nmodule.exports = getCtor;\n","'use strict';\n\n/**\n* Tests if a value is a string primitive.\n*\n* @param {*} value - value to test\n* @returns {Boolean} boolean indicating if a value is a string primitive\n*/\nfunction isString( value ) {\n\treturn typeof value === 'string';\n} // end FUNCTION isString()\n\n\n// EXPORTS //\n\nmodule.exports = isString;\n","'use strict';\n\n/**\n* FUNCTION: isArray( value )\n*\tValidates if a value is an array.\n*\n* @param {*} value - value to be validated\n* @returns {Boolean} boolean indicating whether value is an array\n*/\nfunction isArray( value ) {\n\treturn Object.prototype.toString.call( value ) === '[object Array]';\n} // end FUNCTION isArray()\n\n// EXPORTS //\n\nmodule.exports = Array.isArray || isArray;\n","/**\n*\n*\tVALIDATE: number\n*\n*\n*\tDESCRIPTION:\n*\t\t- Validates if a value is a number.\n*\n*\n*\tNOTES:\n*\t\t[1]\n*\n*\n*\tTODO:\n*\t\t[1]\n*\n*\n*\tLICENSE:\n*\t\tMIT\n*\n*\tCopyright (c) 2014. Athan Reines.\n*\n*\n*\tAUTHOR:\n*\t\tAthan Reines. kgryte@gmail.com. 2014.\n*\n*/\n\n'use strict';\n\n/**\n* FUNCTION: isNumber( value )\n*\tValidates if a value is a number.\n*\n* @param {*} value - value to be validated\n* @returns {Boolean} boolean indicating whether value is a number\n*/\nfunction isNumber( value ) {\n\treturn ( typeof value === 'number' || Object.prototype.toString.call( value ) === '[object Number]' ) && value.valueOf() === value.valueOf();\n} // end FUNCTION isNumber()\n\n\n// EXPORTS //\n\nmodule.exports = isNumber;\n","/**\n*\n*\tVALIDATE: integer\n*\n*\n*\tDESCRIPTION:\n*\t\t- Validates if a value is an integer.\n*\n*\n*\tNOTES:\n*\t\t[1]\n*\n*\n*\tTODO:\n*\t\t[1]\n*\n*\n*\tLICENSE:\n*\t\tMIT\n*\n*\tCopyright (c) 2014. Athan Reines.\n*\n*\n*\tAUTHOR:\n*\t\tAthan Reines. kgryte@gmail.com. 2014.\n*\n*/\n\n'use strict';\n\n// MODULES //\n\nvar isNumber = require( 'validate.io-number' );\n\n\n// ISINTEGER //\n\n/**\n* FUNCTION: isInteger( value )\n*\tValidates if a value is an integer.\n*\n* @param {Number} value - value to be validated\n* @returns {Boolean} boolean indicating whether value is an integer\n*/\nfunction isInteger( value ) {\n\treturn isNumber( value ) && value%1 === 0;\n} // end FUNCTION isInteger()\n\n\n// EXPORTS //\n\nmodule.exports = isInteger;\n","/**\n*\n*\tVALIDATE: nonnegative-integer\n*\n*\n*\tDESCRIPTION:\n*\t\t- Validates if a value is a nonnegative integer.\n*\n*\n*\tNOTES:\n*\t\t[1]\n*\n*\n*\tTODO:\n*\t\t[1]\n*\n*\n*\tLICENSE:\n*\t\tMIT\n*\n*\tCopyright (c) 2015. Athan Reines.\n*\n*\n*\tAUTHOR:\n*\t\tAthan Reines. kgryte@gmail.com. 2015.\n*\n*/\n\n'use strict';\n\n// MODULES //\n\nvar isInteger = require( 'validate.io-integer' );\n\n\n// IS NONNEGATIVE INTEGER //\n\n/**\n* FUNCTION: isNonNegativeInteger( value )\n*\tValidates if a value is a nonnegative integer.\n*\n* @param {*} value - value to be validated\n* @returns {Boolean} boolean indicating if a value is a nonnegative integer\n*/\nfunction isNonNegativeInteger( value ) {\n\treturn isInteger( value ) && value >= 0;\n} // end FUNCTION isNonNegativeInteger()\n\n\n// EXPORTS //\n\nmodule.exports = isNonNegativeInteger;\n","/**\n*\n*\tVALIDATE: nonnegative-integer-array\n*\n*\n*\tDESCRIPTION:\n*\t\t- Validates if a value is a nonnegative integer array.\n*\n*\n*\tNOTES:\n*\t\t[1]\n*\n*\n*\tTODO:\n*\t\t[1]\n*\n*\n*\tLICENSE:\n*\t\tMIT\n*\n*\tCopyright (c) 2015. Athan Reines.\n*\n*\n*\tAUTHOR:\n*\t\tAthan Reines. kgryte@gmail.com. 2015.\n*\n*/\n\n'use strict';\n\n// MODULES //\n\nvar isArray = require( 'validate.io-array' ),\n\tisNonNegativeInteger = require( 'validate.io-nonnegative-integer' );\n\n\n// IS NONNEGATIVE INTEGER ARRAY //\n\n/**\n* FUNCTION: isNonNegativeIntegerArray( value )\n*\tValidates if a value is a nonnegative integer array.\n*\n* @param {*} value - value to be validated\n* @returns {Boolean} boolean indicating if a value is a nonnegative integer array\n*/\nfunction isNonNegativeIntegerArray( value ) {\n\tvar len;\n\tif ( !isArray( value ) ) {\n\t\treturn false;\n\t}\n\tlen = value.length;\n\tif ( !len ) {\n\t\treturn false;\n\t}\n\tfor ( var i = 0; i < len; i++ ) {\n\t\tif ( !isNonNegativeInteger( value[i] ) ) {\n\t\t\treturn false;\n\t\t}\n\t}\n\treturn true;\n} // end FUNCTION isNonNegativeIntegerArray()\n\n\n// EXPORTS //\n\nmodule.exports = isNonNegativeIntegerArray;\n","/**\n*\n*\tVALIDATE: nan-primitive\n*\n*\n*\tDESCRIPTION:\n*\t\t- Validates if a value is a NaN primitive.\n*\n*\n*\tNOTES:\n*\t\t[1]\n*\n*\n*\tTODO:\n*\t\t[1]\n*\n*\n*\tLICENSE:\n*\t\tMIT\n*\n*\tCopyright (c) 2015. Athan Reines.\n*\n*\n*\tAUTHOR:\n*\t\tAthan Reines. kgryte@gmail.com. 2015.\n*\n*/\n\n'use strict';\n\n/**\n* FUNCTION: nan( value )\n*\tValidates if a value is a NaN primitive.\n*\n* @param {*} value - value to be validated\n* @returns {Boolean} boolean indicating whether the value is a NaN primitive\n*/\nfunction nan( value ) {\n\treturn typeof value === 'number' && value !== value;\n} // end FUNCTION nan()\n\n\n// EXPORTS //\n\nmodule.exports = nan;\n","/**\n*\n*\tVALIDATE: contains\n*\n*\n*\tDESCRIPTION:\n*\t\t- Validates if an array contains an input value.\n*\n*\n*\tNOTES:\n*\t\t[1]\n*\n*\n*\tTODO:\n*\t\t[1]\n*\n*\n*\tLICENSE:\n*\t\tMIT\n*\n*\tCopyright (c) 2015. Athan Reines.\n*\n*\n*\tAUTHOR:\n*\t\tAthan Reines. kgryte@gmail.com. 2015.\n*\n*/\n\n'use strict';\n\n// MODULES //\n\nvar isArray = require( 'validate.io-array' ),\n\tisnan = require( 'validate.io-nan-primitive' );\n\n\n// CONTAINS //\n\n/**\n* FUNCTION: contains( arr, value )\n*\tValidates if an array contains an input value.\n*\n* @param {Array} arr - search array\n* @param {*} value - search value\n* @returns {Boolean} boolean indicating if an array contains an input value\n*/\nfunction contains( arr, value ) {\n\tvar len, i;\n\tif ( !isArray( arr ) ) {\n\t\tthrow new TypeError( 'contains()::invalid input argument. First argument must be an array. Value: `' + arr + '`.' );\n\t}\n\tlen = arr.length;\n\tif ( isnan( value ) ) {\n\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\tif ( isnan( arr[ i ] ) ) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\tfor ( i = 0; i < len; i++ ) {\n\t\tif ( arr[ i ] === value ) {\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n} // end FUNCTION contains()\n\n\n// EXPORTS //\n\nmodule.exports = contains;\n","/**\n * type-name - Just a reasonable typeof\n * \n * https://github.com/twada/type-name\n *\n * Copyright (c) 2014-2015 Takuto Wada\n * Licensed under the MIT license.\n *   http://twada.mit-license.org/2014-2015\n */\n'use strict';\n\nvar toStr = Object.prototype.toString;\n\nfunction funcName (f) {\n    return f.name ? f.name : /^\\s*function\\s*([^\\(]*)/im.exec(f.toString())[1];\n}\n\nfunction ctorName (obj) {\n    var strName = toStr.call(obj).slice(8, -1);\n    if (strName === 'Object' && obj.constructor) {\n        return funcName(obj.constructor);\n    }\n    return strName;\n}\n\nfunction typeName (val) {\n    var type;\n    if (val === null) {\n        return 'null';\n    }\n    type = typeof(val);\n    if (type === 'object') {\n        return ctorName(val);\n    }\n    return type;\n}\n\nmodule.exports = typeName;\n","'use strict';\n\nvar DTYPES = {\n\t'Int8Array': 'int8',\n\t'Uint8Array': 'uint8',\n\t'Uint8ClampedArray': 'uint8_clamped',\n\t'Int16Array': 'int16',\n\t'Uint16Array': 'uint16',\n\t'Int32Array': 'int32',\n\t'Uint32Array': 'uint32',\n\t'Float32Array': 'float32',\n\t'Float64Array': 'float64',\n\t'Array': 'generic'\n};\n\n\n// EXPORTS //\n\nmodule.exports = DTYPES;\n","'use strict';\n\n// DTYPES //\n\nvar DTYPES = require( './dtypes.js' );\n\n\n// GET DTYPE //\n\n/**\n* FUNCTION: getType( name )\n*\tReturns an array data type corresponding to an array constructor name.\n*\n* @param {String} name - constructor name\n* @returns {String|Null} array data type or null\n*/\nfunction getType( name ) {\n\treturn DTYPES[ name ] || null;\n} // end FUNCTION getType()\n\n\n// EXPORTS //\n\nmodule.exports = getType;\n","'use strict';\n\nvar CTORS = {\n\t'int8': Int8Array,\n\t'uint8': Uint8Array,\n\t'uint8_clamped': Uint8ClampedArray,\n\t'int16': Int16Array,\n\t'uint16': Uint16Array,\n\t'int32': Int32Array,\n\t'uint32': Uint32Array,\n\t'float32': Float32Array,\n\t'float64': Float64Array,\n\t'generic': Array\n};\n\n\n// EXPORTS //\n\nmodule.exports = CTORS;\n","'use strict';\n\n// CTORS //\n\nvar CTORS = require( './ctors.js' );\n\n\n// GET CTOR //\n\n/**\n* FUNCTION: getCtor( dtype )\n*\tReturns an array constructor corresponding to an input data type.\n*\n* @param {String} dtype - data type\n* @returns {Function|Null} array constructor or null\n*/\nfunction getCtor( dtype ) {\n\treturn CTORS[ dtype ] || null;\n} // end FUNCTION getCtor()\n\n\n// EXPORTS //\n\nmodule.exports = getCtor;\n","'use strict';\n\n// MODULES //\n\nvar arrayLike = require( 'validate.io-array-like' ),\n\ttypeName = require( 'type-name' ),\n\tdtype = require( 'dstructs-array-dtype' ),\n\tgetCtor = require( 'dstructs-array-constructors' );\n\n\n// CAST //\n\n/**\n* FUNCTION: cast( x, type )\n*\tCasts an input array or array-like object to a specified type.\n*\n* @param {String|Object|Array|Int8Array|Uint8Array|Uint8ClampedArray|Int16Array|Uint16Array|Int32Array|Uint32Array|Float32Array|Float64Array} x - value to cast\n* @param {String|Array|Int8Array|Uint8Array|Uint8ClampedArray|Int16Array|Uint16Array|Int32Array|Uint32Array|Float32Array|Float64Array} type - type to which to cast or a value from which the desired type should be inferred\n* @returns {Array|Int8Array|Uint8Array|Uint8ClampedArray|Int16Array|Uint16Array|Int32Array|Uint32Array|Float32Array|Float64Array} casted value\n*/\nfunction cast( x, type ) {\n\t/* jshint newcap:false */\n\tvar ctor,\n\t\tlen,\n\t\td,\n\t\ti;\n\n\tif ( !arrayLike( x ) ) {\n\t\tthrow new TypeError( 'invalid input argument. First argument must be an array-like object. Value: `' + x + '`.' );\n\t}\n\tif ( typeof type === 'string' ) {\n\t\tctor = getCtor( type );\n\t} else {\n\t\tctor = getCtor( dtype( typeName( type ) ) );\n\t}\n\tif ( ctor === null ) {\n\t\tthrow new Error( 'invalid input argument. Unrecognized/unsupported type to which to cast. Value: `' + type + '`.' );\n\t}\n\tlen = x.length;\n\n\t// Ensure fast elements (contiguous memory)...\n\tif ( type === 'generic' && len > 64000 ) {\n\t\td = new ctor( 64000 );\n\t\tfor ( i = 0; i < 64000; i++ ) {\n\t\t\td[ i ] = x[ i ];\n\t\t}\n\t\tfor ( i = 64000; i < len; i++ ) {\n\t\t\td.push( x[ i ] );\n\t\t}\n\t} else {\n\t\td = new ctor( len );\n\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\td[ i ] = x[ i ];\n\t\t}\n\t}\n\treturn d;\n} // end FUNCTION cast()\n\n\n// EXPORTS //\n\nmodule.exports = cast;\n","'use strict';\n\nvar DTYPES = {\n\t'Int8Array': 'int8',\n\t'Uint8Array': 'uint8',\n\t'Uint8ClampedArray': 'uint8_clamped',\n\t'Int16Array': 'int16',\n\t'Uint16Array': 'uint16',\n\t'Int32Array': 'int32',\n\t'Uint32Array': 'uint32',\n\t'Float32Array': 'float32',\n\t'Float64Array': 'float64',\n\t'Array': 'generic'\n};\n\n\n// EXPORTS //\n\nmodule.exports = DTYPES;\n","'use strict';\n\n// DTYPES //\n\nvar DTYPES = require( './dtypes.js' );\n\n\n// GET DTYPE //\n\n/**\n* FUNCTION: getType( name )\n*\tReturns an array data type corresponding to an array constructor name.\n*\n* @param {String} name - constructor name\n* @returns {String|Null} array data type or null\n*/\nfunction getType( name ) {\n\treturn DTYPES[ name ] || null;\n} // end FUNCTION getType()\n\n\n// EXPORTS //\n\nmodule.exports = getType;\n","'use strict';\n\n// MODULES //\n\nvar typeName = require( 'type-name' ),\n\tgetType = require( 'compute-array-dtype' );\n\n\n// DTYPE //\n\n/**\n* FUNCTION: dtype( value )\n*\tDetermines the data type of an input value.\n*\n* @param {*} value - input value\n* @returns {String} data type\n*/\nfunction dtype( value ) {\n\tvar type,\n\t\tdt;\n\tif ( value === null ) {\n\t\treturn 'null';\n\t}\n\t// Check for base types:\n\ttype = typeof value;\n\tswitch ( type ) {\n\t\tcase 'undefined':\n\t\tcase 'boolean':\n\t\tcase 'number':\n\t\tcase 'string':\n\t\tcase 'function':\n\t\tcase 'symbol':\n\t\t\treturn type;\n\t}\n\t// Resort to slower look-up:\n\ttype = typeName( value );\n\n\t// Is value a known array type?\n\tdt = getType( type );\n\tif ( dt ) {\n\t\treturn dt;\n\t}\n\t// Is value a buffer object?\n\tif ( type === 'Buffer' || type === 'ArrayBuffer' ) {\n\t\treturn 'binary';\n\t}\n\t// Assume the value is a generic object (Object|Class instance) which could contain any or multiple data types...\n\treturn 'generic';\n} // end FUNCTION dtype()\n\n\n// EXPORTS //\n\nmodule.exports = dtype;\n","'use strict';\n\n// MODULES //\n\nvar isNonNegativeInteger = require( 'validate.io-nonnegative-integer' ),\n\tisnan = require( 'validate.io-nan' ),\n\tisNumber = require( 'validate.io-number-primitive' );\n\n\n// SET //\n\n/**\n* FUNCTION: set( i, j, value )\n*\tSets a matrix element based on the provided row and column indices.\n*\n* @param {Number} i - row index\n* @param {Number} j - column index\n* @param {Number} value - value to set\n* @returns {Matrix} Matrix instance\n*/\nfunction set( i, j, v ) {\n\t/* jshint validthis: true */\n\tif ( !isNonNegativeInteger( i ) || !isNonNegativeInteger( j ) ) {\n\t\tthrow new TypeError( 'invalid input argument. Row and column indices must be nonnegative integers. Values: `[' + i + ',' + j + ']`.' );\n\t}\n\tif ( !isNumber( v ) && !isnan( v ) ) {\n\t\tthrow new TypeError( 'invalid input argument. An input value must be a number primitive. Value: `' + v + '`.' );\n\t}\n\ti = this.offset + i*this.strides[0] + j*this.strides[1];\n\tif ( i >= 0 ) {\n\t\tthis.data[ i ] = v;\n\t}\n\treturn this;\n} // end FUNCTION set()\n\n\n// EXPORTS //\n\nmodule.exports = set;\n","'use strict';\n\n// MODULES //\n\nvar isInteger = require( 'validate.io-integer-primitive' ),\n\tisnan = require( 'validate.io-nan' ),\n\tisNumber = require( 'validate.io-number-primitive' );\n\n\n// ISET //\n\n/**\n* FUNCTION: iset( idx, value )\n*\tSets a matrix element located at a specified index.\n*\n* @param {Number} idx - linear index\n* @param {Number} value - value to set\n* @returns {Matrix} Matrix instance\n*/\nfunction iset( idx, v ) {\n\t/* jshint validthis: true */\n\tvar r, j;\n\tif ( !isInteger( idx ) ) {\n\t\tthrow new TypeError( 'invalid input argument. An index must be an integer. Value: `' + idx + '`.' );\n\t}\n\tif ( !isNumber( v ) && !isnan( v ) ) {\n\t\tthrow new TypeError( 'invalid input argument. An input value must be a number primitive. Value: `' + v + '`.' );\n\t}\n\tif ( idx < 0 ) {\n\t\tidx += this.length;\n\t\tif ( idx < 0 ) {\n\t\t\treturn this;\n\t\t}\n\t}\n\tj = idx % this.strides[ 0 ];\n\tr = idx - j;\n\tif ( this.strides[ 0 ] < 0 ) {\n\t\tr = -r;\n\t}\n\tthis.data[ this.offset + r + j*this.strides[1] ] = v;\n\treturn this;\n} // end FUNCTION iset()\n\n\n// EXPORTS //\n\nmodule.exports = iset;\n","/**\n*\n*\tVALIDATE: function\n*\n*\n*\tDESCRIPTION:\n*\t\t- Validates if a value is a function.\n*\n*\n*\tNOTES:\n*\t\t[1]\n*\n*\n*\tTODO:\n*\t\t[1]\n*\n*\n*\tLICENSE:\n*\t\tMIT\n*\n*\tCopyright (c) 2014. Athan Reines.\n*\n*\n*\tAUTHOR:\n*\t\tAthan Reines. kgryte@gmail.com. 2014.\n*\n*/\n\n'use strict';\n\n/**\n* FUNCTION: isFunction( value )\n*\tValidates if a value is a function.\n*\n* @param {*} value - value to be validated\n* @returns {Boolean} boolean indicating whether value is a function\n*/\nfunction isFunction( value ) {\n\treturn ( typeof value === 'function' );\n} // end FUNCTION isFunction()\n\n\n// EXPORTS //\n\nmodule.exports = isFunction;\n","'use strict';\n\n/**\n* FUNCTION: mset1( mat, idx, v )\n*\tSets multiple matrix elements to a numeric value `v`.\n*\n* @private\n* @param {Matrix} mat - Matrix instance\n* @param {Number[]} idx - linear indices\n* @param {Number} v - numeric value\n* @returns {Void}\n*/\nfunction mset1( mat, idx, v ) {\n\tvar s0 = mat.strides[ 0 ],\n\t\ts1 = mat.strides[ 1 ],\n\t\tlen = idx.length,\n\t\to = mat.offset,\n\t\tsgn,\n\t\tr, j, n;\n\n\tsgn = ( s0 < 0 ) ? -1 : 1;\n\tfor ( n = 0; n < len; n++ ) {\n\t\tj = idx[ n ] % s0;\n\t\tr = sgn * ( idx[n] - j );\n\t\tmat.data[ o + r + j*s1 ] = v;\n\t}\n} // end FUNCTION mset1()\n\n\n// EXPORTS //\n\nmodule.exports = mset1;\n","'use strict';\n\n/**\n* FUNCTION: mset2( mat, idx, clbk, ctx )\n*\tSets multiple matrix elements using a callback function.\n*\n* @private\n* @param {Matrix} mat - Matrix instance\n* @param {Number[]} idx - linear indices\n* @param {Function} clbk - callback function\n* @param {Object} ctx - `this` context when invoking the provided callback\n* @returns {Void}\n*/\nfunction mset2( mat, idx, clbk, ctx ) {\n\tvar s0 = mat.strides[ 0 ],\n\t\ts1 = mat.strides[ 1 ],\n\t\tlen = idx.length,\n\t\to = mat.offset,\n\t\tsgn,\n\t\tr, c,\n\t\ti, k, n;\n\n\tsgn = ( s0 < 0 ) ? -1 : 1;\n\tfor ( n = 0; n < len; n++ ) {\n\t\t// Get the column number:\n\t\tc = idx[ n ] % s0;\n\n\t\t// Determine the row offset:\n\t\ti = sgn * ( idx[n] - c );\n\n\t\t// Get the row number:\n\t\tr = i / s0;\n\n\t\t// Calculate the index:\n\t\tk = o + i + c*s1;\n\n\t\t// Set the value:\n\t\tmat.data[ k ] = clbk.call( ctx, mat.data[ k ], r, c, k );\n\t}\n} // end FUNCTION mset2()\n\n\n// EXPORTS //\n\nmodule.exports = mset2;\n","'use strict';\n\n/**\n* FUNCTION: mset3( mat, idx, m )\n*\tSets multiple matrix elements using elements from another matrix.\n*\n* @private\n* @param {Matrix} mat - Matrix instance\n* @param {Number[]} idx - linear indices\n* @param {Matrix} m - Matrix instance\n* @returns {Void}\n*/\nfunction mset3( mat, idx, m ) {\n\tvar s0 = mat.strides[ 0 ],\n\t\ts1 = mat.strides[ 1 ],\n\t\ts2 = m.strides[ 0 ],\n\t\ts3 = m.strides[ 1 ],\n\t\tlen = idx.length,\n\t\to0 = mat.offset,\n\t\to1 = m.offset,\n\t\tsgn0, sgn1,\n\t\tr0, r1,\n\t\tj0, j1,\n\t\tn;\n\n\tif ( m.length !== len ) {\n\t\tthrow new Error( 'invalid input argument. Number of indices does not match the number of elements in the value matrix.' );\n\t}\n\tsgn0 = ( s0 < 0 ) ? -1 : 1;\n\tsgn1 = ( s2 < 0 ) ? -1 : 1;\n\tfor ( n = 0; n < len; n++ ) {\n\t\t// Get the column number and row offset for the first matrix:\n\t\tj0 = idx[ n ] % s0;\n\t\tr0 = sgn0 * ( idx[n] - j0 );\n\n\t\t// Get the column number and row offset for the value matrix:\n\t\tj1 = n % s2;\n\t\tr1 = sgn1 * ( n - j1 );\n\n\t\tmat.data[ o0 + r0 + j0*s1 ] = m.data[ o1 + r1 + j1*s3  ];\n\t}\n} // end FUNCTION mset3()\n\n\n// EXPORTS //\n\nmodule.exports = mset3;\n","'use strict';\n\n/**\n* FUNCTION: mset4( mat, rows, cols, clbk, ctx )\n*\tSets multiple matrix elements using a callback function.\n*\n* @private\n* @param {Matrix} mat - Matrix instance\n* @param {Number[]} rows - row indices\n* @param {Number[]} cols - column indices\n* @param {Function} clbk - callback function\n* @param {Object} ctx - `this` context when invoking the provided callback\n* @returns {Void}\n*/\nfunction mset4( mat, rows, cols, clbk, ctx ) {\n\tvar s0 = mat.strides[ 0 ],\n\t\ts1 = mat.strides[ 1 ],\n\t\tnRows = rows.length,\n\t\tnCols = cols.length,\n\t\to = mat.offset,\n\t\tr,\n\t\ti, j, k;\n\n\tfor ( i = 0; i < nRows; i++ ) {\n\t\tr = o + rows[i]*s0;\n\t\tfor ( j = 0; j < nCols; j++ ) {\n\t\t\tk = r + cols[j]*s1;\n\t\t\tmat.data[ k ] = clbk.call( ctx, mat.data[ k ], rows[ i ], cols[ j ], k );\n\t\t}\n\t}\n} // end FUNCTION mset4()\n\n\n// EXPORTS //\n\nmodule.exports = mset4;\n","'use strict';\n\n/**\n* FUNCTION: mset5( mat, rows, cols, v )\n*\tSets multiple matrix elements to a numeric value `v`.\n*\n* @private\n* @param {Matrix} mat - Matrix instance\n* @param {Number[]} rows - row indices\n* @param {Number[]} cols - column indices\n* @param {Number} v - numeric value\n* @returns {Void}\n*/\nfunction mset5( mat, rows, cols, v ) {\n\tvar s0 = mat.strides[ 0 ],\n\t\ts1 = mat.strides[ 1 ],\n\t\tnRows = rows.length,\n\t\tnCols = cols.length,\n\t\to = mat.offset,\n\t\tr,\n\t\ti, j;\n\n\tfor ( i = 0; i < nRows; i++ ) {\n\t\tr = o + rows[i]*s0;\n\t\tfor ( j = 0; j < nCols; j++ ) {\n\t\t\tmat.data[ r + cols[j]*s1 ] = v;\n\t\t}\n\t}\n} // end FUNCTION mset5()\n\n\n// EXPORTS //\n\nmodule.exports = mset5;\n","'use strict';\n\n/**\n* FUNCTION: mset6( mat, rows, cols, m )\n*\tSets multiple matrix elements using elements from another matrix.\n*\n* @private\n* @param {Matrix} mat - Matrix instance\n* @param {Number[]} rows - row indices\n* @param {Number[]} cols - column indices\n* @param {Matrix} m - Matrix instance\n* @returns {Void}\n*/\nfunction mset6( mat, rows, cols, m ) {\n\tvar s0 = mat.strides[ 0 ],\n\t\ts1 = mat.strides[ 1 ],\n\t\ts2 = m.strides[ 0 ],\n\t\ts3 = m.strides[ 1 ],\n\t\tnRows = rows.length,\n\t\tnCols = cols.length,\n\t\to0 = mat.offset,\n\t\to1 = m.offset,\n\t\tr0, r1,\n\t\ti, j;\n\n\tif ( m.shape[ 0 ] !== nRows || m.shape[ 1 ] !== nCols ) {\n\t\tthrow new Error( 'invalid input argument. The dimensions given by the row and column indices do not match the value matrix dimensions.' );\n\t}\n\tfor ( i = 0; i < nRows; i++ ) {\n\t\tr0 = o0 + rows[i]*s0;\n\t\tr1 = o1 + i*s2;\n\t\tfor ( j = 0; j < nCols; j++ ) {\n\t\t\tmat.data[ r0 + cols[j]*s1 ] = m.data[ r1 + j*s3 ];\n\t\t}\n\t}\n} // end FUNCTION mset6()\n\n\n// EXPORTS //\n\nmodule.exports = mset6;\n","'use strict';\n\n// MODULES //\n\nvar isFunction = require( 'validate.io-function' ),\n\tisnan = require( 'validate.io-nan' ),\n\tisNumber = require( 'validate.io-number-primitive' ),\n\tisNonNegativeIntegerArray = require( 'validate.io-nonnegative-integer-array' );\n\n\n// FUNCTIONS //\n\nvar mset1 = require( './mset1.js' ),\n\tmset2 = require( './mset2.js' ),\n\tmset3 = require( './mset3.js' ),\n\tmset4 = require( './mset4.js' ),\n\tmset5 = require( './mset5.js' ),\n\tmset6 = require( './mset6.js' );\n\n/**\n* FUNCTION: getIndices( idx, len )\n*\tValidates and returns an array of indices.\n*\n* @private\n* @param {Number[]|Null} idx - indices\n* @param {Number} len - max index\n* @returns {Number[]} indices\n*/\nfunction getIndices( idx, len ) {\n\tvar out,\n\t\ti;\n\tif ( idx === null ) {\n\t\tout = new Array( len );\n\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\tout[ i ] = i;\n\t\t}\n\t}\n\telse if ( isNonNegativeIntegerArray( idx ) ) {\n\t\tout = [];\n\t\tfor ( i = 0; i < idx.length; i++ ) {\n\t\t\tif ( idx[ i ] < len ) {\n\t\t\t\tout.push( idx[ i ] );\n\t\t\t}\n\t\t}\n\t}\n\telse {\n\t\tthrow new TypeError( 'invalid input argument. Row and column indices must be arrays of nonnegative integers. Value: `' + idx + '`.' );\n\t}\n\treturn out;\n} // end FUNCTION getIndices()\n\n\n// MSET //\n\n/**\n* FUNCTION: mset( i[, j], value[, thisArg] )\n*\tSets multiple matrix elements. If provided a single array, `i` is treated as an array of linear indices.\n*\n* @param {Number[]|Null} i - linear/row indices\n* @param {Number[]|Null} [j] - column indices\n* @param {Number|Matrix|Function} value - either a single numeric value, a matrix containing the values to set, or a function which returns a numeric value\n* @returns {Matrix} Matrix instance\n*/\nfunction mset() {\n\t/*jshint validthis:true */\n\tvar nargs = arguments.length,\n\t\targs,\n\t\trows,\n\t\tcols,\n\t\ti;\n\n\targs = new Array( nargs );\n\tfor ( i = 0; i < nargs; i++ ) {\n\t\targs[ i ] = arguments[ i ];\n\t}\n\n\t// 2 input arguments...\n\tif ( nargs < 3 ) {\n\t\tif ( !isNonNegativeIntegerArray( args[ 0 ] ) ) {\n\t\t\tthrow new TypeError( 'invalid input argument. First argument must be an array of nonnegative integers. Value: `' + args[ 0 ] + '`.' );\n\t\t}\n\t\t// indices, clbk\n\t\tif ( isFunction( args[ 1 ] ) ) {\n\t\t\tmset2( this, args[ 0 ], args[ 1 ] );\n\t\t}\n\t\t// indices, number\n\t\telse if ( isNumber( args[ 1 ] ) || isnan( args[ 1 ] ) ) {\n\t\t\tmset1( this, args[ 0 ], args[ 1 ] );\n\t\t}\n\t\t// indices, matrix\n\t\telse {\n\t\t\t// NOTE: no validation for Matrix instance.\n\t\t\tmset3( this, args[ 0 ], args[ 1 ] );\n\t\t}\n\t}\n\t// 3 input arguments...\n\telse if ( nargs === 3 ) {\n\t\t// indices, clbk, context\n\t\tif ( isFunction( args[ 1 ] ) ) {\n\t\t\tif ( !isNonNegativeIntegerArray( args[ 0 ] ) ) {\n\t\t\t\tthrow new TypeError( 'invalid input argument. First argument must be an array of nonnegative integers. Value: `' + args[ 0 ] + '`.' );\n\t\t\t}\n\t\t\tmset2( this, args[ 0 ], args[ 1 ], args[ 2 ] );\n\t\t}\n\t\t// rows, cols, function\n\t\telse if ( isFunction( args[ 2 ] ) ) {\n\t\t\trows = getIndices( args[ 0 ], this.shape[ 0 ] );\n\t\t\tcols = getIndices( args[ 1 ], this.shape[ 1 ] );\n\t\t\tmset4( this, rows, cols, args[ 2 ], this );\n\t\t}\n\t\t// rows, cols, number\n\t\telse if ( isNumber( args[ 2 ] ) ) {\n\t\t\trows = getIndices( args[ 0 ], this.shape[ 0 ] );\n\t\t\tcols = getIndices( args[ 1 ], this.shape[ 1 ] );\n\t\t\tmset5( this, rows, cols, args[ 2 ] );\n\t\t}\n\t\t// rows, cols, matrix\n\t\telse {\n\t\t\trows = getIndices( args[ 0 ], this.shape[ 0 ] );\n\t\t\tcols = getIndices( args[ 1 ], this.shape[ 1 ] );\n\n\t\t\t// NOTE: no validation for Matrix instance.\n\t\t\tmset6( this, rows, cols, args[ 2 ] );\n\t\t}\n\t}\n\t// 4 input arguments...\n\telse {\n\t\t// rows, cols, function, context\n\t\tif ( !isFunction( args[ 2 ] ) ) {\n\t\t\tthrow new TypeError( 'invalid input argument. Callback argument must be a function. Value: `' + args[ 2 ] + '`.' );\n\t\t}\n\t\trows = getIndices( args[ 0 ], this.shape[ 0 ] );\n\t\tcols = getIndices( args[ 1 ], this.shape[ 1 ] );\n\t\tmset4( this, rows, cols, args[ 2 ], args[ 3 ] );\n\t}\n\treturn this;\n} // end FUNCTION mset()\n\n\n// EXPORTS //\n\nmodule.exports = mset;\n","/**\n*\n*\tCOMPUTE: indexspace\n*\n*\n*\tDESCRIPTION:\n*\t\t- Generates a linearly spaced index array from a subsequence string.\n*\n*\n*\tNOTES:\n*\t\t[1]\n*\n*\n*\tTODO:\n*\t\t[1]\n*\n*\n*\tLICENSE:\n*\t\tMIT\n*\n*\tCopyright (c) 2015. Athan Reines.\n*\n*\n*\tAUTHOR:\n*\t\tAthan Reines. kgryte@gmail.com. 2015.\n*\n*/\n\n'use strict';\n\n// MODULES //\n\nvar isString = require( 'validate.io-string-primitive' ),\n\tisNonNegativeInteger = require( 'validate.io-nonnegative-integer' );\n\n\n// VARIABLES //\n\nvar re = /^(?:(?:-(?=\\d+))?\\d*|end(?:-\\d+|\\/\\d+)?):(?:(?:-(?=\\d+))?\\d*|end(?:-\\d+|\\/\\d+)?)(?:\\:(?=-?\\d*)(?:-?\\d+)?)?$/;\n\n/**\n*\t^(...)\n*\t=> require that the string begin with either a digit (+ or -), an `end` keyword, or a colon\n*\n*\t(?:(?:-(?=\\d+))?\\d*|end(?:-?\\d+|/\\\\d+)?)\n*\t=> match but do not capture\n*\t\t(?:-(?=\\d+))?\n*\t\t=> match but do not capture a minus sign but only if followed by one or more digits\n*\t\t\\d*\n*\t\t=> 0 or more digits\n*\t\t|\n*\t\t=> OR\n*\t\tend(?:-\\d+|/\\d+)?\n*\t\t=> the word `end` exactly, which may be followed by either a minus sign and 1 or more digits or a division sign and 1 or more digits\n*\n*\t:\n*\t=> match a colon exactly\n*\n*\t(?:(?:-(?=\\d+))?\\d*|end(?:-\\d+|/\\\\d+)?)\n*\t=> same as above\n*\n*\t(?:\\:(?=-?\\d*)(?:-?\\d+)?)?\n*\t=> match but do not capture\n*\t\t\\:(?=-?\\d*)\n*\t\t=> a colon but only if followed by either a possible minus sign and 0 or more digits\n*\t\t(?:-?\\d+)?\n*\t\t=> match but do not capture a possible minus sign and 1 or more digits\n*\n*\t$\n*\t=> require that the string end with either a digit, `end` keyword, or a colon.\n*\n*\n* Examples:\n*\t-\t:\n*\t-\t::\n*\t-\t4:\n*\t-\t:4\n*\t-\t::-1\n*\t-\t3::-1\n*\t-\t:10:2\n*\t-\t1:3:1\n*\t-\t9:1:-3\n*\t-\t1:-1\n*\t-\t:-1\n*\t-\t-5:\n*\t-\t1:-5:2\n*\t-\t-9:10:1\n*\t-\t-9:-4:2\n*\t-\t-4:-9:-2\n*\t-\t1:end:2\n*\t-\t:end/2\n*\t-\tend/2:end:5\n*/\n\nvar reEnd = /^end/,\n\treMatch = /(-|\\/)(?=\\d+)(\\d+)?$/;\n\n\n// INDEXSPACE\n\n/**\n* FUNCTION: indexspace( str, len )\n*\tGenerates a linearly spaced index array from a subsequence string.\n*\n* @param {String} str - subsequence string\n* @param {Number} len - reference array length\n* @returns {Number[]} array of indices\n*/\nfunction indexspace( str, len ) {\n\tvar x1,\n\t\tx2,\n\t\ttmp,\n\t\tinc,\n\t\tarr;\n\tif ( !isString( str ) || !re.test( str ) ) {\n\t\tthrow new Error( 'indexspace()::invalid input argument. Invalid subsequence syntax. Please consult documentation. Value: `' + str + '`.' );\n\t}\n\tif ( !isNonNegativeInteger( len ) ) {\n\t\tthrow new TypeError( 'indexspace()::invalid input argument. Reference array length must be a nonnegative integer. Value: `' + len + '`.' );\n\t}\n\tif ( !len ) {\n\t\treturn [];\n\t}\n\tstr = str.split( ':' );\n\tx1 = str[ 0 ];\n\tx2 = str[ 1 ];\n\n\tif ( str.length === 2 ) {\n\t\tinc = 1;\n\t} else {\n\t\tinc = parseInt( str[ 2 ], 10 );\n\t}\n\t// Handle zero increment...\n\tif ( inc === 0 ) {\n\t\tthrow new Error( 'indexspace()::invalid syntax. Increment must be an integer not equal to 0. Value: `' + inc + '`.' );\n\t}\n\n\t// START //\n\n\t// Handle use of 'end' keyword...\n\tif ( reEnd.test( x1 ) ) {\n\t\ttmp = x1.match( reMatch );\n\t\tif ( tmp ) {\n\t\t\tif ( tmp[ 1 ] === '-' ) {\n\t\t\t\tx1 = len - 1 - parseInt( tmp[ 2 ], 10 );\n\t\t\t\tif ( x1 < 0 ) {\n\t\t\t\t\t// WARNING: forgive the user for exceeding the range bounds...\n\t\t\t\t\tx1 = 0;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tx1 = (len-1) / parseInt( tmp[ 2 ], 10 );\n\t\t\t\tx1 = Math.ceil( x1 );\n\t\t\t}\n\t\t} else {\n\t\t\tx1 = len - 1;\n\t\t}\n\t} else {\n\t\tx1 = parseInt( x1, 10 );\n\n\t\t// Handle empty index...\n\t\tif ( x1 !== x1 ) {\n\t\t\t// :-?\\d*:-?\\d+\n\t\t\tif ( inc < 0 ) {\n\t\t\t\t// Max index:\n\t\t\t\tx1 = len - 1;\n\t\t\t} else {\n\t\t\t\t// Min index:\n\t\t\t\tx1 = 0;\n\t\t\t}\n\t\t}\n\t\t// Handle negative index...\n\t\telse if ( x1 < 0 ) {\n\t\t\tx1 = len + x1; // len-x1\n\t\t\tif ( x1 < 0 ) {\n\t\t\t\t// WARNING: forgive the user for exceeding index bounds...\n\t\t\t\tx1 = 0;\n\t\t\t}\n\t\t}\n\t\t// Handle exceeding bounds...\n\t\telse if ( x1 >= len ) {\n\t\t\treturn [];\n\t\t}\n\t}\n\n\t// END //\n\n\t// NOTE: here, we determine an inclusive `end` value; i.e., the last acceptable index value.\n\n\t// Handle use of 'end' keyword...\n\tif ( reEnd.test( x2 ) ) {\n\t\ttmp = x2.match( reMatch );\n\t\tif ( tmp ) {\n\t\t\tif ( tmp[ 1 ] === '-' ) {\n\t\t\t\tx2 = len - 1 - parseInt( tmp[ 2 ], 10 );\n\t\t\t\tif ( x2 < 0 ) {\n\t\t\t\t\t// WARNING: forgive the user for exceeding the range bounds...\n\t\t\t\t\tx2 = 0;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tx2 = (len-1) / parseInt( tmp[ 2 ], 10 );\n\t\t\t\tx2 = Math.ceil( x2 ) - 1;\n\t\t\t}\n\t\t} else {\n\t\t\tx2 = len - 1;\n\t\t}\n\t} else {\n\t\tx2 = parseInt( x2, 10 );\n\n\t\t// Handle empty index...\n\t\tif ( x2 !== x2 ) {\n\t\t\t// -?\\d*::-?\\d+\n\t\t\tif ( inc < 0 ) {\n\t\t\t\t// Min index:\n\t\t\t\tx2 = 0;\n\t\t\t} else {\n\t\t\t\t// Max index:\n\t\t\t\tx2 = len - 1;\n\t\t\t}\n\t\t}\n\t\t// Handle negative index...\n\t\telse if ( x2 < 0 ) {\n\t\t\tx2 = len + x2; // len-x2\n\t\t\tif ( x2 < 0 ) {\n\t\t\t\t// WARNING: forgive the user for exceeding index bounds...\n\t\t\t\tx2 = 0;\n\t\t\t}\n\t\t\tif ( inc > 0 ) {\n\t\t\t\tx2 = x2 - 1;\n\t\t\t}\n\t\t}\n\t\t// Handle positive index...\n\t\telse {\n\t\t\tif ( inc < 0 ) {\n\t\t\t\tx2 = x2 + 1;\n\t\t\t}\n\t\t\telse if ( x2 >= len ) {\n\t\t\t\tx2 = len - 1;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tx2 = x2 - 1;\n\t\t\t}\n\t\t}\n\t}\n\n\t// INDICES //\n\n\tarr = [];\n\tif ( inc < 0 ) {\n\t\tif ( x2 > x1 ) {\n\t\t\treturn arr;\n\t\t}\n\t\twhile ( x1 >= x2 ) {\n\t\t\tarr.push( x1 );\n\t\t\tx1 += inc;\n\t\t}\n\t} else {\n\t\tif ( x1 > x2 ) {\n\t\t\treturn arr;\n\t\t}\n\t\twhile ( x1 <= x2 ) {\n\t\t\tarr.push( x1 );\n\t\t\tx1 += inc;\n\t\t}\n\t}\n\treturn arr;\n} // end FUNCTION indexspace()\n\n\n// EXPORTS //\n\nmodule.exports = indexspace;\n","'use strict';\n\n// MODULES //\n\nvar isString = require( 'validate.io-string-primitive' ),\n\tisNumber = require( 'validate.io-number-primitive' ),\n\tisFunction = require( 'validate.io-function' ),\n\tispace = require( 'compute-indexspace' );\n\n\n// SUBSEQUENCE SET //\n\n/**\n* FUNCTION: sset( subsequence, value[, thisArg] )\n*\tSets matrix elements according to a specified subsequence.\n*\n* @param {String} subsequence - subsequence string\n* @param {Number|Matrix|Function} value - either a single numeric value, a matrix containing the values to set, or a function which returns a numeric value\n* @param {Object} [thisArg] - `this` context when executing a callback\n* @returns {Matrix} Matrix instance\n*/\nfunction sset( seq, val, thisArg ) {\n\t/* jshint validthis: true */\n\tvar nRows,\n\t\tnCols,\n\t\tclbk,\n\t\trows,\n\t\tcols,\n\t\tseqs,\n\t\tmat,\n\t\tctx,\n\t\ts0, s1, s2, s3,\n\t\to0, o1,\n\t\tr0, r1,\n\t\ti, j, k;\n\n\tif ( !isString( seq ) ) {\n\t\tthrow new TypeError( 'invalid input argument. Must provide a string primitive. Value: `' + seq + '`.' );\n\t}\n\tseqs = seq.split( ',' );\n\tif ( seqs.length !== 2 ) {\n\t\tthrow new Error( 'invalid input argument. Subsequence string must specify row and column subsequences. Value: `' + seq + '`.' );\n\t}\n\tif ( isFunction( val ) ) {\n\t\tclbk = val;\n\t}\n\telse if ( !isNumber( val ) ) {\n\t\tmat = val;\n\t}\n\trows = ispace( seqs[ 0 ], this.shape[ 0 ] );\n\tcols = ispace( seqs[ 1 ], this.shape[ 1 ] );\n\n\tnRows = rows.length;\n\tnCols = cols.length;\n\n\tif ( !( nRows && nCols ) ) {\n\t\treturn this;\n\t}\n\ts0 = this.strides[ 0 ];\n\ts1 = this.strides[ 1 ];\n\to0 = this.offset;\n\n\t// Callback...\n\tif ( clbk ) {\n\t\tif ( arguments.length > 2 ) {\n\t\t\tctx = thisArg;\n\t\t} else {\n\t\t\tctx = this;\n\t\t}\n\t\tfor ( i = 0; i < nRows; i++ ) {\n\t\t\tr0 = o0 + rows[i]*s0;\n\t\t\tfor ( j = 0; j < nCols; j++ ) {\n\t\t\t\tk = r0 + cols[j]*s1;\n\t\t\t\tthis.data[ k ] = clbk.call( ctx, this.data[ k ], rows[i], cols[j], k );\n\t\t\t}\n\t\t}\n\t}\n\t// Input matrix...\n\telse if ( mat ) {\n\t\tif ( nRows !== mat.shape[ 0 ] ) {\n\t\t\tthrow new Error( 'invalid input arguments. Row subsequence does not match input matrix dimensions. Expected a [' + nRows + ',' + nCols + '] matrix and instead received a [' + mat.shape.join( ',' ) + '] matrix.' );\n\t\t}\n\t\tif ( nCols !== mat.shape[ 1 ] ) {\n\t\t\tthrow new Error( 'invalid input arguments. Column subsequence does not match input matrix dimensions. Expected a [' + nRows + ',' + nCols + '] matrix and instead received a [' + mat.shape.join( ',' ) + '] matrix.' );\n\t\t}\n\t\ts2 = mat.strides[ 0 ];\n\t\ts3 = mat.strides[ 1 ];\n\t\to1 = mat.offset;\n\t\tfor ( i = 0; i < nRows; i++ ) {\n\t\t\tr0 = o0 + rows[i]*s0;\n\t\t\tr1 = o1 + i*s2;\n\t\t\tfor ( j = 0; j < nCols; j++ ) {\n\t\t\t\tthis.data[ r0 + cols[j]*s1 ] = mat.data[ r1 + j*s3 ];\n\t\t\t}\n\t\t}\n\t}\n\t// Single numeric value...\n\telse {\n\t\tfor ( i = 0; i < nRows; i++ ) {\n\t\t\tr0 = o0 + rows[i]*s0;\n\t\t\tfor ( j = 0; j < nCols; j++ ) {\n\t\t\t\tthis.data[ r0 + cols[j]*s1 ] = val;\n\t\t\t}\n\t\t}\n\t}\n\treturn this;\n} // end FUNCTION sset()\n\n\n// EXPORTS //\n\nmodule.exports = sset;\n","'use strict';\n\n// MODULES //\n\nvar isNonNegativeInteger = require( 'validate.io-nonnegative-integer' );\n\n\n// GET //\n\n/**\n* FUNCTION: get( i, j )\n*\tReturns a matrix element based on the provided row and column indices.\n*\n* @param {Number} i - row index\n* @param {Number} j - column index\n* @returns {Number|Undefined} matrix element\n*/\nfunction get( i, j ) {\n\t/*jshint validthis:true */\n\tif ( !isNonNegativeInteger( i ) || !isNonNegativeInteger( j ) ) {\n\t\tthrow new TypeError( 'invalid input argument. Indices must be nonnegative integers. Values: `[' + i + ','+ j + ']`.' );\n\t}\n\treturn this.data[ this.offset + i*this.strides[0] + j*this.strides[1] ];\n} // end FUNCTION get()\n\n\n// EXPORTS //\n\nmodule.exports = get;\n","'use strict';\n\n// MODULES //\n\nvar isInteger = require( 'validate.io-integer-primitive' );\n\n\n// IGET //\n\n/**\n* FUNCTION: iget( idx )\n*\tReturns a matrix element located at a specified index.\n*\n* @param {Number} idx - linear index\n* @returns {Number|Undefined} matrix element\n*/\nfunction iget( idx ) {\n\t/*jshint validthis:true */\n\tvar r, j;\n\tif ( !isInteger( idx ) ) {\n\t\tthrow new TypeError( 'invalid input argument. Must provide a integer. Value: `' + idx + '`.' );\n\t}\n\tif ( idx < 0 ) {\n\t\tidx += this.length;\n\t\tif ( idx < 0 ) {\n\t\t\treturn;\n\t\t}\n\t}\n\tj = idx % this.strides[ 0 ];\n\tr = idx - j;\n\tif ( this.strides[ 0 ] < 0 ) {\n\t\tr = -r;\n\t}\n\treturn this.data[ this.offset + r + j*this.strides[1] ];\n} // end FUNCTION iget()\n\n\n// EXPORTS //\n\nmodule.exports = iget;\n","'use strict';\n\n// BASE TYPES //\n\nvar BTYPES = {\n\t'int8': Int8Array,\n\t'uint8': Uint8Array,\n\t'uint8_clamped': Uint8ClampedArray,\n\t'int16': Int16Array,\n\t'uint16': Uint16Array,\n\t'int32': Int32Array,\n\t'uint32': Uint32Array,\n\t'float32': Float32Array,\n\t'float64': Float64Array\n};\n\n\n// EXPORTS //\n\nmodule.exports = BTYPES;\n","'use strict';\n\n// MODULES //\n\nvar isNonNegativeIntegerArray = require( 'validate.io-nonnegative-integer-array' );\n\n\n// VARIABLES //\n\nvar BTYPES = require( './btypes.js' );\n\n\n// MGET //\n\n/**\n* FUNCTION: mget( i[, j] )\n*\tReturns multiple matrix elements. If provided a single argument, `i` is treated as an array of linear indices.\n*\n* @param {Number[]|Null} i - linear/row indices\n* @param {Number[]|Null} [j] - column indices\n* @returns {Matrix} a new Matrix instance\n*/\nfunction mget( rows, cols ) {\n\t/*jshint validthis:true */\n\tvar nRows,\n\t\tnCols,\n\t\tout,\n\t\tsgn,\n\t\td,\n\t\ts0, s1, s2, s3,\n\t\to,\n\t\tr, dr,\n\t\ti, j, m, n;\n\n\ts0 = this.strides[ 0 ];\n\ts1 = this.strides[ 1 ];\n\to = this.offset;\n\n\tif ( arguments.length < 2 ) {\n\t\tif ( !isNonNegativeIntegerArray( rows ) ) {\n\t\t\tthrow new TypeError( 'invalid input argument. Linear indices must be specified as a nonnegative integer array. Value: `' + rows + '`.' );\n\t\t}\n\t\t// Filter the input indices to ensure within bounds...\n\t\ti = [];\n\t\tfor ( n = 0; n < rows.length; n++ ) {\n\t\t\tif ( rows[ n ] < this.length ) {\n\t\t\t\ti.push( rows[ n ] );\n\t\t\t}\n\t\t}\n\t\tm = i.length;\n\n\t\t// Create a row vector (matrix):\n\t\td = new BTYPES[ this.dtype ]( m );\n\t\tout = new this.constructor( d, this.dtype, [1,m], 0, [m,1] );\n\n\t\tsgn = ( s0 < 0 ) ? -1 : 1;\n\t\tfor ( n = 0; n < m; n++ ) {\n\t\t\tj = i[ n ] % s0;\n\t\t\tr = sgn * ( i[n] - j );\n\t\t\td[ n ] = this.data[ o + r + j*s1 ];\n\t\t}\n\t} else {\n\t\tnRows = this.shape[ 0 ];\n\t\tif ( rows === null ) {\n\t\t\ti = new Array( nRows );\n\t\t\tfor ( n = 0; n < nRows; n++ ) {\n\t\t\t\ti[ n ] = n;\n\t\t\t}\n\t\t}\n\t\telse if ( isNonNegativeIntegerArray( rows ) ) {\n\t\t\ti = [];\n\t\t\tfor ( n = 0; n < rows.length; n++ ) {\n\t\t\t\tif ( rows[ n ] < nRows ) {\n\t\t\t\t\ti.push( rows[ n ] );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tthrow new TypeError( 'invalid input argument. Row indices must be specified as a nonnegative integer array. Value: `' + rows + '`.' );\n\t\t}\n\n\t\tnCols = this.shape[ 1 ];\n\t\tif ( cols === null ) {\n\t\t\tj = new Array( nCols );\n\t\t\tfor ( n = 0; n < nCols; n++ ) {\n\t\t\t\tj[ n ] = n;\n\t\t\t}\n\t\t}\n\t\telse if ( isNonNegativeIntegerArray( cols ) ) {\n\t\t\tj = [];\n\t\t\tfor ( n = 0; n < cols.length; n++ ) {\n\t\t\t\tif ( cols[ n ] < nCols ) {\n\t\t\t\t\tj.push( cols[ n ] );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tthrow new TypeError( 'invalid input argument. Column indices must be specified as a nonnegative integer array. Value: `' + cols + '`.' );\n\t\t}\n\t\tnRows = i.length;\n\t\tnCols = j.length;\n\n\t\td = new BTYPES[ this.dtype ]( nRows*nCols );\n\t\tout = new this.constructor( d, this.dtype, [nRows,nCols], 0, [nCols,1]);\n\n\t\ts2 = out.strides[ 0 ];\n\t\ts3 = out.strides[ 1 ];\n\t\tfor ( m = 0; m < nRows; m++ ) {\n\t\t\tr = o + i[m]*s0;\n\t\t\tdr = m * s2;\n\t\t\tfor ( n = 0; n < nCols; n++ ) {\n\t\t\t\td[ dr + n*s3 ] = this.data[ r + j[n]*s1 ];\n\t\t\t}\n\t\t}\n\t}\n\treturn out;\n} // end FUNCTION mget()\n\n\n// EXPORTS //\n\nmodule.exports = mget;\n","'use strict';\n\n// MODULES //\n\nvar isString = require( 'validate.io-string-primitive' ),\n\tispace = require( 'compute-indexspace' );\n\n\n// VARIABLES //\n\nvar BTYPES = require( './btypes.js' );\n\n\n// SUBSEQUENCE GET //\n\n/**\n* FUNCTION: sget( subsequence )\n*\tReturns matrix elements according to a specified subsequence.\n*\n* @param {String} subsequence - subsequence string\n* @returns {Matrix} Matrix instance\n*/\nfunction sget( seq ) {\n\t/*jshint validthis:true */\n\tvar nRows,\n\t\tnCols,\n\t\trows,\n\t\tcols,\n\t\tseqs,\n\t\tmat,\n\t\tlen,\n\t\ts0, s1,\n\t\to,\n\t\td,\n\t\tr, dr,\n\t\ti, j;\n\n\tif ( !isString( seq ) ) {\n\t\tthrow new TypeError( 'invalid input argument. Must provide a string primitive. Value: `' + seq + '`.' );\n\t}\n\tseqs = seq.split( ',' );\n\tif ( seqs.length !== 2 ) {\n\t\tthrow new Error( 'invalid input argument. Subsequence string must specify row and column subsequences. Value: `' + seq + '`.' );\n\t}\n\trows = ispace( seqs[ 0 ], this.shape[ 0 ] );\n\tcols = ispace( seqs[ 1 ], this.shape[ 1 ] );\n\n\tnRows = rows.length;\n\tnCols = cols.length;\n\tlen = nRows * nCols;\n\n\td = new BTYPES[ this.dtype ]( len );\n\tmat = new this.constructor( d, this.dtype, [nRows,nCols], 0, [nCols,1] );\n\n\tif ( len ) {\n\t\ts0 = this.strides[ 0 ];\n\t\ts1 = this.strides[ 1 ];\n\t\to = this.offset;\n\t\tfor ( i = 0; i < nRows; i++ ) {\n\t\t\tr = o + rows[i]*s0;\n\t\t\tdr = i * nCols;\n\t\t\tfor ( j = 0; j < nCols; j++ ) {\n\t\t\t\td[ dr + j ] = this.data[ r + cols[j]*s1 ];\n\t\t\t}\n\t\t}\n\t}\n\treturn mat;\n} // end FUNCTION sget()\n\n\n// EXPORTS //\n\nmodule.exports = sget;\n","'use strict';\n\n/**\n* FUNCTION: toString()\n*\tReturns a string representation of Matrix elements. Rows are delineated by semicolons. Column values are comma-delimited.\n*\n* @returns {String} string representation\n*/\nfunction toString() {\n\t/* jshint validthis: true */\n\tvar nRows = this.shape[ 0 ],\n\t\tnCols = this.shape[ 1 ],\n\t\ts0 = this.strides[ 0 ],\n\t\ts1 = this.strides[ 1 ],\n\t\tm = nRows - 1,\n\t\tn = nCols - 1,\n\t\tstr = '',\n\t\to,\n\t\ti, j;\n\n\tfor ( i = 0; i < nRows; i++ ) {\n\t\to = this.offset + i*s0;\n\t\tfor ( j = 0; j < nCols; j++ ) {\n\t\t\tstr += this.data[ o + j*s1 ];\n\t\t\tif ( j < n ) {\n\t\t\t\tstr += ',';\n\t\t\t}\n\t\t}\n\t\tif ( i < m ) {\n\t\t\tstr += ';';\n\t\t}\n\t}\n\treturn str;\n} // end FUNCTION toString()\n\n\n// EXPORTS //\n\nmodule.exports = toString;\n","'use strict';\n\n// EXPORTS //\n\nmodule.exports = Number.POSITIVE_INFINITY;\n","'use strict';\n\n/**\n* FUNCTION: isBuffer( value )\n*\tValidates if a value is a Buffer object.\n*\n* @param {*} value - value to validate\n* @returns {Boolean} boolean indicating if a value is a Buffer object\n*/\nfunction isBuffer( val ) {\n\treturn typeof val === 'object' &&\n\t\tval !== null &&\n\t\t(\n\t\t\tval._isBuffer || // for envs missing Object.prototype.constructor (e.g., Safari 5-7)\n\t\t\t(\n\t\t\t\tval.constructor &&\n\t\t\t\ttypeof val.constructor.isBuffer === 'function' &&\n\t\t\t\tval.constructor.isBuffer( val )\n\t\t\t)\n\t\t);\n} // end FUNCTION isBuffer()\n\n\n// EXPORTS //\n\nmodule.exports = isBuffer;\n","/**\n * type-name - Just a reasonable typeof\n *\n * https://github.com/twada/type-name\n *\n * Copyright (c) 2014-2016 Takuto Wada\n * Licensed under the MIT license.\n *   https://github.com/twada/type-name/blob/master/LICENSE\n */\n'use strict';\n\nvar toStr = Object.prototype.toString;\n\nfunction funcName (f) {\n    if (f.name) {\n        return f.name;\n    }\n    var match = /^\\s*function\\s*([^\\(]*)/im.exec(f.toString());\n    return match ? match[1] : '';\n}\n\nfunction ctorName (obj) {\n    var strName = toStr.call(obj).slice(8, -1);\n    if ((strName === 'Object' || strName === 'Error') && obj.constructor) {\n        return funcName(obj.constructor);\n    }\n    return strName;\n}\n\nfunction typeName (val) {\n    var type;\n    if (val === null) {\n        return 'null';\n    }\n    type = typeof val;\n    if (type === 'object') {\n        return ctorName(val);\n    }\n    return type;\n}\n\nmodule.exports = typeName;\n","'use strict';\n\nvar re = /^\\/((?:\\\\\\/|[^\\/])+)\\/([imgy]*)$/;\n/*\n\tMatches parts of a regular expression string.\n\n\t/^\\/\n\t\t-\tmatch a string that begins with a /\n\t()\n\t\t-\tcapture\n\t(?:)+\n\t\t-\tcapture, but do not remember, a group of characters which occur 1 or more times\n\t\\\\\\/\n\t\t-\tmatch the literal \\/\n\t|\n\t\t-\tOR\n\t[^\\/]\n\t\t-\tanything which is not the literal \\/\n\t\\/\n\t\t-\tmatch the literal /\n\t([imgy]*)\n\t\t-\tcapture any characters matching `imgy` occurring 0 or more times\n\t$/\n\t\t-\tstring end\n*/\n\n\n// EXPORTS //\n\nmodule.exports = re;\n","'use strict';\n\n// MODULES //\n\nvar isString = require( 'validate.io-string-primitive' ),\n\tRE = require( 'regex-regex' );\n\n\n// REGEX //\n\n/**\n* FUNCTION: regex( str )\n*\tParses a regular expression string and returns a new regular expression.\n*\n* @param {String} str - regular expression string\n* @returns {RegExp|Null} regular expression or null\n*/\nfunction regex( str ) {\n\tif ( !isString( str ) ) {\n\t\tthrow new TypeError( 'invalid input argument. Must provide a regular expression string. Value: `' + str + '`.' );\n\t}\n\t// Capture the regular expression pattern and any flags:\n\tstr = RE.exec( str );\n\n\t// Create a new regular expression:\n\treturn ( str ) ? new RegExp( str[1], str[2] ) : null;\n} // end FUNCTION regex()\n\n\n// EXPORTS //\n\nmodule.exports = regex;\n","'use strict';\n\nvar keysShim;\nif (!Object.keys) {\n\t// modified from https://github.com/es-shims/es5-shim\n\tvar has = Object.prototype.hasOwnProperty;\n\tvar toStr = Object.prototype.toString;\n\tvar isArgs = require('./isArguments'); // eslint-disable-line global-require\n\tvar isEnumerable = Object.prototype.propertyIsEnumerable;\n\tvar hasDontEnumBug = !isEnumerable.call({ toString: null }, 'toString');\n\tvar hasProtoEnumBug = isEnumerable.call(function () {}, 'prototype');\n\tvar dontEnums = [\n\t\t'toString',\n\t\t'toLocaleString',\n\t\t'valueOf',\n\t\t'hasOwnProperty',\n\t\t'isPrototypeOf',\n\t\t'propertyIsEnumerable',\n\t\t'constructor'\n\t];\n\tvar equalsConstructorPrototype = function (o) {\n\t\tvar ctor = o.constructor;\n\t\treturn ctor && ctor.prototype === o;\n\t};\n\tvar excludedKeys = {\n\t\t$applicationCache: true,\n\t\t$console: true,\n\t\t$external: true,\n\t\t$frame: true,\n\t\t$frameElement: true,\n\t\t$frames: true,\n\t\t$innerHeight: true,\n\t\t$innerWidth: true,\n\t\t$onmozfullscreenchange: true,\n\t\t$onmozfullscreenerror: true,\n\t\t$outerHeight: true,\n\t\t$outerWidth: true,\n\t\t$pageXOffset: true,\n\t\t$pageYOffset: true,\n\t\t$parent: true,\n\t\t$scrollLeft: true,\n\t\t$scrollTop: true,\n\t\t$scrollX: true,\n\t\t$scrollY: true,\n\t\t$self: true,\n\t\t$webkitIndexedDB: true,\n\t\t$webkitStorageInfo: true,\n\t\t$window: true\n\t};\n\tvar hasAutomationEqualityBug = (function () {\n\t\t/* global window */\n\t\tif (typeof window === 'undefined') { return false; }\n\t\tfor (var k in window) {\n\t\t\ttry {\n\t\t\t\tif (!excludedKeys['$' + k] && has.call(window, k) && window[k] !== null && typeof window[k] === 'object') {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tequalsConstructorPrototype(window[k]);\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}());\n\tvar equalsConstructorPrototypeIfNotBuggy = function (o) {\n\t\t/* global window */\n\t\tif (typeof window === 'undefined' || !hasAutomationEqualityBug) {\n\t\t\treturn equalsConstructorPrototype(o);\n\t\t}\n\t\ttry {\n\t\t\treturn equalsConstructorPrototype(o);\n\t\t} catch (e) {\n\t\t\treturn false;\n\t\t}\n\t};\n\n\tkeysShim = function keys(object) {\n\t\tvar isObject = object !== null && typeof object === 'object';\n\t\tvar isFunction = toStr.call(object) === '[object Function]';\n\t\tvar isArguments = isArgs(object);\n\t\tvar isString = isObject && toStr.call(object) === '[object String]';\n\t\tvar theKeys = [];\n\n\t\tif (!isObject && !isFunction && !isArguments) {\n\t\t\tthrow new TypeError('Object.keys called on a non-object');\n\t\t}\n\n\t\tvar skipProto = hasProtoEnumBug && isFunction;\n\t\tif (isString && object.length > 0 && !has.call(object, 0)) {\n\t\t\tfor (var i = 0; i < object.length; ++i) {\n\t\t\t\ttheKeys.push(String(i));\n\t\t\t}\n\t\t}\n\n\t\tif (isArguments && object.length > 0) {\n\t\t\tfor (var j = 0; j < object.length; ++j) {\n\t\t\t\ttheKeys.push(String(j));\n\t\t\t}\n\t\t} else {\n\t\t\tfor (var name in object) {\n\t\t\t\tif (!(skipProto && name === 'prototype') && has.call(object, name)) {\n\t\t\t\t\ttheKeys.push(String(name));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (hasDontEnumBug) {\n\t\t\tvar skipConstructor = equalsConstructorPrototypeIfNotBuggy(object);\n\n\t\t\tfor (var k = 0; k < dontEnums.length; ++k) {\n\t\t\t\tif (!(skipConstructor && dontEnums[k] === 'constructor') && has.call(object, dontEnums[k])) {\n\t\t\t\t\ttheKeys.push(dontEnums[k]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn theKeys;\n\t};\n}\nmodule.exports = keysShim;\n","'use strict';\n\nvar toStr = Object.prototype.toString;\n\nmodule.exports = function isArguments(value) {\n\tvar str = toStr.call(value);\n\tvar isArgs = str === '[object Arguments]';\n\tif (!isArgs) {\n\t\tisArgs = str !== '[object Array]' &&\n\t\t\tvalue !== null &&\n\t\t\ttypeof value === 'object' &&\n\t\t\ttypeof value.length === 'number' &&\n\t\t\tvalue.length >= 0 &&\n\t\t\ttoStr.call(value.callee) === '[object Function]';\n\t}\n\treturn isArgs;\n};\n","'use strict';\n\nvar slice = Array.prototype.slice;\nvar isArgs = require('./isArguments');\n\nvar origKeys = Object.keys;\nvar keysShim = origKeys ? function keys(o) { return origKeys(o); } : require('./implementation');\n\nvar originalKeys = Object.keys;\n\nkeysShim.shim = function shimObjectKeys() {\n\tif (Object.keys) {\n\t\tvar keysWorksWithArguments = (function () {\n\t\t\t// Safari 5.0 bug\n\t\t\tvar args = Object.keys(arguments);\n\t\t\treturn args && args.length === arguments.length;\n\t\t}(1, 2));\n\t\tif (!keysWorksWithArguments) {\n\t\t\tObject.keys = function keys(object) { // eslint-disable-line func-name-matching\n\t\t\t\tif (isArgs(object)) {\n\t\t\t\t\treturn originalKeys(slice.call(object));\n\t\t\t\t}\n\t\t\t\treturn originalKeys(object);\n\t\t\t};\n\t\t}\n\t} else {\n\t\tObject.keys = keysShim;\n\t}\n\treturn Object.keys || keysShim;\n};\n\nmodule.exports = keysShim;\n","'use strict';\n\n// MODULES //\n\nvar deepCopy = require( 'utils-copy' );\nvar getKeys = require( 'object-keys' ).shim();\n\n\n// COPY ERROR //\n\n/**\n* FUNCTION: copy( error )\n*\tCopies an error.\n*\n* @param {Error|TypeError|SyntaxError|URIError|ReferenceError|RangeError|RangeError|EvalError} error - error to copy\n* @returns {Error|TypeError|SyntaxError|URIError|ReferenceError|RangeError|RangeError|EvalError} error copy\n*/\nfunction copy( error ) {\n\t/* jshint newcap:false */\n\tvar keys;\n\tvar desc;\n\tvar key;\n\tvar err;\n\tvar i;\n\tif ( !( error instanceof Error ) ) {\n\t\tthrow new TypeError( 'invalid input argument. Must provide an error object. Value: `' + error + '`.' );\n\t}\n\t// Create a new error...\n\terr = new error.constructor( error.message );\n\n\t// If a `stack` property is present, copy it over...\n\tif ( error.stack ) {\n\t\terr.stack = error.stack;\n\t}\n\t// Node.js specific (system errors)...\n\tif ( error.code ) {\n\t\terr.code = error.code;\n\t}\n\tif ( error.errno ) {\n\t\terr.errno = error.errno;\n\t}\n\tif ( error.syscall ) {\n\t\terr.syscall = error.syscall;\n\t}\n\t// Any enumerable properties...\n\tkeys = getKeys( error );\n\tfor ( i = 0; i < keys.length; i++ ) {\n\t\tkey = keys[ i ];\n\t\tdesc = Object.getOwnPropertyDescriptor( error, key );\n\t\tif ( desc.hasOwnProperty( 'value' ) ) {\n\t\t\tdesc.value = deepCopy( error[ key ] );\n\t\t}\n\t\tObject.defineProperty( err, key, desc );\n\t}\n\treturn err;\n} // end FUNCTION copy()\n\n\n// EXPORTS //\n\nmodule.exports = copy;\n","'use strict';\n\n// MODULES //\n\nvar isArrayLike = require( 'validate.io-array-like' );\nvar isInteger = require( 'validate.io-integer-primitive' );\n\n\n// INDEXOF //\n\n/**\n* FUNCTION: indexOf( arr, searchElement[, fromIndex] )\n*\tReturns the first index at which a given element can be found.\n*\n* @param {Array|String|Object} arr - array-like object\n* @param {*} searchElement - element to find\n* @param {Number} [fromIndex] - starting index (if negative, the start index is determined relative to last element)\n* @returns {Number} index or -1\n*/\nfunction indexOf( arr, searchElement, fromIndex ) {\n\tvar len;\n\tvar i;\n\tif ( !isArrayLike( arr ) ) {\n\t\tthrow new TypeError( 'invalid input argument. First argument must be an array-like object. Value: `' + arr + '`.' );\n\t}\n\tlen = arr.length;\n\tif ( len === 0 ) {\n\t\treturn -1;\n\t}\n\tif ( arguments.length === 3 ) {\n\t\tif ( !isInteger( fromIndex ) ) {\n\t\t\tthrow new TypeError( 'invalid input argument. `fromIndex` must be an integer. Value: `' + fromIndex + '`.' );\n\t\t}\n\t\tif ( fromIndex >= 0 ) {\n\t\t\tif ( fromIndex >= len ) {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t\ti = fromIndex;\n\t\t} else {\n\t\t\ti = len + fromIndex;\n\t\t\tif ( i < 0 ) {\n\t\t\t\ti = 0;\n\t\t\t}\n\t\t}\n\t} else {\n\t\ti = 0;\n\t}\n\tif ( searchElement !== searchElement ) { // check for NaN\n\t\tfor ( ; i < len; i++ ) {\n\t\t\tif ( arr[ i ] !== arr[ i ] ) {\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\t} else {\n\t\tfor ( ; i < len; i++ ) {\n\t\t\tif ( arr[ i ] === searchElement ) {\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\t}\n\treturn -1;\n} // end FUNCTION indexOf()\n\n\n// EXPORTS //\n\nmodule.exports = indexOf;\n","'use strict';\n\n// MODULES //\n\nvar objectKeys = require( 'object-keys' );\n\n\n// TYPED ARRAY FUNCTIONS //\n\n/**\n* Create functions for copying typed arrays.\n*/\nvar typedArrays = {\n\t'Int8Array': null,\n\t'Uint8Array': null,\n\t'Uint8ClampedArray': null,\n\t'Int16Array': null,\n\t'Uint16Array': null,\n\t'Int32Array': null,\n\t'Uint32Array': null,\n\t'Float32Array': null,\n\t'Float64Array': null\n};\n\n(function createTypedArrayFcns() {\n\t/* jshint evil:true */\n\tvar keys = objectKeys( typedArrays );\n\tvar len = keys.length;\n\tvar key;\n\tvar i;\n\tfor ( i = 0; i < len; i++ ) {\n\t\tkey = keys[ i ];\n\t\ttypedArrays[ key ] = new Function( 'arr', 'return new '+key+'( arr );' );\n\t}\n})();\n\n\n// EXPORTS //\n\nmodule.exports = typedArrays;\n","'use strict';\n\n// MODULES //\n\nvar isArray = require( 'validate.io-array' );\nvar isBuffer = require( 'validate.io-buffer' );\nvar typeName = require( 'type-name' );\nvar regex = require( 'utils-regex-from-string' );\nvar copyError = require( 'utils-copy-error' );\nvar indexOf = require( 'utils-indexof' );\nvar objectKeys = require( 'object-keys' );\nvar typedArrays = require( './typedarrays.js' );\n\n\n// FUNCTIONS //\n\n/**\n* FUNCTION: cloneInstance( val )\n*\tClones a class instance.\n*\n*\tWARNING: this should only be used for simple cases. Any instances with privileged access to variables (e.g., within closures) cannot be cloned. This approach should be considered fragile.\n*\n*\tNOTE: the function is greedy, disregarding the notion of a 'level'. Instead, the function deep copies all properties, as we assume the concept of 'level' applies only to the class instance reference but not to its internal state. This prevents, in theory, two instances from sharing state.\n*\n* @private\n* @param {Object} val - class instance\n* @returns {Object} new instance\n*/\nfunction cloneInstance( val ) {\n\tvar cache = [];\n\tvar refs = [];\n\tvar names;\n\tvar name;\n\tvar desc;\n\tvar tmp;\n\tvar ref;\n\tvar i;\n\n\tref = Object.create( Object.getPrototypeOf( val ) );\n\tcache.push( val );\n\trefs.push( ref );\n\n\tnames = Object.getOwnPropertyNames( val );\n\tfor ( i = 0; i < names.length; i++ ) {\n\t\tname = names[ i ];\n\t\tdesc = Object.getOwnPropertyDescriptor( val, name );\n\t\tif ( desc.hasOwnProperty( 'value' ) ) {\n\t\t\ttmp = ( isArray( val[name] ) ) ? [] : {};\n\t\t\tdesc.value = deepCopy( val[name], tmp, cache, refs, -1 );\n\t\t}\n\t\tObject.defineProperty( ref, name, desc );\n\t}\n\tif ( !Object.isExtensible( val ) ) {\n\t\tObject.preventExtensions( ref );\n\t}\n\tif ( Object.isSealed( val ) ) {\n\t\tObject.seal( ref );\n\t}\n\tif ( Object.isFrozen( val ) ) {\n\t\tObject.freeze( ref );\n\t}\n\treturn ref;\n} // end FUNCTION cloneInstance()\n\n\n// DEEP COPY //\n\n/**\n* FUNCTION: deepCopy( val, copy, cache, refs, level )\n*\tRecursively performs a deep copy of an input object.\n*\n* @private\n* @param {Array|Object} val - value to copy\n* @param {Array|Object} copy - copy\n* @param {Array} cache - an array of visited objects\n* @param {Array} refs - an array of object references\n* @param {Number} level - copy depth\n* @returns {*} deep copy\n*/\nfunction deepCopy( val, copy, cache, refs, level ) {\n\tvar parent;\n\tvar keys;\n\tvar name;\n\tvar desc;\n\tvar ctor;\n\tvar key;\n\tvar ref;\n\tvar x;\n\tvar i;\n\tvar j;\n\n\tlevel = level - 1;\n\n\t// Primitives and functions...\n\tif (\n\t\ttypeof val !== 'object' ||\n\t\tval === null\n\t) {\n\t\treturn val;\n\t}\n\tif ( isBuffer( val ) ) {\n\t\treturn new Buffer( val );\n\t}\n\tif ( val instanceof Error ) {\n\t\treturn copyError( val );\n\t}\n\t// Objects...\n\tname = typeName( val );\n\n\tif ( name === 'Date' ) {\n\t\treturn new Date( +val );\n\t}\n\tif ( name === 'RegExp' ) {\n\t\treturn regex( val.toString() );\n\t}\n\tif ( name === 'Set' ) {\n\t\treturn new Set( val );\n\t}\n\tif ( name === 'Map' ) {\n\t\treturn new Map( val );\n\t}\n\tif (\n\t\tname === 'String' ||\n\t\tname === 'Boolean' ||\n\t\tname === 'Number'\n\t) {\n\t\t// Return an equivalent primitive!\n\t\treturn val.valueOf();\n\t}\n\tctor = typedArrays[ name ];\n\tif ( ctor ) {\n\t\treturn ctor( val );\n\t}\n\t// Class instances...\n\tif (\n\t\tname !== 'Array' &&\n\t\tname !== 'Object'\n\t) {\n\t\t// Cloning requires ES5 or higher...\n\t\tif ( typeof Object.freeze === 'function' ) {\n\t\t\treturn cloneInstance( val );\n\t\t}\n\t\treturn {};\n\t}\n\t// Arrays and plain objects...\n\tkeys = objectKeys( val );\n\tif ( level > 0 ) {\n\t\tparent = name;\n\t\tfor ( j = 0; j < keys.length; j++ ) {\n\t\t\tkey = keys[ j ];\n\t\t\tx = val[ key ];\n\n\t\t\t// Primitive, Buffer, special class instance...\n\t\t\tname = typeName( x );\n\t\t\tif (\n\t\t\t\ttypeof x !== 'object' ||\n\t\t\t\tx === null ||\n\t\t\t\t(\n\t\t\t\t\tname !== 'Array' &&\n\t\t\t\t\tname !== 'Object'\n\t\t\t\t) ||\n\t\t\t\tisBuffer( x )\n\t\t\t) {\n\t\t\t\tif ( parent === 'Object' ) {\n\t\t\t\t\tdesc = Object.getOwnPropertyDescriptor( val, key );\n\t\t\t\t\tif ( desc.hasOwnProperty( 'value' ) ) {\n\t\t\t\t\t\tdesc.value = deepCopy( x );\n\t\t\t\t\t}\n\t\t\t\t\tObject.defineProperty( copy, key, desc );\n\t\t\t\t} else {\n\t\t\t\t\tcopy[ key ] = deepCopy( x );\n\t\t\t\t}\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\t// Circular reference...\n\t\t\ti = indexOf( cache, x );\n\t\t\tif ( i !== -1 ) {\n\t\t\t\tcopy[ key ] = refs[ i ];\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\t// Plain array or object...\n\t\t\tref = ( isArray(x) ) ? [] : {};\n\t\t\tcache.push( x );\n\t\t\trefs.push( ref );\n\t\t\tif ( parent === 'Array' ) {\n\t\t\t\tcopy[ key ] = deepCopy( x, ref, cache, refs, level );\n\t\t\t} else {\n\t\t\t\tdesc = Object.getOwnPropertyDescriptor( val, key );\n\t\t\t\tif ( desc.hasOwnProperty( 'value' ) ) {\n\t\t\t\t\tdesc.value = deepCopy( x, ref, cache, refs, level );\n\t\t\t\t}\n\t\t\t\tObject.defineProperty( copy, key, desc );\n\t\t\t}\n\t\t}\n\t} else {\n\t\tif ( name === 'Array' ) {\n\t\t\tfor ( j = 0; j < keys.length; j++ ) {\n\t\t\t\tkey = keys[ j ];\n\t\t\t\tcopy[ key ] = val[ key ];\n\t\t\t}\n\t\t} else {\n\t\t\tfor ( j = 0; j < keys.length; j++ ) {\n\t\t\t\tkey = keys[ j ];\n\t\t\t\tdesc = Object.getOwnPropertyDescriptor( val, key );\n\t\t\t\tObject.defineProperty( copy, key, desc );\n\t\t\t}\n\t\t}\n\t}\n\tif ( !Object.isExtensible( val ) ) {\n\t\tObject.preventExtensions( copy );\n\t}\n\tif ( Object.isSealed( val ) ) {\n\t\tObject.seal( copy );\n\t}\n\tif ( Object.isFrozen( val ) ) {\n\t\tObject.freeze( copy );\n\t}\n\treturn copy;\n} // end FUNCTION deepCopy()\n\n\n// EXPORTS //\n\nmodule.exports = deepCopy;\n","'use strict';\n\n// MODULES //\n\nvar isArray = require( 'validate.io-array' );\nvar isNonNegativeInteger = require( 'validate.io-nonnegative-integer' );\nvar PINF = require( 'const-pinf-float64' );\nvar deepCopy = require( './deepcopy.js' );\n\n\n// COPY //\n\n/**\n* FUNCTION: createCopy( value[, level] )\n*\tCopy or deep clone a value to an arbitrary depth.\n*\n* @param {*} value - value to be copied\n* @param {Number} [level=+infinity] - option to control copy depth. For example, set to `0` for a shallow copy. Default behavior returns a full deep copy.\n* @returns {*} copy\n*/\nfunction createCopy( val, level ) {\n\tvar copy;\n\tif ( arguments.length > 1 ) {\n\t\tif ( !isNonNegativeInteger( level ) ) {\n\t\t\tthrow new TypeError( 'invalid input argument. Level must be a nonnegative integer. Value: `' + level + '`.' );\n\t\t}\n\t\tif ( level === 0 ) {\n\t\t\treturn val;\n\t\t}\n\t} else {\n\t\tlevel = PINF;\n\t}\n\tcopy = ( isArray(val) ) ? [] : {};\n\treturn deepCopy( val, copy, [val], [copy], level );\n} // end FUNCTION createCopy()\n\n\n// EXPORTS //\n\nmodule.exports = createCopy;\n","'use strict';\n\n// MODULES //\n\nvar cast = require( 'dstructs-cast-arrays' ),\n\tcopy = require( 'utils-copy' );\n\n\n// TOJSON //\n\n/**\n* FUNCTION: toJSON()\n*\tReturns a JSON representation of a Matrix.\n*\n* @returns {Object} JSON representation\n*/\nfunction toJSON() {\n\t/* jshint validthis: true */\n\tvar prop,\n\t\tout;\n\n\t// Build an object containing all Matrix properties needed to revive a serialized Matrix...\n\tout = {};\n\tout.type = 'Matrix';\n\tout.dtype = this.dtype;\n\tout.shape = copy( this.shape );\n\tout.offset = this.offset;\n\tout.strides = copy( this.strides );\n\n\tprop = Object.getOwnPropertyDescriptor( this, 'data' );\n\tout.raw = prop.writable && prop.configurable && prop.enumerable;\n\n\t// Cast data to a generic array:\n\tout.data = cast( this.data, 'generic' );\n\n\treturn out;\n} // end FUNCTION toJSON()\n\n\n// EXPORTS //\n\nmodule.exports = toJSON;\n","'use strict';\n\n// MATRIX //\n\n/**\n* FUNCTION: Matrix( data, dtype, shape, offset, strides )\n*\tMatrix constructor.\n*\n* @constructor\n* @param {Int8Array|Uint8Array|Uint8ClampedArray|Int16Array|Uint16Array|Int32Array|Uint32Array|Float32Array|Float64Array} data - input typed array\n* @param {String} dtype - matrix data type\n* @param {Number[]} shape - matrix dimensions/shape\n* @param {Number} offset - matrix offset\n* @param {Number[]} strides - matrix strides\n* @returns {Matrix} Matrix instance\n*/\nfunction Matrix( data, dtype, shape, offset, strides ) {\n\tif ( !( this instanceof Matrix ) ) {\n\t\treturn new Matrix( data, dtype, shape, offset, strides );\n\t}\n\t// Underlying data type:\n\tObject.defineProperty( this, 'dtype', {\n\t\t'value': dtype,\n\t\t'configurable': false,\n\t\t'enumerable': true,\n\t\t'writable': false\n\t});\n\n\t// Matrix dimensions:\n\tObject.defineProperty( this, 'shape', {\n\t\t'value': shape,\n\t\t'configurable': false,\n\t\t'enumerable': true,\n\t\t'writable': false\n\t});\n\n\t// Matrix strides:\n\tObject.defineProperty( this, 'strides', {\n\t\t'value': strides,\n\t\t'configurable': false,\n\t\t'enumerable': true,\n\t\t'writable': false\n\t});\n\n\t// Matrix offset:\n\tObject.defineProperty( this, 'offset', {\n\t\t'value': offset,\n\t\t'configurable': false,\n\t\t'enumerable': true,\n\t\t'writable': true\n\t});\n\n\t// Number of matrix dimensions:\n\tObject.defineProperty( this, 'ndims', {\n\t\t'value': shape.length,\n\t\t'configurable': false,\n\t\t'enumerable': true,\n\t\t'writable': false\n\t});\n\n\t// Matrix length:\n\tObject.defineProperty( this, 'length', {\n\t\t'value': data.length,\n\t\t'configurable': false,\n\t\t'enumerable': true,\n\t\t'writable': false\n\t});\n\n\t// Number of bytes used by the matrix elements:\n\tObject.defineProperty( this, 'nbytes', {\n\t\t'value': data.byteLength,\n\t\t'configurable': false,\n\t\t'enumerable': true,\n\t\t'writable': false\n\t});\n\n\t// Matrix data store:\n\tObject.defineProperty( this, 'data', {\n\t\t'value': data,\n\t\t'configurable': false,\n\t\t'enumerable': true,\n\t\t'writable': false\n\t});\n\n\treturn this;\n} // end FUNCTION Matrix()\n\n\n// METHODS //\n\nMatrix.prototype.set = require( './set.js' );\nMatrix.prototype.iset = require( './iset.js' );\nMatrix.prototype.mset = require( './mset.js' );\nMatrix.prototype.sset = require( './sset.js' );\n\nMatrix.prototype.get = require( './get.js' );\nMatrix.prototype.iget = require( './iget.js' );\nMatrix.prototype.mget = require( './mget.js' );\nMatrix.prototype.sget = require( './sget.js' );\n\nMatrix.prototype.toString = require( './tostring.js' );\nMatrix.prototype.toJSON = require( './tojson.js' );\n\n\n// EXPORTS //\n\nmodule.exports = Matrix;\n","'use strict';\n\n// DATA TYPES //\n\nvar DTYPES = [\n\t'int8',\n\t'uint8',\n\t'uint8_clamped',\n\t'int16',\n\t'uint16',\n\t'int32',\n\t'uint32',\n\t'float32',\n\t'float64'\n];\n\n\n// EXPORTS //\n\nmodule.exports = DTYPES;\n","'use strict';\n\n// MODULES //\n\nvar isString = require( 'validate.io-string-primitive' ),\n\tisNonNegativeIntegerArray = require( 'validate.io-nonnegative-integer-array' ),\n\tcontains = require( 'validate.io-contains' ),\n\tisArray = require( 'validate.io-array' ),\n\tcast = require( 'dstructs-cast-arrays' ),\n\tgetType = require( 'compute-dtype' ),\n\tMatrix = require( './ctor.js' );\n\n\n// VARIABLES //\n\nvar BTYPES = require( './btypes.js' ),\n\tDTYPES = require( './dtypes.js' );\n\n\n// CREATE MATRIX //\n\n/**\n* FUNCTION: matrix( [data,] shape[, dtype] )\n*\tReturns a Matrix instance.\n*\n* @constructor\n* @param {Int8Array|Uint8Array|Uint8ClampedArray|Int16Array|Uint16Array|Int32Array|Uint32Array|Float32Array|Float64Array} [data] - input typed array\n* @param {Number[]} shape - matrix dimensions/shape\n* @param {String} [dtype=\"float64\"] - matrix data type\n* @returns {Matrix} Matrix instance\n*/\nfunction matrix() {\n\tvar dtype,\n\t\tndims,\n\t\tshape,\n\t\tdata,\n\t\tvFLG,\n\t\tlen,\n\t\tdt,\n\t\ti;\n\n\t// Parse the input arguments (polymorphic interface)...\n\tif ( arguments.length === 1 ) {\n\t\tshape = arguments[ 0 ];\n\t\tvFLG = 2; // arg #s\n\t}\n\telse if ( arguments.length === 2 ) {\n\t\tif ( isString( arguments[ 1 ] ) ) {\n\t\t\tshape = arguments[ 0 ];\n\t\t\tdtype = arguments[ 1 ];\n\t\t\tvFLG = 23; // arg #s\n\t\t} else {\n\t\t\tdata = arguments[ 0 ];\n\t\t\tshape = arguments[ 1 ];\n\t\t\tvFLG = 12; // arg #s\n\t\t}\n\t}\n\telse {\n\t\tdata = arguments[ 0 ];\n\t\tshape = arguments[ 1 ];\n\t\tdtype = arguments[ 2 ];\n\t\tvFLG = 123; // arg #s\n\t}\n\n\t// Input argument validation...\n\tif ( !isNonNegativeIntegerArray( shape ) ) {\n\t\tthrow new TypeError( 'invalid input argument. A matrix shape must be an array of nonnegative integers. Value: `' + shape + '`.' );\n\t}\n\tndims = shape.length;\n\tif ( ndims !== 2 ) {\n\t\tthrow new Error( 'invalid input argument. Shape must be a 2-element array. Value: `' + shape + '`.' );\n\t}\n\t// If a `dtype` has been provided, validate...\n\tif ( vFLG === 123 || vFLG === 23 ) {\n\t\tif ( !contains( DTYPES, dtype ) ) {\n\t\t\tthrow new TypeError( 'invalid input argument. Unrecognized/unsupported data type. Value: `' + dtype + '`.' );\n\t\t}\n\t} else {\n\t\tdtype = 'float64';\n\t}\n\tlen = 1;\n\tfor ( i = 0; i < ndims; i++ ) {\n\t\tlen *= shape[ i ];\n\t}\n\t// If a `data` argument has been provided, validate...\n\tif ( vFLG === 123 || vFLG === 12 ) {\n\t\tdt = getType( data );\n\t\tif ( !contains( DTYPES, dt ) && !isArray( data ) ) {\n\t\t\tthrow new TypeError( 'invalid input argument. Input data must be a valid type. Consult the documentation for a list of valid data types. Value: `' + data + '`.' );\n\t\t}\n\t\tif ( len !== data.length ) {\n\t\t\tthrow new Error( 'invalid input argument. Matrix shape does not match the input data length.' );\n\t\t}\n\t\t// Only cast if either 1) both a `data` and `dtype` argument have been provided and they do not agree or 2) when provided a plain Array...\n\t\tif ( ( vFLG === 123 && dt !== dtype ) || dt === 'generic' ) {\n\t\t\tdata = cast( data, dtype );\n\t\t} else {\n\t\t\tdtype = dt;\n\t\t}\n\t} else {\n\t\t// Initialize a zero-filled typed array:\n\t\tdata = new BTYPES[ dtype ]( len );\n\t}\n\t// Return a new Matrix instance:\n\treturn new Matrix( data, dtype, shape, 0, [shape[1],1] );\n} // end FUNCTION matrix()\n\n\n// EXPORTS //\n\nmodule.exports = matrix;\n","'use strict';\n\n/**\n* FUNCTION: set( i, j, value )\n*\tSets a matrix element based on the provided row and column indices.\n*\n* @param {Number} i - row index\n* @param {Number} j - column index\n* @param {Number} value - value to set\n* @returns {Matrix} Matrix instance\n*/\nfunction set( i, j, v ) {\n\t/* jshint validthis: true */\n\ti = this.offset + i*this.strides[0] + j*this.strides[1];\n\tif ( i >= 0 ) {\n\t\tthis.data[ i ] = v;\n\t}\n\treturn this;\n} // end FUNCTION set()\n\n\n// EXPORTS //\n\nmodule.exports = set;\n","'use strict';\n\n/**\n* FUNCTION: iset( idx, value )\n*\tSets a matrix element located at a specified index.\n*\n* @param {Number} idx - linear index\n* @param {Number} value - value to set\n* @returns {Matrix} Matrix instance\n*/\nfunction iset( idx, v ) {\n\t/* jshint validthis: true */\n\tvar r, j;\n\tif ( idx < 0 ) {\n\t\tidx += this.length;\n\t\tif ( idx < 0 ) {\n\t\t\treturn this;\n\t\t}\n\t}\n\tj = idx % this.strides[ 0 ];\n\tr = idx - j;\n\tif ( this.strides[ 0 ] < 0 ) {\n\t\tr = -r;\n\t}\n\tthis.data[ this.offset + r + j*this.strides[1] ] = v;\n\treturn this;\n} // end FUNCTION iset()\n\n\n// EXPORTS //\n\nmodule.exports = iset;\n","'use strict';\n\n// FUNCTIONS //\n\nvar mset1 = require( './mset1.js' ),\n\tmset2 = require( './mset2.js' ),\n\tmset3 = require( './mset3.js' ),\n\tmset4 = require( './mset4.js' ),\n\tmset5 = require( './mset5.js' ),\n\tmset6 = require( './mset6.js' );\n\n/**\n* FUNCTION: getIndices( idx, len )\n*\tReturns an array of indices.\n*\n* @private\n* @param {Number[]|Null} idx - indices\n* @param {Number} len - max index\n* @returns {Number[]} indices\n*/\nfunction getIndices( idx, len ) {\n\tvar out,\n\t\ti;\n\tif ( idx === null ) {\n\t\tout = new Array( len );\n\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\tout[ i ] = i;\n\t\t}\n\t} else {\n\t\tout = idx;\n\t}\n\treturn out;\n} // end FUNCTION getIndices()\n\n\n// MSET //\n\n/**\n* FUNCTION: mset( i[, j], value[, thisArg] )\n*\tSets multiple matrix elements. If provided a single array, `i` is treated as an array of linear indices.\n*\n* @param {Number[]|Null} i - linear/row indices\n* @param {Number[]|Null} [j] - column indices\n* @param {Number|Matrix|Function} value - either a single numeric value, a matrix containing the values to set, or a function which returns a numeric value\n* @returns {Matrix} Matrix instance\n*/\nfunction mset() {\n\t/*jshint validthis:true */\n\tvar nargs = arguments.length,\n\t\targs,\n\t\trows,\n\t\tcols,\n\t\ti;\n\n\targs = new Array( nargs );\n\tfor ( i = 0; i < nargs; i++ ) {\n\t\targs[ i ] = arguments[ i ];\n\t}\n\n\t// 2 input arguments...\n\tif ( nargs < 3 ) {\n\t\t// indices, clbk\n\t\tif ( typeof args[ 1 ] === 'function' ) {\n\t\t\tmset2( this, args[ 0 ], args[ 1 ] );\n\t\t}\n\t\t// indices, number\n\t\telse if ( typeof args[ 1 ] === 'number' ) {\n\t\t\tmset1( this, args[ 0 ], args[ 1 ] );\n\t\t}\n\t\t// indices, matrix\n\t\telse {\n\t\t\tmset3( this, args[ 0 ], args[ 1 ] );\n\t\t}\n\t}\n\t// 3 input arguments...\n\telse if ( nargs === 3 ) {\n\t\t// indices, clbk, context\n\t\tif ( typeof args[ 1 ] === 'function' ) {\n\t\t\tmset2( this, args[ 0 ], args[ 1 ], args[ 2 ] );\n\t\t}\n\t\t// rows, cols, function\n\t\telse if ( typeof args[ 2 ] === 'function' ) {\n\t\t\trows = getIndices( args[ 0 ], this.shape[ 0 ] );\n\t\t\tcols = getIndices( args[ 1 ], this.shape[ 1 ] );\n\t\t\tmset4( this, rows, cols, args[ 2 ], this );\n\t\t}\n\t\t// rows, cols, number\n\t\telse if ( typeof args[ 2 ] === 'number' ) {\n\t\t\trows = getIndices( args[ 0 ], this.shape[ 0 ] );\n\t\t\tcols = getIndices( args[ 1 ], this.shape[ 1 ] );\n\t\t\tmset5( this, rows, cols, args[ 2 ] );\n\t\t}\n\t\t// rows, cols, matrix\n\t\telse {\n\t\t\trows = getIndices( args[ 0 ], this.shape[ 0 ] );\n\t\t\tcols = getIndices( args[ 1 ], this.shape[ 1 ] );\n\t\t\tmset6( this, rows, cols, args[ 2 ] );\n\t\t}\n\t}\n\t// 4 input arguments...\n\telse {\n\t\trows = getIndices( args[ 0 ], this.shape[ 0 ] );\n\t\tcols = getIndices( args[ 1 ], this.shape[ 1 ] );\n\t\tmset4( this, rows, cols, args[ 2 ], args[ 3 ] );\n\t}\n\treturn this;\n} // end FUNCTION mset()\n\n\n// EXPORTS //\n\nmodule.exports = mset;\n","'use strict';\n\n// MODULES //\n\nvar ispace = require( 'compute-indexspace' );\n\n\n// SUBSEQUENCE SET //\n\n/**\n* FUNCTION: sset( subsequence, value[, thisArg] )\n*\tSets matrix elements according to a specified subsequence.\n*\n* @param {String} subsequence - subsequence string\n* @param {Number|Matrix|Function} value - either a single numeric value, a matrix containing the values to set, or a function which returns a numeric value\n* @param {Object} [thisArg] - `this` context when executing a callback\n* @returns {Matrix} Matrix instance\n*/\nfunction sset( seq, val, thisArg ) {\n\t/* jshint validthis: true */\n\tvar nRows,\n\t\tnCols,\n\t\tclbk,\n\t\trows,\n\t\tcols,\n\t\tseqs,\n\t\tmat,\n\t\tctx,\n\t\ts0, s1, s2, s3,\n\t\to0, o1,\n\t\tr0, r1,\n\t\ti, j, k;\n\n\tseqs = seq.split( ',' );\n\tif ( typeof val === 'function' ) {\n\t\tclbk = val;\n\t}\n\telse if ( typeof val !== 'number' ) {\n\t\tmat = val;\n\t}\n\trows = ispace( seqs[ 0 ], this.shape[ 0 ] );\n\tcols = ispace( seqs[ 1 ], this.shape[ 1 ] );\n\n\tnRows = rows.length;\n\tnCols = cols.length;\n\n\tif ( !( nRows && nCols ) ) {\n\t\treturn this;\n\t}\n\ts0 = this.strides[ 0 ];\n\ts1 = this.strides[ 1 ];\n\to0 = this.offset;\n\n\t// Callback...\n\tif ( clbk ) {\n\t\tif ( arguments.length > 2 ) {\n\t\t\tctx = thisArg;\n\t\t} else {\n\t\t\tctx = this;\n\t\t}\n\t\tfor ( i = 0; i < nRows; i++ ) {\n\t\t\tr0 = o0 + rows[i]*s0;\n\t\t\tfor ( j = 0; j < nCols; j++ ) {\n\t\t\t\tk = r0 + cols[j]*s1;\n\t\t\t\tthis.data[ k ] = clbk.call( ctx, this.data[ k ], rows[i], cols[j], k );\n\t\t\t}\n\t\t}\n\t}\n\t// Input matrix...\n\telse if ( mat ) {\n\t\tif ( nRows !== mat.shape[ 0 ] ) {\n\t\t\tthrow new Error( 'invalid input arguments. Row subsequence does not match input matrix dimensions. Expected a [' + nRows + ',' + nCols + '] matrix and instead received a [' + mat.shape.join( ',' ) + '] matrix.' );\n\t\t}\n\t\tif ( nCols !== mat.shape[ 1 ] ) {\n\t\t\tthrow new Error( 'invalid input arguments. Column subsequence does not match input matrix dimensions. Expected a [' + nRows + ',' + nCols + '] matrix and instead received a [' + mat.shape.join( ',' ) + '] matrix.' );\n\t\t}\n\t\ts2 = mat.strides[ 0 ];\n\t\ts3 = mat.strides[ 1 ];\n\t\to1 = mat.offset;\n\t\tfor ( i = 0; i < nRows; i++ ) {\n\t\t\tr0 = o0 + rows[i]*s0;\n\t\t\tr1 = o1 + i*s2;\n\t\t\tfor ( j = 0; j < nCols; j++ ) {\n\t\t\t\tthis.data[ r0 + cols[j]*s1 ] = mat.data[ r1 + j*s3 ];\n\t\t\t}\n\t\t}\n\t}\n\t// Single numeric value...\n\telse {\n\t\tfor ( i = 0; i < nRows; i++ ) {\n\t\t\tr0 = o0 + rows[i]*s0;\n\t\t\tfor ( j = 0; j < nCols; j++ ) {\n\t\t\t\tthis.data[ r0 + cols[j]*s1 ] = val;\n\t\t\t}\n\t\t}\n\t}\n\treturn this;\n} // end FUNCTION sset()\n\n\n// EXPORTS //\n\nmodule.exports = sset;\n","'use strict';\n\n/**\n* FUNCTION: get( i, j )\n*\tReturns a matrix element based on the provided row and column indices.\n*\n* @param {Number} i - row index\n* @param {Number} j - column index\n* @returns {Number|Undefined} matrix element\n*/\nfunction get( i, j ) {\n\t/*jshint validthis:true */\n\treturn this.data[ this.offset + i*this.strides[0] + j*this.strides[1] ];\n} // end FUNCTION get()\n\n\n// EXPORTS //\n\nmodule.exports = get;\n","'use strict';\n\n/**\n* FUNCTION: iget( idx )\n*\tReturns a matrix element located at a specified index.\n*\n* @param {Number} idx - linear index\n* @returns {Number|Undefined} matrix element\n*/\nfunction iget( idx ) {\n\t/*jshint validthis:true */\n\tvar r, j;\n\tif ( idx < 0 ) {\n\t\tidx += this.length;\n\t\tif ( idx < 0 ) {\n\t\t\treturn;\n\t\t}\n\t}\n\tj = idx % this.strides[ 0 ];\n\tr = idx - j;\n\tif ( this.strides[ 0 ] < 0 ) {\n\t\tr = -r;\n\t}\n\treturn this.data[ this.offset + r + j*this.strides[1] ];\n} // end FUNCTION iget()\n\n\n// EXPORTS //\n\nmodule.exports = iget;\n","'use strict';\n\n// VARIABLES //\n\nvar BTYPES = require( './btypes.js' );\n\n\n// MGET //\n\n/**\n* FUNCTION: mget( i[, j] )\n*\tReturns multiple matrix elements. If provided a single argument, `i` is treated as an array of linear indices.\n*\n* @param {Number[]|Null} i - linear/row indices\n* @param {Number[]|Null} [j] - column indices\n* @returns {Matrix} a new Matrix instance\n*/\nfunction mget( rows, cols ) {\n\t/*jshint validthis:true */\n\tvar nRows,\n\t\tnCols,\n\t\tout,\n\t\tsgn,\n\t\td,\n\t\ts0, s1, s2, s3,\n\t\to,\n\t\tr, dr,\n\t\ti, j, m, n;\n\n\ts0 = this.strides[ 0 ];\n\ts1 = this.strides[ 1 ];\n\to = this.offset;\n\n\tif ( arguments.length < 2 ) {\n\t\ti = rows;\n\t\tm = i.length;\n\n\t\t// Create a row vector (matrix):\n\t\td = new BTYPES[ this.dtype ]( m );\n\t\tout = new this.constructor( d, this.dtype, [1,m], 0, [m,1] );\n\n\t\tsgn = ( s0 < 0 ) ? -1 : 1;\n\t\tfor ( n = 0; n < m; n++ ) {\n\t\t\tj = i[ n ] % s0;\n\t\t\tr = sgn * ( i[n] - j );\n\t\t\td[ n ] = this.data[ o + r + j*s1 ];\n\t\t}\n\t} else {\n\t\tif ( rows === null ) {\n\t\t\tnRows = this.shape[ 0 ];\n\t\t\ti = new Array( nRows );\n\t\t\tfor ( n = 0; n < nRows; n++ ) {\n\t\t\t\ti[ n ] = n;\n\t\t\t}\n\t\t} else {\n\t\t\tnRows = rows.length;\n\t\t\ti = rows;\n\t\t}\n\n\t\tif ( cols === null ) {\n\t\t\tnCols = this.shape[ 1 ];\n\t\t\tj = new Array( nCols );\n\t\t\tfor ( n = 0; n < nCols; n++ ) {\n\t\t\t\tj[ n ] = n;\n\t\t\t}\n\t\t} else {\n\t\t\tnCols = cols.length;\n\t\t\tj = cols;\n\t\t}\n\n\t\td = new BTYPES[ this.dtype ]( nRows*nCols );\n\t\tout = new this.constructor( d, this.dtype, [nRows,nCols], 0, [nCols,1] );\n\n\t\ts2 = out.strides[ 0 ];\n\t\ts3 = out.strides[ 1 ];\n\t\tfor ( m = 0; m < nRows; m++ ) {\n\t\t\tr = o + i[m]*s0;\n\t\t\tdr = m * s2;\n\t\t\tfor ( n = 0; n < nCols; n++ ) {\n\t\t\t\td[ dr + n*s3 ] = this.data[ r + j[n]*s1 ];\n\t\t\t}\n\t\t}\n\t}\n\treturn out;\n} // end FUNCTION mget()\n\n\n// EXPORTS //\n\nmodule.exports = mget;\n","'use strict';\n\n// MODULES //\n\nvar ispace = require( 'compute-indexspace' );\n\n\n// VARIABLES //\n\nvar BTYPES = require( './btypes.js' );\n\n\n// SUBSEQUENCE GET //\n\n/**\n* FUNCTION: sget( subsequence )\n*\tReturns matrix elements according to a specified subsequence.\n*\n* @param {String} subsequence - subsequence string\n* @returns {Matrix} Matrix instance\n*/\nfunction sget( seq ) {\n\t/*jshint validthis:true */\n\tvar nRows,\n\t\tnCols,\n\t\trows,\n\t\tcols,\n\t\tseqs,\n\t\tmat,\n\t\tlen,\n\t\ts0, s1,\n\t\to,\n\t\td,\n\t\tr, dr,\n\t\ti, j;\n\n\tseqs = seq.split( ',' );\n\trows = ispace( seqs[ 0 ], this.shape[ 0 ] );\n\tcols = ispace( seqs[ 1 ], this.shape[ 1 ] );\n\n\tnRows = rows.length;\n\tnCols = cols.length;\n\tlen = nRows * nCols;\n\n\td = new BTYPES[ this.dtype ]( len );\n\tmat = new this.constructor( d, this.dtype, [nRows,nCols], 0, [nCols,1] );\n\n\tif ( len ) {\n\t\ts0 = this.strides[ 0 ];\n\t\ts1 = this.strides[ 1 ];\n\t\to = this.offset;\n\t\tfor ( i = 0; i < nRows; i++ ) {\n\t\t\tr = o + rows[i]*s0;\n\t\t\tdr = i * nCols;\n\t\t\tfor ( j = 0; j < nCols; j++ ) {\n\t\t\t\td[ dr + j ] = this.data[ r + cols[j]*s1 ];\n\t\t\t}\n\t\t}\n\t}\n\treturn mat;\n} // end FUNCTION sget()\n\n\n// EXPORTS //\n\nmodule.exports = sget;\n","'use strict';\n\n// MATRIX //\n\n/**\n* FUNCTION: Matrix( data, dtype, shape, offset, strides )\n*\tMatrix constructor.\n*\n* @constructor\n* @param {Int8Array|Uint8Array|Uint8ClampedArray|Int16Array|Uint16Array|Int32Array|Uint32Array|Float32Array|Float64Array} data - input typed array\n* @param {String} dtype - matrix data type\n* @param {Number[]} shape - matrix dimensions/shape\n* @param {Number} offset - matrix offset\n* @param {Number[]} strides - matrix strides\n* @returns {Matrix} Matrix instance\n*/\nfunction Matrix( data, dtype, shape, offset, strides ) {\n\tif ( !( this instanceof Matrix ) ) {\n\t\treturn new Matrix( data, dtype, shape, offset, strides );\n\t}\n\tthis.dtype = dtype;\n\tthis.shape = shape;\n\tthis.strides = strides;\n\tthis.offset = offset;\n\tthis.ndims = shape.length;\n\tthis.length = data.length;\n\tthis.nbytes = data.byteLength;\n\tthis.data = data;\n\treturn this;\n} // end FUNCTION Matrix()\n\n\n// METHODS //\n\nMatrix.prototype.set = require( './set.raw.js' );\nMatrix.prototype.iset = require( './iset.raw.js' );\nMatrix.prototype.mset = require( './mset.raw.js' );\nMatrix.prototype.sset = require( './sset.raw.js' );\n\nMatrix.prototype.get = require( './get.raw.js' );\nMatrix.prototype.iget = require( './iget.raw.js' );\nMatrix.prototype.mget = require( './mget.raw.js' );\nMatrix.prototype.sget = require( './sget.raw.js' );\n\nMatrix.prototype.toString = require( './tostring.js' );\nMatrix.prototype.toJSON = require( './tojson.js' );\n\n// EXPORTS //\n\nmodule.exports = Matrix;\n","'use strict';\n\n// MODULES //\n\nvar isString = require( 'validate.io-string-primitive' ),\n\tcontains = require( 'validate.io-contains' ),\n\tgetType = require( 'compute-dtype' ),\n\tMatrix = require( './ctor.raw.js' );\n\n\n// VARIABLES //\n\nvar BTYPES = require( './btypes.js' ),\n\tDTYPES = require( './dtypes.js' );\n\n\n// CREATE MATRIX //\n\n/**\n* FUNCTION: matrix( [data,] shape[, dtype] )\n*\tReturns a Matrix instance.\n*\n* @constructor\n* @param {Int8Array|Uint8Array|Uint8ClampedArray|Int16Array|Uint16Array|Int32Array|Uint32Array|Float32Array|Float64Array} [data] - input typed array\n* @param {Number[]} shape - matrix dimensions/shape\n* @param {String} [dtype=\"float64\"] - matrix data type\n* @returns {Matrix} Matrix instance\n*/\nfunction matrix() {\n\tvar dtype,\n\t\tndims,\n\t\tshape,\n\t\tdata,\n\t\tlen,\n\t\ti;\n\n\tif ( arguments.length === 1 ) {\n\t\tshape = arguments[ 0 ];\n\t}\n\telse if ( arguments.length === 2 ) {\n\t\tif ( isString( arguments[ 1 ] ) ) {\n\t\t\tshape = arguments[ 0 ];\n\t\t\tdtype = arguments[ 1 ];\n\t\t} else {\n\t\t\tdata = arguments[ 0 ];\n\t\t\tshape = arguments[ 1 ];\n\t\t}\n\t}\n\telse {\n\t\tdata = arguments[ 0 ];\n\t\tshape = arguments[ 1 ];\n\t\tdtype = arguments[ 2 ];\n\t}\n\tndims = shape.length;\n\tif ( ndims !== 2 ) {\n\t\tthrow new Error( 'invalid input argument. Shape must be a 2-element array. Value: `' + shape + '`.' );\n\t}\n\tlen = 1;\n\tfor ( i = 0; i < ndims; i++ ) {\n\t\tlen *= shape[ i ];\n\t}\n\tif ( data ) {\n\t\tif ( !dtype ) {\n\t\t\tdtype = getType( data );\n\t\t\tif ( !contains( DTYPES, dtype ) ) {\n\t\t\t\tthrow new TypeError( 'invalid input argument. Input data must be a valid type. Consult the documentation for a list of valid data types. Value: `' + data + '`.' );\n\t\t\t}\n\t\t}\n\t\tif ( len !== data.length ) {\n\t\t\tthrow new Error( 'invalid input argument. Matrix shape does not match the input data length.' );\n\t\t}\n\t} else {\n\t\t// Initialize a zero-filled typed array...\n\t\tif ( !dtype ) {\n\t\t\tdtype = 'float64';\n\t\t}\n\t\tdata = new BTYPES[ dtype ]( len );\n\t}\n\t// Return a new Matrix instance:\n\treturn new Matrix( data, dtype, shape, 0, [shape[1],1] );\n} // end FUNCTION matrix()\n\n\n// EXPORTS //\n\nmodule.exports = matrix;\n","'use strict';\n\n// EXPORTS //\n\nmodule.exports = require( './matrix.js' );\nmodule.exports.raw = require( './matrix.raw.js' );\n","'use strict';\n\n// MODULES //\n\nvar isArray = require( 'validate.io-array' );\n\n\n// ISOBJECT //\n\n/**\n* FUNCTION: isObject( value )\n*\tValidates if a value is a object; e.g., {}.\n*\n* @param {*} value - value to be validated\n* @returns {Boolean} boolean indicating whether value is a object\n*/\nfunction isObject( value ) {\n\treturn ( typeof value === 'object' && value !== null && !isArray( value ) );\n} // end FUNCTION isObject()\n\n\n// EXPORTS //\n\nmodule.exports = isObject;\n","/**\n*\n*\tVALIDATE: boolean-primitive\n*\n*\n*\tDESCRIPTION:\n*\t\t- Validates if a value is a boolean primitive.\n*\n*\n*\tNOTES:\n*\t\t[1]\n*\n*\n*\tTODO:\n*\t\t[1]\n*\n*\n*\tLICENSE:\n*\t\tMIT\n*\n*\tCopyright (c) 2015. Athan Reines.\n*\n*\n*\tAUTHOR:\n*\t\tAthan Reines. kgryte@gmail.com. 2015.\n*\n*/\n\n'use strict';\n\n/**\n* FUNCTION: isBoolean( value )\n*\tValidates if a value is a boolean primitive.\n*\n* @param {*} value - value to be validated\n* @returns {Boolean} boolean indicating if a value is a boolean primitive\n*/\nfunction isBoolean( value ) {\n\treturn value === true || value === false;\n} // end FUNCTION isBoolean()\n\n\n// EXPORTS //\n\nmodule.exports = isBoolean;\n","'use strict';\n\n// MODULES //\n\nvar isObject = require( 'validate.io-object' ),\n\tisBoolean = require( 'validate.io-boolean-primitive' ),\n\tisFunction = require( 'validate.io-function' ),\n\tisString = require( 'validate.io-string-primitive' );\n\n\n// VALIDATE //\n\n/**\n* FUNCTION: validate( opts, options )\n*\tValidates function options.\n*\n* @param {Object} opts - destination for validated options\n* @param {Object} options - function options\n* @param {Boolean} [options.copy] - boolean indicating if the function should return a new data structure\n* @param {Function} [options.accessor] - accessor function for accessing array values\n* @param {String} [options.sep] - deep get/set key path separator\n* @param {String} [options.path] - deep get/set key path\n* @param {String} [options.dtype] - output data type\n* @returns {Null|Error} null or an error\n*/\nfunction validate( opts, options ) {\n\tif ( !isObject( options ) ) {\n\t\treturn new TypeError( 'erfcinv()::invalid input argument. Options argument must be an object. Value: `' + options + '`.' );\n\t}\n\tif ( options.hasOwnProperty( 'copy' ) ) {\n\t\topts.copy = options.copy;\n\t\tif ( !isBoolean( opts.copy ) ) {\n\t\t\treturn new TypeError( 'erfcinv()::invalid option. Copy option must be a boolean primitive. Option: `' + opts.copy + '`.' );\n\t\t}\n\t}\n\tif ( options.hasOwnProperty( 'accessor' ) ) {\n\t\topts.accessor = options.accessor;\n\t\tif ( !isFunction( opts.accessor ) ) {\n\t\t\treturn new TypeError( 'erfcinv()::invalid option. Accessor must be a function. Option: `' + opts.accessor + '`.' );\n\t\t}\n\t}\n\tif ( options.hasOwnProperty( 'path' ) ) {\n\t\topts.path = options.path;\n\t\tif ( !isString( opts.path ) ) {\n\t\t\treturn new TypeError( 'erfcinv()::invalid option. Key path option must be a string primitive. Option: `' + opts.path + '`.' );\n\t\t}\n\t}\n\tif ( options.hasOwnProperty( 'sep' ) ) {\n\t\topts.sep = options.sep;\n\t\tif ( !isString( opts.sep ) ) {\n\t\t\treturn new TypeError( 'erfcinv()::invalid option. Separator option must be a string primitive. Option: `' + opts.sep + '`.' );\n\t\t}\n\t}\n\tif ( options.hasOwnProperty( 'dtype' ) ) {\n\t\topts.dtype = options.dtype;\n\t\tif ( !isString( opts.dtype ) ) {\n\t\t\treturn new TypeError( 'erfcinv()::invalid option. Data type option must be a string primitive. Option: `' + opts.dtype + '`.' );\n\t\t}\n\t}\n\treturn null;\n} // end FUNCTION validate()\n\n\n// EXPORTS //\n\nmodule.exports = validate;\n","/**\n*\n*\tVALIDATE: number-primitive-array\n*\n*\n*\tDESCRIPTION:\n*\t\t- Validates if a value is an array of primitive numbers.\n*\n*\n*\tNOTES:\n*\t\t[1]\n*\n*\n*\tTODO:\n*\t\t[1]\n*\n*\n*\tLICENSE:\n*\t\tMIT\n*\n*\tCopyright (c) 2015. Athan Reines.\n*\n*\n*\tAUTHOR:\n*\t\tAthan Reines. kgryte@gmail.com. 2015.\n*\n*/\n\n'use strict';\n\n// MODULES //\n\nvar isArray = require( 'validate.io-array' );\n\n\n// IS NUMBER ARRAY //\n\n/**\n* FUNCTION: isNumberArray( value )\n*\tValidates if a value is an array of number primitives, excluding NaN.\n*\n* @param {*} value - value to be validated\n* @returns {Boolean} boolean indicating if a value is an array of number primitives\n*/\nfunction isNumberArray( value ) {\n\tvar len, v;\n\tif ( !isArray( value ) ) {\n\t\treturn false;\n\t}\n\tlen = value.length;\n\tif ( !len ) {\n\t\treturn false;\n\t}\n\tfor ( var i = 0; i < len; i++ ) {\n\t\tv = value[ i ];\n\t\tif ( typeof v !== 'number' || v !== v ) {\n\t\t\treturn false;\n\t\t}\n\t}\n\treturn true;\n} // end FUNCTION isNumberArray()\n\n\n// EXPORTS //\n\nmodule.exports = isNumberArray;\n","'use strict';\n\n// MODULES //\n\nvar isNumber = require( 'validate.io-number-primitive' ),\n\tisArray = require( 'validate.io-array' ),\n\tisNumberArray = require( 'validate.io-number-primitive-array' ),\n\tisObject = require( 'validate.io-object' ),\n\tisBoolean = require( 'validate.io-boolean-primitive' ),\n\tisFunction = require( 'validate.io-function' );\n\n\n// POLYVAL //\n\n/**\n* FUNCTION: polyval( coef, x )\n*\tEvaluates a polynomial.\n*\n* @private\n* @param {Number[]} coef - array of coefficients sorted in descending degree\n* @param {Number} x - value at which to evaluate the polynomial\n* @return {Number} evaluated polynomial\n*/\nfunction polyval( c, x ) {\n\tvar len = c.length,\n\t\tp = 0,\n\t\ti = 0;\n\tfor ( ; i < len; i++ ) {\n\t\tp = p*x + c[ i ];\n\t}\n\treturn p;\n} // end FUNCTION polyval()\n\n\n// EVALUATE //\n\n/**\n* FUNCTION: evaluate( coef, x[, options] )\n*\tEvaluates a polynomial.\n*\n* @param {Number[]} coef - array of coefficients sorted in descending degree\n* @param {Array|Number[]|Number} x - value(s) at which to evaluate the polynomial\n* @param {Object} [options] - function options\n* @param {Boolean} [options.copy=true] - boolean indicating whether to return a new array\n* @param {Function} [options.accessor] - accessor function for accessing array values\n* @returns {Number|Number[]} evaluated polynomial\n*/\nfunction evaluate( c, x, opts ) {\n\tvar copy = true,\n\t\tclbk,\n\t\tlen,\n\t\tarr,\n\t\tv, i;\n\tif ( !isNumberArray( c ) ) {\n\t\tthrow new TypeError( 'polynomial()::invalid input argument. Coefficients must be provided as an array of number primitives. Value: `' + c + '`.' );\n\t}\n\tif ( isNumber( x ) ) {\n\t\treturn polyval( c, x );\n\t}\n\tif ( !isArray( x ) ) {\n\t\tthrow new TypeError( 'polynomial()::invalid input argument. Second argument must be either a single number primitive or an array of values. Value: `' + x + '`.' );\n\t}\n\tif ( arguments.length > 2 ) {\n\t\tif ( !isObject( opts ) ) {\n\t\t\tthrow new TypeError( 'polynomial()::invalid input argument. Options argument must be an object. Value: `' + opts + '`.' );\n\t\t}\n\t\tif ( opts.hasOwnProperty( 'copy' ) ) {\n\t\t\tcopy = opts.copy;\n\t\t\tif ( !isBoolean( copy ) ) {\n\t\t\t\tthrow new TypeError( 'polynomial()::invalid option. Copy option must be a boolean primitive. Option: `' + copy + '`.' );\n\t\t\t}\n\t\t}\n\t\tif ( opts.hasOwnProperty( 'accessor' ) ) {\n\t\t\tclbk = opts.accessor;\n\t\t\tif ( !isFunction( clbk ) ) {\n\t\t\t\tthrow new TypeError( 'polynomial()::invalid option. Accessor must be a function. Option: `' + clbk + '`.' );\n\t\t\t}\n\t\t}\n\t}\n\tlen = x.length;\n\tif ( copy ) {\n\t\tarr = new Array( len );\n\t} else {\n\t\tarr = x;\n\t}\n\tif ( clbk ) {\n\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\tv = clbk( x[ i ], i );\n\t\t\tif ( !isNumber( v ) ) {\n\t\t\t\tthrow new TypeError( 'polynomial()::invalid input argument. Accessed array values must be number primitives. Value: `' + v + '`.' );\n\t\t\t}\n\t\t\tarr[ i ] = polyval( c, v );\n\t\t}\n\t} else {\n\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\tv = x[ i ];\n\t\t\tif ( !isNumber( v ) ) {\n\t\t\t\tthrow new TypeError( 'polynomial()::invalid input argument. Array values must be number primitives. Value: `' + v + '`.' );\n\t\t\t}\n\t\t\tarr[ i ] = polyval( c, v );\n\t\t}\n\t}\n\treturn arr;\n} // end FUNCTION evaluate()\n\n\n// EXPORTS //\n\nmodule.exports = evaluate;\n","'use strict';\n\n/**\n* erfcinv( x )\n*\n* Method:\n*\t1. For `|x| <= 0.5`, evaluate inverse erf using the rational approximation:\n*\n*\t\t`erfcinv = x(x+10)(Y+R(x))`\n*\n*\twhere `Y` is a constant and `R(x)` is optimized for a low absolute error compared to `|Y|`. Max error `~2e-18`.\n*\n*\t2. For `0.5 > 1-|x| >= 0`, evaluate inverse erf using the rational approximation:\n*\n*\t\t`erfcinv = sqrt(-2*log(1-x)) / (Y + R(1-x))`\n*\n*\twhere `Y `is a constant, and R(q) is optimised for a low absolute error compared to `Y`. Max error `~7e-17`.\n*\n*\t3. For `1-|x| < 0.25`, we have a series of rational approximations all of the general form:\n*\n*\t\t`p = sqrt(-log(1-x))`\n*\n*\tThen the result is given by:\n*\n*\t\t`erfcinv = p(Y+R(p-B))`\n*\n*\twhere `Y` is a constant, `B` is the lowest value of `p` for which the approximation is valid, and `R(x-B)` is optimized for a low absolute error compared to `Y`.\n*\n*\tNote that almost all code will really go through the first or maybe second approximation.  After than we are dealing with very small input values.\n*\n*\tIf `p < 3`, max error `~1e-20`.\n*\tIf `p < 6`, max error `~8e-21`.\n*\tIf `p < 18`, max error `~1e-19`.\n*\tIf `p < 44`, max error `~6e-20`.\n*\tIf `p >= 44`, max error `~1e-20`.\n*/\n\n// MODULES //\n\nvar polyval = require( 'compute-polynomial' );\n\n\n// CONSTANTS //\n\nvar // Coefficients for erfcinv on [0, 0.5]:\n\tY1 = 8.91314744949340820313e-2,\n\tP1 = [\n\t\t-5.38772965071242932965e-3,\n\t\t8.22687874676915743155e-3,\n\t\t2.19878681111168899165e-2,\n\t\t-3.65637971411762664006e-2,\n\t\t-1.26926147662974029034e-2,\n\t\t3.34806625409744615033e-2,\n\t\t-8.36874819741736770379e-3,\n\t\t-5.08781949658280665617e-4\n\t],\n\tQ1 = [\n\t\t8.86216390456424707504e-4,\n\t\t-2.33393759374190016776e-3,\n\t\t7.95283687341571680018e-2,\n\t\t-5.27396382340099713954e-2,\n\t\t-7.1228902341542847553e-1,\n\t\t6.62328840472002992063e-1,\n\t\t1.56221558398423026363,\n\t\t-1.56574558234175846809,\n\t\t-9.70005043303290640362e-1,\n\t\t1\n\t],\n\n\t// Coefficients for erfcinv for 0.5 > 1-x >= 0:\n\tY2 = 2.249481201171875,\n\tP2 = [\n\t\t-3.67192254707729348546,\n\t\t2.11294655448340526258e1,\n\t\t1.7445385985570866523e1,\n\t\t-4.46382324441786960818e1,\n\t\t-1.88510648058714251895e1,\n\t\t1.76447298408374015486e1,\n\t\t8.37050328343119927838,\n\t\t1.05264680699391713268e-1,\n\t\t-2.02433508355938759655e-1\n\t],\n\tQ2 = [\n\t\t1.72114765761200282724,\n\t\t-2.26436933413139721736e1,\n\t\t1.08268667355460159008e1,\n\t\t4.85609213108739935468e1,\n\t\t-2.01432634680485188801e1,\n\t\t-2.86608180499800029974e1,\n\t\t3.9713437953343869095,\n\t\t6.24264124854247537712,\n\t\t1\n\t],\n\n\t// Coefficients for erfcinv for sqrt( -log(1-x)):\n\tY3 = 8.07220458984375e-1,\n\tP3 = [\n\t\t-6.81149956853776992068e-10,\n\t\t2.85225331782217055858e-8,\n\t\t-6.79465575181126350155e-7,\n\t\t2.14558995388805277169e-3,\n\t\t2.90157910005329060432e-2,\n\t\t1.42869534408157156766e-1,\n\t\t3.37785538912035898924e-1,\n\t\t3.87079738972604337464e-1,\n\t\t1.17030156341995252019e-1,\n\t\t-1.63794047193317060787e-1,\n\t\t-1.31102781679951906451e-1\n\t],\n\tQ3 = [\n\t\t1.105924229346489121e-2,\n\t\t1.52264338295331783612e-1,\n\t\t8.48854343457902036425e-1,\n\t\t2.59301921623620271374,\n\t\t4.77846592945843778382,\n\t\t5.38168345707006855425,\n\t\t3.46625407242567245975,\n\t\t1\n\t],\n\n\tY4 = 9.3995571136474609375e-1,\n\tP4 = [\n\t\t2.66339227425782031962e-12,\n\t\t-2.30404776911882601748e-10,\n\t\t4.60469890584317994083e-6,\n\t\t1.57544617424960554631e-4,\n\t\t1.87123492819559223345e-3,\n\t\t9.50804701325919603619e-3,\n\t\t1.85573306514231072324e-2,\n\t\t-2.22426529213447927281e-3,\n\t\t-3.50353787183177984712e-2\n\t],\n\tQ4 = [\n\t\t7.64675292302794483503e-5,\n\t\t2.63861676657015992959e-3,\n\t\t3.41589143670947727934e-2,\n\t\t2.20091105764131249824e-1,\n\t\t7.62059164553623404043e-1,\n\t\t1.3653349817554063097,\n\t\t1\n\t],\n\n\tY5 = 9.8362827301025390625e-1,\n\tP5 = [\n\t\t9.9055709973310326855e-17,\n\t\t-2.81128735628831791805e-14,\n        4.62596163522878599135e-9,\n        4.49696789927706453732e-7,\n        1.49624783758342370182e-5,\n        2.09386317487588078668e-4,\n        1.05628862152492910091e-3,\n        -1.12951438745580278863e-3,\n\t\t-1.67431005076633737133e-2\n\t],\n\tQ5 = [\n\t\t2.82243172016108031869e-7,\n\t\t2.75335474764726041141e-5,\n        9.64011807005165528527e-4,\n        1.60746087093676504695e-2,\n        1.38151865749083321638e-1,\n        5.91429344886417493481e-1,\n        1\n\t];\n\n\n// FUNCTIONS //\n\n/**\n* FUNCTION: calc( x, v, P, Q, Y )\n*\tCalculates a rational approximation.\n*\n* @private\n* @param {Number} x\n* @param {Number} v\n* @param {Array} P - array of polynomial coefficients\n* @param {Array} Q - array of polynomial coefficients\n* @param {Number} Y\n* @returns {Number} rational approximation\n*/\nfunction calc( x, v, P, Q, Y ) {\n\tvar s, r;\n\ts = x - v;\n\tr = polyval( P, s ) / polyval( Q, s );\n\treturn Y*x + r*x;\n} // end FUNCTION calc()\n\n\n// ERFINV //\n\n/**\n* FUNCTION: erfcinv( x )\n*\tEvaluates the complementary inverse error function for an input value.\n*\n* @private\n* @param {Number} x - input value\n* @returns {Number} evaluated complementary inverse error function\n*/\nfunction erfcinv( x ) {\n\tvar sign = false,\n\t\tval,\n\t\tq, g, r;\n\n\t// [1] Special cases...\n\n\t// NaN:\n\tif ( x !== x ) {\n\t\treturn NaN;\n\t}\n\t// x not on the interval: [0,2]\n\tif ( x < 0 || x > 2 ) {\n\t\tthrow new RangeError ( 'erfcinv()::invalid input argument. Value must be on the interval [0,2]. Value: `' + x + '`.' );\n\t}\n\tif ( x === 0 ) {\n\t\treturn Number.POSITIVE_INFINITY;\n\t}\n\tif ( x === 2 ) {\n\t\treturn Number.NEGATIVE_INFINITY;\n\t}\n\tif ( x === 1 ) {\n\t\treturn 0;\n\t}\n\t// [2] Get the sign and make use of `erfc` reflection formula: `erfc(-z) = 2 - erfc(z)`...\n\tif ( x > 1 ) {\n\t\tq = 2 - x;\n\t\tx = 1 - q;\n\t\tsign = true;\n\t} else {\n\t\tq = x;\n\t\tx = 1 - x;\n\t}\n\t// [3] |x| <= 0.5\n\tif ( x <= 0.5 ) {\n\t\tg = x * (x+10);\n\t\tr = polyval( P1, x ) / polyval( Q1, x );\n\t\tval = g*Y1 + g*r;\n\t\treturn ( sign ) ? -val : val;\n\t}\n\n\t// [4] 1-|x| >= 0.25\n\tif ( q >= 0.25 ) {\n\t\tg = Math.sqrt( -2 * Math.log( q ) );\n\t\tq = q - 0.25;\n\t\tr = polyval( P2, q ) / polyval( Q2, q );\n\t\tval = g / (Y2+r);\n\t\treturn ( sign ) ? -val : val;\n\t}\n\tq = Math.sqrt( -Math.log( q ) );\n\n\t// [5] q < 3\n\tif ( q < 3 ) {\n\t\treturn calc( q, 1.125, P3, Q3, Y3 );\n\t}\n\t// [6] q < 6\n\tif ( q < 6 ) {\n\t\treturn calc( q, 3, P4, Q4, Y4 );\n\t}\n\t// Note that the smallest number in JavaScript is 5e-324. Math.sqrt( -Math.log( 5e-324 ) ) ~27.2844\n\treturn calc( q, 6, P5, Q5, Y5 );\n\n\t// Note that in the boost library, they are able to go to much smaller values, as 128 bit long doubles support ~1e-5000; something which JavaScript does not natively support.\n} // end FUNCTION erfcinv()\n\n\n// EXPORTS //\n\nmodule.exports = erfcinv;\n","'use strict';\n\n// MODULES //\n\nvar ERFCINV = require( './number.js' );\n\n\n// INVERSE COMPLEMENTARY ERROR FUNCTION //\n\n/**\n* FUNCTION: erfcinv( out, arr )\n*\tComputes the inverse complementary error function for each array element.\n*\n* @param {Array|Int8Array|Uint8Array|Uint8ClampedArray|Int16Array|Uint16Array|Int32Array|Uint32Array|Float32Array|Float64Array} out - output array\n* @param {Array} arr - input array\n* @returns {Number[]|Int8Array|Uint8Array|Uint8ClampedArray|Int16Array|Uint16Array|Int32Array|Uint32Array|Float32Array|Float64Array} output array\n*/\nfunction erfcinv( out, x ) {\n\tvar len = x.length,\n\t\ti;\n\tfor ( i = 0; i < len; i++ ) {\n\t\tif ( typeof x[ i ] === 'number' ) {\n\t\t\tout[ i ] = ERFCINV( x[ i ] );\n\t\t} else {\n\t\t\tout[ i ] = NaN;\n\t\t}\n\t}\n\treturn out;\n} // end FUNCTION erfcinv()\n\n\n// EXPORTS //\n\nmodule.exports = erfcinv;\n","'use strict';\n\n// MODULES //\n\nvar ERFCINV = require( './number.js' );\n\n\n// INVERSE COMPLEMENTARY ERROR FUNCTION //\n\n/**\n* FUNCTION: erfcinv( out, arr, accessor )\n*\tComputes the inverse complementary error function for each array element using an accessor function.\n*\n* @param {Array|Int8Array|Uint8Array|Uint8ClampedArray|Int16Array|Uint16Array|Int32Array|Uint32Array|Float32Array|Float64Array} out - output array\n* @param {Array} arr - input array\n* @param {Function} accessor - accessor function for accessing array values\n* @returns {Number[]|Int8Array|Uint8Array|Uint8ClampedArray|Int16Array|Uint16Array|Int32Array|Uint32Array|Float32Array|Float64Array} output array\n*/\nfunction erfcinv( out, x, clbk ) {\n\tvar len = x.length,\n\t\tv, i;\n\tfor ( i = 0; i < len; i++ ) {\n\t\tv = clbk( x[ i ], i );\n\t\tif ( typeof v === 'number' ) {\n\t\t\tout[ i ] = ERFCINV( v );\n\t\t} else {\n\t\t\tout[ i ] = NaN;\n\t\t}\n\t}\n\treturn out;\n} // end FUNCTION erfcinv()\n\n\n// EXPORTS //\n\nmodule.exports = erfcinv;\n","'use strict';\n\n// MODULES //\n\nvar isString = require( 'validate.io-string-primitive' ),\n\tisObject = require( 'validate.io-object' ),\n\tisBoolean = require( 'validate.io-boolean-primitive' );\n\n\n// VALIDATE //\n\n/**\n* FUNCTION: validate( opts, options )\n*\tValidates function options.\n*\n* @param {Object} opts - destination for function options\n* @param {Object} options - function options\n* @param {Boolean} [options.create] - boolean indicating whether to create a path if the key path does not already exist\n* @param {String} [options.sep] - key path separator\n* @returns {Error|Null} error or null\n*/\nfunction validate( opts, options ) {\n\tif ( !isObject( options ) ) {\n\t\treturn new TypeError( 'deepSet()::invalid input argument. Options argument must be an object. Value: `' + options + '`.' );\n\t}\n\tif ( options.hasOwnProperty( 'create' ) ) {\n\t\topts.create = options.create;\n\t\tif ( !isBoolean( opts.create ) ) {\n\t\t\treturn new TypeError( 'deepSet()::invalid option. Create option must be a boolean primitive. Option: `' + opts.create + '`.' );\n\t\t}\n\t}\n\tif ( options.hasOwnProperty( 'sep' ) ) {\n\t\topts.sep = options.sep;\n\t\tif ( !isString( opts.sep ) ) {\n\t\t\treturn new TypeError( 'deepSet()::invalid option. Key path separator must be a string primitive. Option: `' + opts.sep + '`.' );\n\t\t}\n\t}\n\treturn null;\n} // end FUNCTION validate()\n\n\n// EXPORTS //\n\nmodule.exports = validate;\n","'use strict';\n\n/**\n* FUNCTION: defaults()\n*\tReturns default options.\n*\n* @returns {Object} default options\n*/\nfunction defaults() {\n\treturn {\n\t\t'create': false,\n\t\t'sep': '.'\n\t};\n} // end FUNCTION defaults()\n\n\n// EXPORTS //\n\nmodule.exports = defaults;\n","'use strict';\n\n/**\n* FUNCTION: deepSet( obj, props, create, value )\n*\tDeep sets a nested property.\n*\n* @param {Object|Array} obj - input object\n* @param {Array} props - list of properties defining a key path\n* @param {Boolean} create - boolean indicating whether to create a path if the key path does not already exist\n* @param {*} value - value to set\n* @returns {Boolean} boolean indicating if the property was successfully set\n*/\nfunction deepSet( obj, props, create, val ) {\n\tvar len = props.length,\n\t\tbool = false,\n\t\tv = obj,\n\t\tp,\n\t\ti;\n\n\tfor ( i = 0; i < len; i++ ) {\n\t\tp = props[ i ];\n\t\tif ( typeof v === 'object' && v !== null ) {\n\t\t\tif ( !v.hasOwnProperty( p ) ) {\n\t\t\t\tif ( create ) {\n\t\t\t\t\tv[ p ] = {};\n\t\t\t\t} else {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ( i === len-1 ) {\n\t\t\t\tif ( typeof val === 'function' ) {\n\t\t\t\t\tv[ p ] = val( v[ p ] );\n\t\t\t\t} else {\n\t\t\t\t\tv[ p ] = val;\n\t\t\t\t}\n\t\t\t\tbool = true;\n\t\t\t} else {\n\t\t\t\tv = v[ p ];\n\t\t\t}\n\t\t} else {\n\t\t\tbreak;\n\t\t}\n\t}\n\treturn bool;\n} // end FUNCTION deepSet()\n\n\n// EXPORTS //\n\nmodule.exports = deepSet;\n","'use strict';\n\n// MODULES //\n\nvar isString = require( 'validate.io-string-primitive' ),\n\tisArray = require( 'validate.io-array' ),\n\tvalidate = require( './validate.js' ),\n\tdefaults = require( './defaults.js' ),\n\tdset = require( './deepset.js' );\n\n\n// DEEP SET //\n\n/**\n* FUNCTION: deepSet( obj, path, value[, opts] )\n*\tDeep sets a nested property.\n*\n* @param {Object|Array} obj - input object\n* @param {String|Array} path - key path\n* @param {*} value - value to set\n* @param {Object} [opts] - function options\n* @param {Boolean} [opts.create=false] - boolean indicating whether to create a path if the key path does not already exist\n* @param {String} [opts.sep='.'] - key path separator\n* @returns {Boolean} boolean indicating if the property was successfully set\n*/\nfunction deepSet( obj, path, value, options ) {\n\tvar isStr = isString( path ),\n\t\tprops,\n\t\topts,\n\t\terr;\n\tif ( typeof obj !== 'object' || obj === null ) {\n\t\treturn false;\n\t}\n\tif ( !isStr && !isArray( path ) ) {\n\t\tthrow new TypeError( 'deepSet()::invalid input argument. Key path must be a string primitive or a key array. Value: `' + path + '`.' );\n\t}\n\topts = defaults();\n\tif ( arguments.length > 3 ) {\n\t\terr = validate( opts, options );\n\t\tif ( err ) {\n\t\t\tthrow err;\n\t\t}\n\t}\n\tif ( isStr ) {\n\t\tprops = path.split( opts.sep );\n\t} else {\n\t\tprops = path;\n\t}\n\treturn dset( obj, props, opts.create, value );\n} // end FUNCTION deepSet()\n\n\n// EXPORTS //\n\nmodule.exports = deepSet;\nmodule.exports.factory = require( './factory.js' );\n","'use strict';\n\n// MODULES //\n\nvar isString = require( 'validate.io-string-primitive' ),\n\tisArray = require( 'validate.io-array' ),\n\tvalidate = require( './validate.js' ),\n\tdefaults = require( './defaults.js' ),\n\tdset = require( './deepset.js' );\n\n\n// FACTORY //\n\n/**\n* FUNCTION: factory( path[, opts] )\n*\tCreates a reusable deep set factory.\n*\n* @param {String|Array} path - key path\n* @param {Object} [opts] - function options\n* @param {Boolean} [opts.create=false] - boolean indicating whether to create a path if the key path does not already exist\n* @param {String} [opts.sep='.'] - key path separator\n* @returns {Function} deep set factory\n*/\nfunction factory( path, options ) {\n\tvar isStr = isString( path ),\n\t\tprops,\n\t\topts,\n\t\terr;\n\tif ( !isStr && !isArray( path ) ) {\n\t\tthrow new TypeError( 'deepSet()::invalid input argument. Key path must be a string primitive or a key array. Value: `' + path + '`.' );\n\t}\n\topts = defaults();\n\tif ( arguments.length > 1 ) {\n\t\terr = validate( opts, options );\n\t\tif ( err ) {\n\t\t\tthrow err;\n\t\t}\n\t}\n\tif ( isStr ) {\n\t\tprops = path.split( opts.sep );\n\t} else {\n\t\tprops = path;\n\t}\n\t/**\n\t* FUNCTION: deepSet( obj, value )\n\t*\tDeep sets a nested property.\n\t*\n\t* @param {Object|Array} obj - input object\n\t* @param {*} value - value to set\n\t* @returns {Boolean} boolean indicating if the property was successfully set\n\t*/\n\treturn function deepSet( obj, value ) {\n\t\tif ( typeof obj !== 'object' || obj === null ) {\n\t\t\treturn false;\n\t\t}\n\t\treturn dset( obj, props, opts.create, value );\n\t};\n} // end FUNCTION factory()\n\n\n// EXPORTS //\n\nmodule.exports = factory;\n","'use strict';\n\n// MODULES //\n\nvar isString = require( 'validate.io-string-primitive' ),\n\tisObject = require( 'validate.io-object' );\n\n\n// VALIDATE //\n\n/**\n* FUNCTION: validate( opts, options )\n*\tValidates function options.\n*\n* @param {Object} opts - destination for function options\n* @param {Object} options - function options\n* @param {String} [options.sep] - key path separator\n* @returns {Error|Null} error or null\n*/\nfunction validate( opts, options ) {\n\tif ( !isObject( options ) ) {\n\t\treturn new TypeError( 'deepGet()::invalid input argument. Options argument must be an object. Value: `' + options + '`.' );\n\t}\n\tif ( options.hasOwnProperty( 'sep' ) ) {\n\t\topts.sep = options.sep;\n\t\tif ( !isString( opts.sep ) ) {\n\t\t\treturn new TypeError( 'deepGet()::invalid option. Key path separator must be a string primitive. Option: `' + opts.sep + '`.' );\n\t\t}\n\t}\n\treturn null;\n} // end FUNCTION validate()\n\n\n// EXPORTS //\n\nmodule.exports = validate;\n","'use strict';\n\n/**\n* FUNCTION: defaults()\n*\tReturns default options.\n*\n* @returns {Object} default options\n*/\nfunction defaults() {\n\treturn {\n\t\t'sep': '.'\n\t};\n} // end FUNCTION defaults()\n\n\n// EXPORTS //\n\nmodule.exports = defaults;\n","'use strict';\n\n/**\n* FUNCTION: deepGet( obj, props )\n*\tDeep get a nested property.\n*\n* @param {Object|Array} obj - input object\n* @param {Array} props - list of properties defining a key path\n* @returns {*} nested property value\n*/\nfunction deepGet( obj, props ) {\n\tvar len = props.length,\n\t\tv = obj,\n\t\ti;\n\n\tfor ( i = 0; i < len; i++ ) {\n\t\tif ( typeof v === 'object' && v !== null && v.hasOwnProperty( props[i] ) ) {\n\t\t\tv = v[ props[i] ];\n\t\t} else {\n\t\t\treturn;\n\t\t}\n\t}\n\treturn v;\n} // end FUNCTION deepGet()\n\n\n// EXPORTS //\n\nmodule.exports = deepGet;\n","'use strict';\n\n// MODULES //\n\nvar isString = require( 'validate.io-string-primitive' ),\n\tisArray = require( 'validate.io-array' ),\n\tvalidate = require( './validate.js' ),\n\tdefaults = require( './defaults.js' ),\n\tdget = require( './deepget.js' );\n\n\n// DEEP GET //\n\n/**\n* FUNCTION: deepGet( obj, path[, opts] )\n*\tDeep get a nested property.\n*\n* @param {Object|Array} obj - input object\n* @param {String|Array} path - key path\n* @param {Object} [opts] - function options\n* @param {String} [opts.sep='.'] - key path separator\n* @returns {*} nested property value\n*/\nfunction deepGet( obj, path, options ) {\n\tvar isStr = isString( path ),\n\t\tprops,\n\t\topts,\n\t\terr;\n\tif ( typeof obj !== 'object' || obj === null ) {\n\t\treturn;\n\t}\n\tif ( !isStr && !isArray( path ) ) {\n\t\tthrow new TypeError( 'deepGet()::invalid input argument. Key path must be a string primitive or a key array. Value: `' + path + '`.' );\n\t}\n\topts = defaults();\n\tif ( arguments.length > 2 ) {\n\t\terr = validate( opts, options );\n\t\tif ( err ) {\n\t\t\tthrow err;\n\t\t}\n\t}\n\tif ( isStr ) {\n\t\tprops = path.split( opts.sep );\n\t} else {\n\t\tprops = path;\n\t}\n\treturn dget( obj, props );\n} // end FUNCTION deepGet()\n\n\n// EXPORTS //\n\nmodule.exports = deepGet;\nmodule.exports.factory = require( './factory.js' );\n","'use strict';\n\n// MODULES //\n\nvar isString = require( 'validate.io-string-primitive' ),\n\tisArray = require( 'validate.io-array' ),\n\tvalidate = require( './validate.js' ),\n\tdefaults = require( './defaults.js' ),\n\tdget = require( './deepget.js' );\n\n\n// FACTORY //\n\n/**\n* FUNCTION: factory( path[, opts] )\n*\tCreates a reusable deep get factory.\n*\n* @param {String|Array} path - key path\n* @param {Object} [opts] - function options\n* @param {String} [opts.sep='.'] - key path separator\n* @returns {Function} deep get factory\n*/\nfunction factory( path, options ) {\n\tvar isStr = isString( path ),\n\t\tprops,\n\t\topts,\n\t\terr;\n\tif ( !isStr && !isArray( path ) ) {\n\t\tthrow new TypeError( 'deepGet()::invalid input argument. Key path must be a string primitive or a key array. Value: `' + path + '`.' );\n\t}\n\topts = defaults();\n\tif ( arguments.length > 1 ) {\n\t\terr = validate( opts, options );\n\t\tif ( err ) {\n\t\t\tthrow err;\n\t\t}\n\t}\n\tif ( isStr ) {\n\t\tprops = path.split( opts.sep );\n\t} else {\n\t\tprops = path;\n\t}\n\t/**\n\t* FUNCTION: deepGet( obj )\n\t*\tDeep get a nested property.\n\t*\n\t* @param {Object|Array} obj - input object\n\t* @returns {*} nested property value\n\t*/\n\treturn function deepGet( obj ) {\n\t\tif ( typeof obj !== 'object' || obj === null ) {\n\t\t\treturn;\n\t\t}\n\t\treturn dget( obj, props );\n\t};\n} // end FUNCTION factory()\n\n\n// EXPORTS //\n\nmodule.exports = factory;\n","'use strict';\n\n// MODULES //\n\nvar deepSet = require( 'utils-deep-set' ).factory,\n\tdeepGet = require( 'utils-deep-get' ).factory,\n\tERFCINV = require( './number.js' );\n\n\n// INVERSE COMPLEMENTARY ERROR FUNCTION //\n\n/**\n* FUNCTION: erfcinv( arr, path[, sep] )\n*\tComputes the inverse complementary error function for each array element and deep sets the input array.\n*\n* @param {Array} arr - input array\n* @param {String} path - key path used when deep getting and setting\n* @param {String} [sep] - key path separator\n* @returns {Array} input array\n*/\nfunction erfcinv( x, path, sep ) {\n\tvar len = x.length,\n\t\topts = {},\n\t\tdget,\n\t\tdset,\n\t\tv, i;\n\tif ( arguments.length > 2 ) {\n\t\topts.sep = sep;\n\t}\n\tif ( len ) {\n\t\tdget = deepGet( path, opts );\n\t\tdset = deepSet( path, opts );\n\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\tv = dget( x[ i ] );\n\t\t\tif ( typeof v === 'number' ) {\n\t\t\t\tdset( x[ i ], ERFCINV( v ) );\n\t\t\t} else {\n\t\t\t\tdset( x[ i ], NaN );\n\t\t\t}\n\t\t}\n\t}\n\treturn x;\n} // end FUNCTION erfcinv()\n\n\n// EXPORTS //\n\nmodule.exports = erfcinv;\n","'use strict';\n\n// MODULES //\n\nvar ERFCINV = require( './number.js' );\n\n\n// INVERSE COMPLEMENTARY ERROR FUNCTION //\n\n/**\n* FUNCTION: erfcinv( out, x )\n*\tEvaluates the inverse complementary error function for each matrix element.\n*\n* @param {Matrix} out - output matrix\n* @param {Matrix} x - input matrix\n* @returns {Matrix} output matrix\n*/\nfunction erfcinv( out, x ) {\n\tvar len = x.length,\n\t\ti;\n\tif ( out.length !== len ) {\n\t\tthrow new Error( 'erfcinv()::invalid input arguments. Input and output matrices must be the same length.' );\n\t}\n\tfor ( i = 0; i < len; i++ ) {\n\t\tout.data[ i ] = ERFCINV( x.data[ i ] );\n\t}\n\treturn out;\n} // end FUNCTION erfcinv()\n\n\n// EXPORTS //\n\nmodule.exports = erfcinv;\n","'use strict';\n\n// MODULES //\n\nvar ERFCINV = require( './number.js' );\n\n\n// INVERSE COMPLEMENTARY ERROR FUNCTION //\n\n/**\n* FUNCTION: erfcinv( out, arr )\n*\tComputes the inverse complementary error function for each typed-array element.\n*\n* @param {Array|Int8Array|Uint8Array|Uint8ClampedArray|Int16Array|Uint16Array|Int32Array|Uint32Array|Float32Array|Float64Array} out - output array\n* @param {Int8Array|Uint8Array|Uint8ClampedArray|Int16Array|Uint16Array|Int32Array|Uint32Array|Float32Array|Float64Array} arr - input array\n* @returns {Number[]|Int8Array|Uint8Array|Uint8ClampedArray|Int16Array|Uint16Array|Int32Array|Uint32Array|Float32Array|Float64Array} output array\n*/\nfunction erfcinv( out, x ) {\n\tvar len = x.length,\n\t\ti;\n\tfor ( i = 0; i < len; i++ ) {\n\t\tout[ i ] = ERFCINV( x[ i ] );\n\t}\n\treturn out;\n} // end FUNCTION erfcinv()\n\n\n// EXPORTS //\n\nmodule.exports = erfcinv;\n","'use strict';\n\n// MODULES //\n\nvar isNumber = require( 'validate.io-number-primitive' ),\n\tisnan = require( 'validate.io-nan' ),\n\tisArrayLike = require( 'validate.io-array-like' ),\n\tisTypedArrayLike = require( 'validate.io-typed-array-like' ),\n\tisMatrixLike = require( 'validate.io-matrix-like' ),\n\tctors = require( 'compute-array-constructors' ),\n\tmatrix = require( 'dstructs-matrix' ),\n\tvalidate = require( './validate.js' );\n\n\n// FUNCTIONS //\n\nvar erfcinv1 = require( './number.js' ),\n\terfcinv2 = require( './array.js' ),\n\terfcinv3 = require( './accessor.js' ),\n\terfcinv4 = require( './deepset.js' ),\n\terfcinv5 = require( './matrix.js' ),\n\terfcinv6 = require( './typedarray.js' );\n\n\n// INVERSE COMPLEMENTARY ERROR FUNCTION //\n\n/**\n* FUNCTION: erfcinv( x[, opts] )\n*\tComputes the inverse complementary error function.\n*\n* @param {Number|Number[]|Array|Int8Array|Uint8Array|Uint8ClampedArray|Int16Array|Uint16Array|Int32Array|Uint32Array|Float32Array|Float64Array|Matrix} x - input value\n* @param {Object} [opts] - function options\n* @param {Boolean} [opts.copy=true] - boolean indicating if the function should return a new data structure\n* @param {Function} [opts.accessor] - accessor function for accessing array values\n* @param {String} [opts.path] - deep get/set key path\n* @param {String} [opts.sep=\".\"] - deep get/set key path separator\n* @param {String} [opts.dtype=\"float64\"] - output data type\n* @returns {Number|Number[]|Array|Int8Array|Uint8Array|Uint8ClampedArray|Int16Array|Uint16Array|Int32Array|Uint32Array|Float32Array|Float64Array|Matrix} evaluated complementary inverse error function value(s)\n*/\nfunction erfcinv( x, options ) {\n\t/* jshint newcap:false */\n\tvar opts = {},\n\t\tctor,\n\t\terr,\n\t\tout,\n\t\tdt,\n\t\td;\n\n\tif ( isNumber( x ) || isnan( x ) ) {\n\t\treturn erfcinv1( x );\n\t}\n\tif ( arguments.length > 1 ) {\n\t\terr = validate( opts, options );\n\t\tif ( err ) {\n\t\t\tthrow err;\n\t\t}\n\t}\n\tif ( isMatrixLike( x ) ) {\n\t\tif ( opts.copy !== false ) {\n\t\t\tdt = opts.dtype || 'float64';\n\t\t\tctor = ctors( dt );\n\t\t\tif ( ctor === null ) {\n\t\t\t\tthrow new Error( 'erfcinv()::invalid option. Data type option does not have a corresponding array constructor. Option: `' + dt + '`.' );\n\t\t\t}\n\t\t\t// Create an output matrix:\n\t\t\td = new ctor( x.length );\n\t\t\tout = matrix( d, x.shape, dt );\n\t\t} else {\n\t\t\tout = x;\n\t\t}\n\t\treturn erfcinv5( out, x );\n\t}\n\tif ( isTypedArrayLike( x ) ) {\n\t\tif ( opts.copy === false ) {\n\t\t\tout = x;\n\t\t} else {\n\t\t\tdt = opts.dtype || 'float64';\n\t\t\tctor = ctors( dt );\n\t\t\tif ( ctor === null ) {\n\t\t\t\tthrow new Error( 'erfcinv()::invalid option. Data type option does not have a corresponding array constructor. Option: `' + dt + '`.' );\n\t\t\t}\n\t\t\tout = new ctor( x.length );\n\t\t}\n\t\treturn erfcinv6( out, x );\n\t}\n\tif ( isArrayLike( x ) ) {\n\t\t// Handle deepset first...\n\t\tif ( opts.path ) {\n\t\t\topts.sep = opts.sep || '.';\n\t\t\treturn erfcinv4( x, opts.path, opts.sep );\n\t\t}\n\t\t// Handle regular and accessor arrays next...\n\t\tif ( opts.copy === false ) {\n\t\t\tout = x;\n\t\t}\n\t\telse if ( opts.dtype ) {\n\t\t\tctor = ctors( opts.dtype );\n\t\t\tif ( ctor === null ) {\n\t\t\t\tthrow new TypeError( 'erfcinv()::invalid option. Data type option does not have a corresponding array constructor. Option: `' + opts.dtype + '`.' );\n\t\t\t}\n\t\t\tout = new ctor( x.length );\n\t\t}\n\t\telse {\n\t\t\tout = new Array( x.length );\n\t\t}\n\t\tif ( opts.accessor ) {\n\t\t\treturn erfcinv3( out, x, opts.accessor );\n\t\t}\n\t\treturn erfcinv2( out, x );\n\t}\n\treturn NaN;\n} // end FUNCTION erfcinv()\n\n\n// EXPORTS //\n\nmodule.exports = erfcinv;\n","'use strict';\n\n// MODULES //\n\nvar isNumber = require( 'validate.io-number-primitive' );\n\n\n// IS POSITIVE //\n\n/**\n* FUNCTION: isPositive( value )\n*\tValidates if a value is a positive number primitive.\n*\n* @param {*} value - value to be validated\n* @returns {Boolean} boolean indicating if a value is a positive number primitive\n*/\nfunction isPositive( value ) {\n\treturn isNumber( value ) && value > 0;\n} // end FUNCTION isPositive()\n\n\n// EXPORTS //\n\nmodule.exports = isPositive;\n","'use strict';\n\n// MODULES //\n\nvar isObject = require( 'validate.io-object' ),\n\tisPositive = require( 'validate.io-positive-primitive' ),\n\tisBoolean = require( 'validate.io-boolean-primitive' ),\n\tisFunction = require( 'validate.io-function' ),\n\tisString = require( 'validate.io-string-primitive' );\n\n\n// VALIDATE //\n\n/**\n* FUNCTION: validate( opts, options )\n*\tValidates function options.\n*\n* @param {Object} opts - destination for validated options\n* @param {Object} options - function options\n* @param {Number} [options.sigma=1] - scale parameter\n* @param {Boolean} [options.copy] - boolean indicating if the function should return a new data structure\n* @param {Function} [options.accessor] - accessor function for accessing array values\n* @param {String} [options.sep] - deep get/set key path separator\n* @param {String} [options.path] - deep get/set key path\n* @param {String} [options.dtype] - output data type\n* @returns {Null|Error} null or an error\n*/\nfunction validate( opts, options ) {\n\tif ( !isObject( options ) ) {\n\t\treturn new TypeError( 'cdf()::invalid input argument. Options argument must be an object. Value: `' + options + '`.' );\n\t}\n\tif ( options.hasOwnProperty( 'sigma' ) ) {\n\t\topts.sigma = options.sigma;\n\t\tif ( !isPositive( opts.sigma ) ) {\n\t\t\treturn new TypeError( 'cdf()::invalid option. `sigma` parameter must be a positive number. Option: `' + opts.sigma + '`.' );\n\t\t}\n\t}\n\tif ( options.hasOwnProperty( 'copy' ) ) {\n\t\topts.copy = options.copy;\n\t\tif ( !isBoolean( opts.copy ) ) {\n\t\t\treturn new TypeError( 'cdf()::invalid option. Copy option must be a boolean primitive. Option: `' + opts.copy + '`.' );\n\t\t}\n\t}\n\tif ( options.hasOwnProperty( 'accessor' ) ) {\n\t\topts.accessor = options.accessor;\n\t\tif ( !isFunction( opts.accessor ) ) {\n\t\t\treturn new TypeError( 'cdf()::invalid option. Accessor must be a function. Option: `' + opts.accessor + '`.' );\n\t\t}\n\t}\n\tif ( options.hasOwnProperty( 'path' ) ) {\n\t\topts.path = options.path;\n\t\tif ( !isString( opts.path ) ) {\n\t\t\treturn new TypeError( 'cdf()::invalid option. Key path option must be a string primitive. Option: `' + opts.path + '`.' );\n\t\t}\n\t}\n\tif ( options.hasOwnProperty( 'sep' ) ) {\n\t\topts.sep = options.sep;\n\t\tif ( !isString( opts.sep ) ) {\n\t\t\treturn new TypeError( 'cdf()::invalid option. Separator option must be a string primitive. Option: `' + opts.sep + '`.' );\n\t\t}\n\t}\n\tif ( options.hasOwnProperty( 'dtype' ) ) {\n\t\topts.dtype = options.dtype;\n\t\tif ( !isString( opts.dtype ) ) {\n\t\t\treturn new TypeError( 'cdf()::invalid option. Data type option must be a string primitive. Option: `' + opts.dtype + '`.' );\n\t\t}\n\t}\n\treturn null;\n} // end FUNCTION validate()\n\n\n// EXPORTS //\n\nmodule.exports = validate;\n","'use strict';\n\n// FUNCTIONS //\n\nvar expm1 = Math.expm1 || function(x) {\n  return Math.exp(x) - 1;\n};\nvar pow = Math.pow;\n\n\n\n// CDF //\n\n/**\n* FUNCTION: cdf( x, sigma )\n*\tEvaluates the cumulative distribution function (CDF) for a Rayleigh distribution with scale parameter `sigma` at a value `x`.\n*\n* @param {Number} x - input value\n* @param {Number} sigma - scale parameter\n* @returns {Number} evaluated CDF\n*/\nfunction cdf( x, sigma ) {\n\tif ( x < 0 ) {\n\t\treturn 0;\n\t}\n\tvar s2 = pow( sigma, 2 );\n\treturn -expm1( - pow( x, 2) / ( 2 * s2 ) );\n} // end FUNCTION cdf()\n\n\n// EXPORTS //\n\nmodule.exports = cdf;\n","'use strict';\n\n// FUNCTIONS //\n\nvar expm1 = Math.expm1 || function(x) {\n  return Math.exp(x) - 1;\n};\nvar pow = Math.pow;\n\n\n// PARTIAL //\n\n/**\n* FUNCTION: partial( sigma )\n*\tPartially applies scale parameter `sigma` and returns a function for evaluating the cumulative distribution function (CDF) for a Rayleigh distribution.\n*\n* @param {Number} sigma - scale parameter\n* @returns {Function} CDF\n*/\nfunction partial( sigma ) {\n\tvar s2 = pow( sigma, 2 );\n\t/**\n\t* FUNCTION: cdf( x )\n\t*\tEvaluates the cumulative distribution function (CDF) for a Rayleigh distribution.\n\t*\n\t* @private\n\t* @param {Number} x - input value\n\t* @returns {Number} evaluated CDF\n\t*/\n\treturn function cdf( x ) {\n\t\tif ( x < 0 ) {\n\t\t\treturn 0;\n\t\t}\n\t\treturn -expm1( - pow( x, 2) / ( 2 * s2 ) ) ;\n\t};\n} // end FUNCTION partial()\n\n\n// EXPORTS //\n\nmodule.exports = partial;\n","'use strict';\n\n// MODULES //\n\nvar partial = require( './partial.js' );\n\n\n// CDF //\n\n/**\n* FUNCTION: cdf( out, arr, sigma )\n*\tEvaluates the cumulative distribution function (CDF) for a Rayleigh distribution with scale parameter `sigma` for each array element.\n*\n* @param {Array|Int8Array|Uint8Array|Uint8ClampedArray|Int16Array|Uint16Array|Int32Array|Uint32Array|Float32Array|Float64Array} out - output array\n* @param {Array} arr - input array\n* @param {Number} sigma - scale parameter\n* @returns {Number[]|Int8Array|Uint8Array|Uint8ClampedArray|Int16Array|Uint16Array|Int32Array|Uint32Array|Float32Array|Float64Array} output array\n*/\nfunction cdf( y, x, sigma ) {\n\tvar len = x.length,\n\t\tfcn,\n\t\ti;\n\n\tfcn = partial( sigma );\n\tfor ( i = 0; i < len; i++ ) {\n\t\tif ( typeof x[ i ] === 'number' ) {\n\t\t\ty[ i ] = fcn( x[ i ] );\n\t\t} else {\n\t\t\ty[ i ] = NaN;\n\t\t}\n\t}\n\treturn y;\n} // end FUNCTION cdf()\n\n\n// EXPORTS //\n\nmodule.exports = cdf;\n","'use strict';\n\n// MODULES //\n\nvar partial = require( './partial.js' );\n\n\n// CDF //\n\n/**\n* FUNCTION: cdf( out, arr, sigma, accessor )\n*\tEvaluates the cumulative distribution function (CDF) for a Rayleigh distribution with scale parameter `sigma` using an accessor function.\n*\n* @param {Array|Int8Array|Uint8Array|Uint8ClampedArray|Int16Array|Uint16Array|Int32Array|Uint32Array|Float32Array|Float64Array} out - output array\n* @param {Array} arr - input array\n* @param {Number} sigma - scale parameter\n* @param {Function} accessor - accessor function for accessing array values\n* @returns {Number[]|Int8Array|Uint8Array|Uint8ClampedArray|Int16Array|Uint16Array|Int32Array|Uint32Array|Float32Array|Float64Array} output array\n*/\nfunction cdf( y, x, sigma, clbk ) {\n\tvar len = x.length,\n\t\tfcn,\n\t\tv, i;\n\n\tfcn = partial( sigma );\n\tfor ( i = 0; i < len; i++ ) {\n\t\tv = clbk( x[ i ], i );\n\t\tif ( typeof v === 'number' ) {\n\t\t\ty[ i ] = fcn( v );\n\t\t} else {\n\t\t\ty[ i ] = NaN;\n\t\t}\n\t}\n\treturn y;\n} // end FUNCTION cdf()\n\n\n// EXPORTS //\n\nmodule.exports = cdf;\n","'use strict';\n\n// MODULES //\n\nvar deepSet = require( 'utils-deep-set' ).factory,\n\tdeepGet = require( 'utils-deep-get' ).factory,\n\tpartial = require( './partial.js' );\n\n\n// CDF //\n\n/**\n* FUNCTION: cdf( arr, sigma, path[, sep] )\n*\tEvaluates the cumulative distribution function (CDF) for a Rayleigh distribution with scale parameter `sigma` for each array element and sets the input array.\n*\n* @param {Array} arr - input array\n* @param {Number} sigma - scale parameter\n* @param {String} path - key path used when deep getting and setting\n* @param {String} [sep] - key path separator\n* @returns {Array} input array\n*/\nfunction cdf( x, sigma, path, sep ) {\n\tvar len = x.length,\n\t\topts = {},\n\t\tdget,\n\t\tdset,\n\t\tfcn,\n\t\tv, i;\n\tif ( arguments.length > 3 ) {\n\t\topts.sep = sep;\n\t}\n\tif ( len ) {\n\t\tdget = deepGet( path, opts );\n\t\tdset = deepSet( path, opts );\n\t\tfcn = partial( sigma );\n\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\tv = dget( x[ i ] );\n\t\t\tif ( typeof v === 'number' ) {\n\t\t\t\tdset( x[i], fcn( v ) );\n\t\t\t} else {\n\t\t\t\tdset( x[i], NaN );\n\t\t\t}\n\t\t}\n\t}\n\treturn x;\n} // end FUNCTION cdf()\n\n\n// EXPORTS //\n\nmodule.exports = cdf;\n","'use strict';\n\n// MODULES //\n\nvar partial = require( './partial.js' );\n\n\n// CDF //\n\n/**\n* FUNCTION: cdf( out, matrix, sigma )\n*\tEvaluates the cumulative distribution function (CDF) for a Rayleigh distribution with scale parameter `sigma` for each matrix element.\n*\n* @param {Matrix} out - output matrix\n* @param {Matrix} arr - input matrix\n* @param {Number} sigma - scale parameter\n* @returns {Matrix} output matrix\n*/\nfunction cdf( y, x, sigma ) {\n\tvar len = x.length,\n\t\tfcn,\n\t\ti;\n\tif ( y.length !== len ) {\n\t\tthrow new Error( 'cdf()::invalid input arguments. Input and output matrices must be the same length.' );\n\t}\n\tfcn = partial( sigma );\n\tfor ( i = 0; i < len; i++ ) {\n\t\ty.data[ i ] = fcn( x.data[ i ] );\n\t}\n\treturn y;\n} // end FUNCTION cdf()\n\n\n// EXPORTS //\n\nmodule.exports = cdf;\n","'use strict';\n\n// MODULES //\n\nvar partial = require( './partial.js' );\n\n\n// CDF //\n\n/**\n* FUNCTION: cdf( out, arr, sigma )\n*\tEvaluates the cumulative distribution function (CDF) for a Rayleigh distribution with scale parameter `sigma` for each array element.\n*\n* @param {Array|Int8Array|Uint8Array|Uint8ClampedArray|Int16Array|Uint16Array|Int32Array|Uint32Array|Float32Array|Float64Array} out - output array\n* @param {Int8Array|Uint8Array|Uint8ClampedArray|Int16Array|Uint16Array|Int32Array|Uint32Array|Float32Array|Float64Array} arr - input array\n* @param {Number} sigma - scale parameter\n* @returns {Number[]|Int8Array|Uint8Array|Uint8ClampedArray|Int16Array|Uint16Array|Int32Array|Uint32Array|Float32Array|Float64Array} output array\n*/\nfunction cdf( y, x, sigma ) {\n\tvar len = x.length,\n\t\tfcn,\n\t\ti;\n\n\tfcn = partial ( sigma );\n\tfor ( i = 0; i < len; i++ ) {\n\t\ty[ i ] = fcn( x[ i ] );\n\t}\n\treturn y;\n} // end FUNCTION cdf()\n\n\n// EXPORTS //\n\nmodule.exports = cdf;\n","'use strict';\n\n// MODULES //\n\nvar isNumber = require( 'validate.io-number-primitive' ),\n\tisArrayLike = require( 'validate.io-array-like' ),\n\tisTypedArrayLike = require( 'validate.io-typed-array-like' ),\n\tisMatrixLike = require( 'validate.io-matrix-like' ),\n\tctors = require( 'compute-array-constructors' ),\n\tmatrix = require( 'dstructs-matrix' ),\n\tvalidate = require( './validate.js' );\n\n\n// FUNCTIONS //\n\nvar cdf1 = require( './number.js' ),\n\tcdf2 = require( './array.js' ),\n\tcdf3 = require( './accessor.js' ),\n\tcdf4 = require( './deepset.js' ),\n\tcdf5 = require( './matrix.js' ),\n\tcdf6 = require( './typedarray.js' );\n\n\n// CDF //\n\n/**\n* FUNCTION: cdf( x[, opts] )\n*\tEvaluates the cumulative distribution function (CDF) for a Rayleigh distribution.\n*\n* @param {Number|Number[]|Array|Int8Array|Uint8Array|Uint8ClampedArray|Int16Array|Uint16Array|Int32Array|Uint32Array|Float32Array|Float64Array|Matrix} x - input value\n* @param {Object} [opts] - function options\n* @param {Number} [opts.sigma=1] - scale parameter\n* @param {Boolean} [opts.copy=true] - boolean indicating if the function should return a new data structure\n* @param {Function} [opts.accessor] - accessor function for accessing array values\n* @param {String} [opts.path] - deep get/set key path\n* @param {String} [opts.sep=\".\"] - deep get/set key path separator\n* @param {String} [opts.dtype=\"float64\"] - output data type\n* @returns {Number|Number[]|Array|Int8Array|Uint8Array|Uint8ClampedArray|Int16Array|Uint16Array|Int32Array|Uint32Array|Float32Array|Float64Array|Matrix} evaluated CDF\n*/\nfunction cdf( x, options ) {\n\t/* jshint newcap:false */\n\tvar opts = {},\n\t\tctor,\n\t\terr,\n\t\tout,\n\t\tdt,\n\t\td;\n\n\tif ( arguments.length > 1 ) {\n\t\terr = validate( opts, options );\n\t\tif ( err ) {\n\t\t\tthrow err;\n\t\t}\n\t}\n\topts.sigma = typeof opts.sigma !== 'undefined' ? opts.sigma : 1;\n\n\tif ( isNumber( x ) ) {\n\t\treturn cdf1( x, opts.sigma );\n\t}\n\tif ( isMatrixLike( x ) ) {\n\t\tif ( opts.copy !== false ) {\n\t\t\tdt = opts.dtype || 'float64';\n\t\t\tctor = ctors( dt );\n\t\t\tif ( ctor === null ) {\n\t\t\t\tthrow new Error( 'cdf()::invalid option. Data type option does not have a corresponding array constructor. Option: `' + dt + '`.' );\n\t\t\t}\n\t\t\t// Create an output matrix:\n\t\t\td = new ctor( x.length );\n\t\t\tout = matrix( d, x.shape, dt );\n\t\t} else {\n\t\t\tout = x;\n\t\t}\n\t\treturn cdf5( out, x, opts.sigma );\n\t}\n\tif ( isTypedArrayLike( x ) ) {\n\t\tif ( opts.copy === false ) {\n\t\t\tout = x;\n\t\t} else {\n\t\t\tdt = opts.dtype || 'float64';\n\t\t\tctor = ctors( dt );\n\t\t\tif ( ctor === null ) {\n\t\t\t\tthrow new Error( 'cdf()::invalid option. Data type option does not have a corresponding array constructor. Option: `' + dt + '`.' );\n\t\t\t}\n\t\t\tout = new ctor( x.length );\n\t\t}\n\t\treturn cdf6( out, x, opts.sigma );\n\t}\n\tif ( isArrayLike( x ) ) {\n\t\t// Handle deepset first...\n\t\tif ( opts.path ) {\n\t\t\topts.sep = opts.sep || '.';\n\t\t\treturn cdf4( x, opts.sigma, opts.path, opts.sep );\n\t\t}\n\t\t// Handle regular and accessor arrays next...\n\t\tif ( opts.copy === false ) {\n\t\t\tout = x;\n\t\t}\n\t\telse if ( opts.dtype ) {\n\t\t\tctor = ctors( opts.dtype );\n\t\t\tif ( ctor === null ) {\n\t\t\t\tthrow new TypeError( 'cdf()::invalid option. Data type option does not have a corresponding array constructor. Option: `' + opts.dtype + '`.' );\n\t\t\t}\n\t\t\tout = new ctor( x.length );\n\t\t}\n\t\telse {\n\t\t\tout = new Array( x.length );\n\t\t}\n\t\tif ( opts.accessor ) {\n\t\t\treturn cdf3( out, x, opts.sigma, opts.accessor );\n\t\t}\n\t\treturn cdf2( out, x, opts.sigma );\n\t}\n\treturn NaN;\n} // end FUNCTION cdf()\n\n\n// EXPORTS //\n\nmodule.exports = cdf;\n","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n  typeof define === 'function' && define.amd ? define(['exports'], factory) :\n  (factory((global.d3_array = {})));\n}(this, function (exports) { 'use strict';\n\n  function ascending(a, b) {\n    return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n  }\n\n  function bisector(compare) {\n    if (compare.length === 1) compare = ascendingComparator(compare);\n    return {\n      left: function(a, x, lo, hi) {\n        if (lo == null) lo = 0;\n        if (hi == null) hi = a.length;\n        while (lo < hi) {\n          var mid = lo + hi >>> 1;\n          if (compare(a[mid], x) < 0) lo = mid + 1;\n          else hi = mid;\n        }\n        return lo;\n      },\n      right: function(a, x, lo, hi) {\n        if (lo == null) lo = 0;\n        if (hi == null) hi = a.length;\n        while (lo < hi) {\n          var mid = lo + hi >>> 1;\n          if (compare(a[mid], x) > 0) hi = mid;\n          else lo = mid + 1;\n        }\n        return lo;\n      }\n    };\n  }\n\n  function ascendingComparator(f) {\n    return function(d, x) {\n      return ascending(f(d), x);\n    };\n  }\n\n  var ascendingBisect = bisector(ascending);\n  var bisectRight = ascendingBisect.right;\n  var bisectLeft = ascendingBisect.left;\n\n  function descending(a, b) {\n    return b < a ? -1 : b > a ? 1 : b >= a ? 0 : NaN;\n  }\n\n  function number$1(x) {\n    return x === null ? NaN : +x;\n  }\n\n  function variance(array, f) {\n    var n = array.length,\n        m = 0,\n        a,\n        d,\n        s = 0,\n        i = -1,\n        j = 0;\n\n    if (f == null) {\n      while (++i < n) {\n        if (!isNaN(a = number$1(array[i]))) {\n          d = a - m;\n          m += d / ++j;\n          s += d * (a - m);\n        }\n      }\n    }\n\n    else {\n      while (++i < n) {\n        if (!isNaN(a = number$1(f(array[i], i, array)))) {\n          d = a - m;\n          m += d / ++j;\n          s += d * (a - m);\n        }\n      }\n    }\n\n    if (j > 1) return s / (j - 1);\n  }\n\n  function deviation(array, f) {\n    var v = variance(array, f);\n    return v ? Math.sqrt(v) : v;\n  }\n\n  function extent(array, f) {\n    var i = -1,\n        n = array.length,\n        a,\n        b,\n        c;\n\n    if (f == null) {\n      while (++i < n) if ((b = array[i]) != null && b >= b) { a = c = b; break; }\n      while (++i < n) if ((b = array[i]) != null) {\n        if (a > b) a = b;\n        if (c < b) c = b;\n      }\n    }\n\n    else {\n      while (++i < n) if ((b = f(array[i], i, array)) != null && b >= b) { a = c = b; break; }\n      while (++i < n) if ((b = f(array[i], i, array)) != null) {\n        if (a > b) a = b;\n        if (c < b) c = b;\n      }\n    }\n\n    return [a, c];\n  }\n\n  function constant(x) {\n    return function() {\n      return x;\n    };\n  }\n\n  function identity(x) {\n    return x;\n  }\n\n  function range(start, stop, step) {\n    start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n\n    var i = -1,\n        n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n        range = new Array(n);\n\n    while (++i < n) {\n      range[i] = start + i * step;\n    }\n\n    return range;\n  }\n\n  var e10 = Math.sqrt(50);\n  var e5 = Math.sqrt(10);\n  var e2 = Math.sqrt(2);\n  function ticks(start, stop, count) {\n    var step = tickStep(start, stop, count);\n    return range(\n      Math.ceil(start / step) * step,\n      Math.floor(stop / step) * step + step / 2, // inclusive\n      step\n    );\n  }\n\n  function tickStep(start, stop, count) {\n    var step0 = Math.abs(stop - start) / Math.max(0, count),\n        step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n        error = step0 / step1;\n    if (error >= e10) step1 *= 10;\n    else if (error >= e5) step1 *= 5;\n    else if (error >= e2) step1 *= 2;\n    return stop < start ? -step1 : step1;\n  }\n\n  function sturges(values) {\n    return Math.ceil(Math.log(values.length) / Math.LN2) + 1;\n  }\n\n  function number(x) {\n    return +x;\n  }\n\n  function histogram() {\n    var value = identity,\n        domain = extent,\n        threshold = sturges;\n\n    function histogram(data) {\n      var i,\n          n = data.length,\n          x,\n          values = new Array(n);\n\n      // Coerce values to numbers.\n      for (i = 0; i < n; ++i) {\n        values[i] = +value(data[i], i, data);\n      }\n\n      var xz = domain(values),\n          x0 = +xz[0],\n          x1 = +xz[1],\n          tz = threshold(values, x0, x1);\n\n      // Convert number of thresholds into uniform thresholds.\n      if (!Array.isArray(tz)) tz = ticks(x0, x1, +tz);\n\n      // Coerce thresholds to numbers, ignoring any outside the domain.\n      var m = tz.length;\n      for (i = 0; i < m; ++i) tz[i] = +tz[i];\n      while (tz[0] <= x0) tz.shift(), --m;\n      while (tz[m - 1] >= x1) tz.pop(), --m;\n\n      var bins = new Array(m + 1),\n          bin;\n\n      // Initialize bins.\n      for (i = 0; i <= m; ++i) {\n        bin = bins[i] = [];\n        bin.x0 = i > 0 ? tz[i - 1] : x0;\n        bin.x1 = i < m ? tz[i] : x1;\n      }\n\n      // Assign data to bins by value, ignoring any outside the domain.\n      for (i = 0; i < n; ++i) {\n        x = values[i];\n        if (x0 <= x && x <= x1) {\n          bins[bisectRight(tz, x, 0, m)].push(data[i]);\n        }\n      }\n\n      return bins;\n    }\n\n    histogram.value = function(_) {\n      return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(+_), histogram) : value;\n    };\n\n    histogram.domain = function(_) {\n      return arguments.length ? (domain = typeof _ === \"function\" ? _ : constant([+_[0], +_[1]]), histogram) : domain;\n    };\n\n    histogram.thresholds = function(_) {\n      if (!arguments.length) return threshold;\n      threshold = typeof _ === \"function\" ? _\n          : Array.isArray(_) ? constant(Array.prototype.map.call(_, number))\n          : constant(+_);\n      return histogram;\n    };\n\n    return histogram;\n  }\n\n  function quantile(array, p, f) {\n    if (f == null) f = number$1;\n    if (!(n = array.length)) return;\n    if ((p = +p) <= 0 || n < 2) return +f(array[0], 0, array);\n    if (p >= 1) return +f(array[n - 1], n - 1, array);\n    var n,\n        h = (n - 1) * p,\n        i = Math.floor(h),\n        a = +f(array[i], i, array),\n        b = +f(array[i + 1], i + 1, array);\n    return a + (b - a) * (h - i);\n  }\n\n  function freedmanDiaconis(values, min, max) {\n    values.sort(ascending);\n    return Math.ceil((max - min) / (2 * (quantile(values, 0.75) - quantile(values, 0.25)) * Math.pow(values.length, -1 / 3)));\n  }\n\n  function scott(values, min, max) {\n    return Math.ceil((max - min) / (3.5 * deviation(values) * Math.pow(values.length, -1 / 3)));\n  }\n\n  function max(array, f) {\n    var i = -1,\n        n = array.length,\n        a,\n        b;\n\n    if (f == null) {\n      while (++i < n) if ((b = array[i]) != null && b >= b) { a = b; break; }\n      while (++i < n) if ((b = array[i]) != null && b > a) a = b;\n    }\n\n    else {\n      while (++i < n) if ((b = f(array[i], i, array)) != null && b >= b) { a = b; break; }\n      while (++i < n) if ((b = f(array[i], i, array)) != null && b > a) a = b;\n    }\n\n    return a;\n  }\n\n  function mean(array, f) {\n    var s = 0,\n        n = array.length,\n        a,\n        i = -1,\n        j = n;\n\n    if (f == null) {\n      while (++i < n) if (!isNaN(a = number$1(array[i]))) s += a; else --j;\n    }\n\n    else {\n      while (++i < n) if (!isNaN(a = number$1(f(array[i], i, array)))) s += a; else --j;\n    }\n\n    if (j) return s / j;\n  }\n\n  function median(array, f) {\n    var numbers = [],\n        n = array.length,\n        a,\n        i = -1;\n\n    if (f == null) {\n      while (++i < n) if (!isNaN(a = number$1(array[i]))) numbers.push(a);\n    }\n\n    else {\n      while (++i < n) if (!isNaN(a = number$1(f(array[i], i, array)))) numbers.push(a);\n    }\n\n    return quantile(numbers.sort(ascending), 0.5);\n  }\n\n  function merge(arrays) {\n    var n = arrays.length,\n        m,\n        i = -1,\n        j = 0,\n        merged,\n        array;\n\n    while (++i < n) j += arrays[i].length;\n    merged = new Array(j);\n\n    while (--n >= 0) {\n      array = arrays[n];\n      m = array.length;\n      while (--m >= 0) {\n        merged[--j] = array[m];\n      }\n    }\n\n    return merged;\n  }\n\n  function min(array, f) {\n    var i = -1,\n        n = array.length,\n        a,\n        b;\n\n    if (f == null) {\n      while (++i < n) if ((b = array[i]) != null && b >= b) { a = b; break; }\n      while (++i < n) if ((b = array[i]) != null && a > b) a = b;\n    }\n\n    else {\n      while (++i < n) if ((b = f(array[i], i, array)) != null && b >= b) { a = b; break; }\n      while (++i < n) if ((b = f(array[i], i, array)) != null && a > b) a = b;\n    }\n\n    return a;\n  }\n\n  function pairs(array) {\n    var i = 0, n = array.length - 1, p = array[0], pairs = new Array(n < 0 ? 0 : n);\n    while (i < n) pairs[i] = [p, p = array[++i]];\n    return pairs;\n  }\n\n  function permute(array, indexes) {\n    var i = indexes.length, permutes = new Array(i);\n    while (i--) permutes[i] = array[indexes[i]];\n    return permutes;\n  }\n\n  function scan(array, compare) {\n    if (!(n = array.length)) return;\n    var i = 0,\n        n,\n        j = 0,\n        xi,\n        xj = array[j];\n\n    if (!compare) compare = ascending;\n\n    while (++i < n) if (compare(xi = array[i], xj) < 0 || compare(xj, xj) !== 0) xj = xi, j = i;\n\n    if (compare(xj, xj) === 0) return j;\n  }\n\n  function shuffle(array, i0, i1) {\n    var m = (i1 == null ? array.length : i1) - (i0 = i0 == null ? 0 : +i0),\n        t,\n        i;\n\n    while (m) {\n      i = Math.random() * m-- | 0;\n      t = array[m + i0];\n      array[m + i0] = array[i + i0];\n      array[i + i0] = t;\n    }\n\n    return array;\n  }\n\n  function sum(array, f) {\n    var s = 0,\n        n = array.length,\n        a,\n        i = -1;\n\n    if (f == null) {\n      while (++i < n) if (a = +array[i]) s += a; // Note: zero and null are equivalent.\n    }\n\n    else {\n      while (++i < n) if (a = +f(array[i], i, array)) s += a;\n    }\n\n    return s;\n  }\n\n  function transpose(matrix) {\n    if (!(n = matrix.length)) return [];\n    for (var i = -1, m = min(matrix, length), transpose = new Array(m); ++i < m;) {\n      for (var j = -1, n, row = transpose[i] = new Array(n); ++j < n;) {\n        row[j] = matrix[j][i];\n      }\n    }\n    return transpose;\n  }\n\n  function length(d) {\n    return d.length;\n  }\n\n  function zip() {\n    return transpose(arguments);\n  }\n\n  var version = \"0.7.1\";\n\n  exports.version = version;\n  exports.bisect = bisectRight;\n  exports.bisectRight = bisectRight;\n  exports.bisectLeft = bisectLeft;\n  exports.ascending = ascending;\n  exports.bisector = bisector;\n  exports.descending = descending;\n  exports.deviation = deviation;\n  exports.extent = extent;\n  exports.histogram = histogram;\n  exports.thresholdFreedmanDiaconis = freedmanDiaconis;\n  exports.thresholdScott = scott;\n  exports.thresholdSturges = sturges;\n  exports.max = max;\n  exports.mean = mean;\n  exports.median = median;\n  exports.merge = merge;\n  exports.min = min;\n  exports.pairs = pairs;\n  exports.permute = permute;\n  exports.quantile = quantile;\n  exports.range = range;\n  exports.scan = scan;\n  exports.shuffle = shuffle;\n  exports.sum = sum;\n  exports.ticks = ticks;\n  exports.tickStep = tickStep;\n  exports.transpose = transpose;\n  exports.variance = variance;\n  exports.zip = zip;\n\n}));","const {bisectRight} = require('d3-array')\n\nconst quincunx = (u, v, w, q) => {\n  const n = u.length - 1\n\n  u[0] = 0\n  v[0] = 0\n  w[0] = 0\n  v[1] = v[1] / u[1]\n  w[1] = w[1] / u[1]\n  for (let i = 2; i < n; ++i) {\n    u[i] = u[i] - u[i - 2] * w[i - 2] * w[i - 2] - u[i - 1] * v[i - 1] * v[i - 1]\n    v[i] = (v[i] - u[i - 1] * v[i - 1] * w[i - 1]) / u[i]\n    w[i] = w[i] / u[i]\n  }\n\n  for (let i = 2; i < n; ++i) {\n    q[i] = q[i] - v[i - 1] * q[i - 1] - w[i - 2] * q[i - 2]\n  }\n  for (let i = 1; i < n; ++i) {\n    q[i] = q[i] / u[i]\n  }\n\n  q[n - 2] = q[n - 2] - v[n - 2] * q[n - 1]\n  for (let i = n - 3; i > 0; --i) {\n    q[i] = q[i] - v[i] * q[i + 1] - w[i] * q[i + 2]\n  }\n}\n\nconst smoothingSpline = (x, y, sigma, lambda) => {\n  const n = x.length - 1\n  const h = new Array(n + 1)\n  const r = new Array(n + 1)\n  const f = new Array(n + 1)\n  const p = new Array(n + 1)\n  const q = new Array(n + 1)\n  const u = new Array(n + 1)\n  const v = new Array(n + 1)\n  const w = new Array(n + 1)\n  const params = x.map(() => [0, 0, 0, 0])\n  params.pop()\n\n  const mu = 2 * (1 - lambda) / (3 * lambda)\n  for (let i = 0; i < n; ++i) {\n    h[i] = x[i + 1] - x[i]\n    r[i] = 3 / h[i]\n  }\n  q[0] = 0\n  for (let i = 1; i < n; ++i) {\n    f[i] = -(r[i - 1] + r[i])\n    p[i] = 2 * (x[i + 1] - x[i - 1])\n    q[i] = 3 * (y[i + 1] - y[i]) / h[i] - 3 * (y[i] - y[i - 1]) / h[i - 1]\n  }\n  q[n] = 0\n\n  for (let i = 1; i < n; ++i) {\n    u[i] = r[i - 1] * r[i - 1] * sigma[i - 1] + f[i] * f[i] * sigma[i] + r[i] * r[i] * sigma[i + 1]\n    u[i] = mu * u[i] + p[i]\n  }\n  for (let i = 1; i < n - 1; ++i) {\n    v[i] = f[i] * r[i] * sigma[i] + r[i] * f[i + 1] * sigma[i + 1]\n    v[i] = mu * v[i] + h[i]\n  }\n  for (let i = 1; i < n - 2; ++i) {\n    w[i] = mu * r[i] * r[i + 1] * sigma[i + 1]\n  }\n\n  quincunx(u, v, w, q)\n\n  params[0][3] = y[0] - mu * r[0] * q[1] * sigma[0]\n  params[1][3] = y[1] - mu * (f[1] * q[1] + r[1] * q[2]) * sigma[0]\n  params[0][0] = q[1] / (3 * h[0])\n  params[0][1] = 0\n  params[0][2] = (params[1][3] - params[0][3]) / h[0] - q[1] * h[0] / 3\n  r[0] = 0\n  for (let i = 1; i < n; ++i) {\n    params[i][0] = (q[i + 1] - q[i]) / (3 * h[i])\n    params[i][1] = q[i]\n    params[i][2] = (q[i] + q[i - 1]) * h[i - 1] + params[i - 1][2]\n    params[i][3] = r[i - 1] * q[i - 1] + f[i] * q[i] + r[i] * q[i + 1]\n    params[i][3] = y[i] - mu * params[i][3] * sigma[i]\n  }\n  return params\n}\n\nclass SplineInterpolator {\n  constructor (xIn, yIn, lambda = 1) {\n    const indices = xIn.map((_, i) => i)\n    indices.sort((i, j) => xIn[i] - xIn[j])\n    const x = indices.map((i) => xIn[i])\n    const y = indices.map((i) => yIn[i])\n    const n = indices.length\n    const sigma = indices.map(() => 1)\n    this.n = n\n    this.x = x\n    this.y = y\n    this.params = smoothingSpline(x, y, sigma, lambda)\n  }\n\n  interpolate (v) {\n    if (v === this.x[this.n - 1]) {\n      return this.y[this.n - 1]\n    }\n    const i = Math.min(Math.max(0, bisectRight(this.x, v) - 1), this.n - 2)\n    const [a, b, c, d] = this.params[i]\n    v = v - this.x[i]\n    return a * v * v * v + b * v * v + c * v + d\n  }\n\n  max (step = 100) {\n    const xStart = this.x[0]\n    const xStop = this.x[this.n - 1]\n    const delta = (xStop - xStart) / step\n    let maxValue = -Infinity\n    for (let i = 0, x = xStart; i < step; ++i, x += delta) {\n      const y = this.interpolate(x)\n      if (y > maxValue) {\n        maxValue = y\n      }\n    }\n    return maxValue\n  }\n\n  min (step = 100) {\n    const xStart = this.x[0]\n    const xStop = this.x[this.n - 1]\n    const delta = (xStop - xStart) / step\n    let minValue = Infinity\n    for (let i = 0, x = xStart; i < step; ++i, x += delta) {\n      const y = this.interpolate(x)\n      if (y < minValue) {\n        minValue = y\n      }\n    }\n    return minValue\n  }\n\n  domain () {\n    return [this.x[0], this.x[this.x.length - 1]]\n  }\n\n  range () {\n    return [this.min(), this.max()]\n  }\n\n  curve (nInterval, domain = null) {\n    domain = domain || this.domain()\n    const delta = (domain[1] - domain[0]) / (nInterval - 1)\n    const vals = new Array(nInterval)\n    for (let i = 0; i < nInterval; ++i) {\n      const x = delta * i + domain[0]\n      vals[i] = [x, this.interpolate(x)]\n    }\n    return vals\n  }\n}\n\nmodule.exports = SplineInterpolator\n","import erfcinv from 'compute-erfcinv';\nimport rayleighCdf from 'distributions-rayleigh-cdf';\nimport SplineInterpolator from 'spline-interpolator';\n\n/**\n * Determine noise level by san plot metodology (https://doi.org/10.1002/mrc.4882)\n * @param {Array} data - real or magnitude spectra data.\n * @param {*} options\n */\n\nexport function xNoiseSanPlot(data, options = {}) {\n  const {\n    mask,\n    cutOff,\n    refine = true,\n    magnitudeMode = false,\n    scaleFactor = 1,\n    factorStd = 5,\n    fixOffset = true,\n  } = options;\n\n  let input;\n  if (Array.isArray(mask) && mask.length === data.length) {\n    input = data.filter((_e, i) => !mask[i]);\n  } else {\n    input = data.slice();\n  }\n\n  if (scaleFactor > 1) {\n    for (let i = 0; i < input.length; i++) {\n      input[i] *= scaleFactor;\n    }\n  }\n\n  input.sort((a, b) => b - a);\n\n  if (fixOffset && !magnitudeMode) {\n    let medianIndex = Math.floor(input.length / 2);\n    let median = 0.5 * (input[medianIndex] + input[medianIndex + 1]);\n    for (let i = 0; i < input.length; i++) {\n      input[i] -= median;\n    }\n  }\n\n  let firstNegativeValueIndex = input.findIndex((e) => e < 0);\n  let lastPositiveValueIndex = firstNegativeValueIndex - 1;\n  for (let i = lastPositiveValueIndex; i >= 0; i--) {\n    if (input[i] > 0) {\n      lastPositiveValueIndex = i;\n      break;\n    }\n  }\n\n  let signPositive = new Float64Array(\n    input.slice(0, lastPositiveValueIndex + 1),\n  );\n  let signNegative = new Float64Array(input.slice(firstNegativeValueIndex));\n\n  let cutOffDist = cutOff || determineCutOff(signPositive, { magnitudeMode });\n\n  let pIndex = Math.floor(signPositive.length * cutOffDist);\n  let initialNoiseLevelPositive = signPositive[pIndex];\n\n  let skyPoint = signPositive[0];\n\n  let initialNoiseLevelNegative;\n  if (signNegative.length > 0) {\n    let nIndex = Math.floor(signNegative.length * (1 - cutOffDist));\n    initialNoiseLevelNegative = -1 * signNegative[nIndex];\n  } else {\n    initialNoiseLevelNegative = 0;\n  }\n\n  let noiseLevelPositive = initialNoiseLevelPositive;\n  let noiseLevelNegative = initialNoiseLevelNegative;\n  let cloneSignPositive = signPositive.slice();\n  let cloneSignNegative = signNegative.slice();\n\n  let cutOffSignalsIndexPlus = 0;\n  let cutOffSignalsIndexNeg = 2;\n  if (refine) {\n    let cutOffSignals = noiseLevelPositive * factorStd;\n    cutOffSignalsIndexPlus = signPositive.findIndex((e) => e < cutOffSignals);\n\n    if (cutOffSignalsIndexPlus > -1) {\n      cloneSignPositive = signPositive.slice(cutOffSignalsIndexPlus);\n      noiseLevelPositive =\n        cloneSignPositive[Math.floor(cloneSignPositive.length * cutOffDist)];\n    }\n\n    cutOffSignals = noiseLevelNegative * factorStd;\n    cutOffSignalsIndexNeg = signNegative.findIndex((e) => e < cutOffSignals);\n    if (cutOffSignalsIndexNeg > -1) {\n      cloneSignNegative = signNegative.slice(cutOffSignalsIndexNeg);\n      noiseLevelNegative =\n        cloneSignPositive[\n          Math.floor(cloneSignNegative.length * (1 - cutOffDist))\n        ];\n    }\n  }\n  let correctionFactor = -simpleNormInv(cutOffDist / 2, { magnitudeMode });\n  initialNoiseLevelPositive = initialNoiseLevelPositive / correctionFactor;\n  initialNoiseLevelNegative = initialNoiseLevelNegative / correctionFactor;\n\n  let effectiveCutOffDist, refinedCorrectionFactor;\n  if (refine && cutOffSignalsIndexPlus > -1) {\n    effectiveCutOffDist =\n      (cutOffDist * cloneSignPositive.length + cutOffSignalsIndexPlus) /\n      (cloneSignPositive.length + cutOffSignalsIndexPlus);\n    refinedCorrectionFactor =\n      -1 * simpleNormInv(effectiveCutOffDist / 2, { magnitudeMode });\n\n    noiseLevelPositive /= refinedCorrectionFactor;\n\n    if (cutOffSignalsIndexNeg > -1) {\n      effectiveCutOffDist =\n        (cutOffDist * cloneSignNegative.length + cutOffSignalsIndexNeg) /\n        (cloneSignNegative.length + cutOffSignalsIndexNeg);\n      refinedCorrectionFactor =\n        -1 * simpleNormInv(effectiveCutOffDist / 2, { magnitudeMode });\n      if (noiseLevelNegative !== 0) {\n        noiseLevelNegative /= refinedCorrectionFactor;\n      }\n    }\n  } else {\n    noiseLevelPositive /= correctionFactor;\n    noiseLevelNegative /= correctionFactor;\n  }\n\n  return {\n    positive: noiseLevelPositive,\n    negative: noiseLevelNegative,\n    snr: skyPoint / noiseLevelPositive,\n  };\n}\n\nfunction determineCutOff(signPositive, options = {}) {\n  let {\n    magnitudeMode = false,\n    considerList = { from: 0.5, step: 0.1, to: 0.9 },\n  } = options;\n  //generate a list of values for\n  let cutOff = [];\n  let indexMax = signPositive.length - 1;\n  for (let i = 0.01; i <= 0.99; i += 0.01) {\n    let index = Math.round(indexMax * i);\n    let value =\n      -signPositive[index] / simpleNormInv([i / 2], { magnitudeMode });\n    cutOff.push([i, value]);\n  }\n\n  let minKi = Number.MAX_SAFE_INTEGER;\n  let { from, to, step } = considerList;\n  let delta = step / 2;\n  let whereToCutStat = 0.5;\n  for (let i = from; i <= to; i += step) {\n    let floor = i - delta;\n    let top = i + delta;\n    let elementsOfCutOff = cutOff.filter((e) => e[0] < top && e[0] > floor);\n    let averageValue = elementsOfCutOff.reduce((a, b) => a + Math.abs(b[1]), 0);\n    let kiSqrt = 0;\n    for (let j = 0; j < elementsOfCutOff.length; j++) {\n      kiSqrt += Math.pow(elementsOfCutOff[j][1] - averageValue, 2);\n    }\n\n    if (kiSqrt < minKi) {\n      minKi = kiSqrt;\n      whereToCutStat = i;\n    }\n  }\n\n  return whereToCutStat;\n}\n\nfunction simpleNormInv(data, options = {}) {\n  const { magnitudeMode = false } = options;\n\n  if (!Array.isArray(data)) data = [data];\n\n  let from = 0;\n  let to = 2;\n  let step = 0.01;\n  let xTraining = createArray(from, to, step);\n\n  let result = new Float64Array(data.length);\n  let yTraining = new Float64Array(xTraining.length);\n  if (magnitudeMode) {\n    let factor = 1;\n    for (let i = 0; i < yTraining.length; i++) {\n      let finalInput = xTraining[i] * factor;\n      yTraining[i] = 1 - rayleighCdf(finalInput);\n    }\n    let interp = new SplineInterpolator(xTraining, yTraining);\n    for (let i = 0; i < result.length; i++) {\n      let yValue = 2 * data[i];\n      result[i] = -1 * interp.interpolate(yValue);\n    }\n  } else {\n    for (let i = 0; i < result.length; i++) {\n      result[i] = -1 * Math.SQRT2 * erfcinv(2 * data[i]);\n    }\n  }\n  return result.length === 1 ? result[0] : result;\n}\n\nfunction createArray(from, to, step) {\n  let result = new Float32Array(Math.abs((from - to) / step + 1));\n  for (let i = 0; i < result.length; i++) {\n    result[i] = from + i * step;\n  }\n  return Array.from(result);\n}\n","import { xFindClosestIndex } from './xFindClosestIndex';\n\n/**\n *  Returns the targetIndex\n * @param {array} [x]\n * @param {object} [options={}]\n * @param {number} [options.target]\n * @param {number} [options.targetIndex=0]\n * @param {number}\n */\n\nexport function xGetTargetIndex(x, options = {}) {\n  let { target, targetIndex } = options;\n  if (targetIndex === undefined) {\n    if (target !== undefined) {\n      return xFindClosestIndex(x, target);\n    } else {\n      return 0;\n    }\n  }\n  return targetIndex;\n}\n","/**\n * This function performs a circular shift to a new array\n * Positive values of shifts will shift to the right and negative values will do to the left\n * @example xRotate([1,2,3,4],1) -> [4,1,2,3]\n * @example xRotate([1,2,3,4],-1) -> [2,3,4,1]\n * @param {Array} array - the array that will be rotated\n * @param {number} shift\n * @return {Array}\n */\nexport function xRotate(array, shift) {\n  shift = shift % array.length;\n  if (shift < 0) shift += array.length;\n  let result = new Float64Array(array.length);\n  result.set(array.slice(array.length - shift));\n  result.set(array.slice(0, array.length - shift), shift);\n  return result;\n}\n","/**\n * Calculates reimAbsolute value of a complex spectrum\n * @param {object} [reim] - An object of kind {re:[], im:[]}.\n * @return {Float64Array}\n */\nexport function reimAbsolute(data) {\n  const length = data.re.length;\n  const re = data.re;\n  const im = data.im;\n  const newArray = new Float64Array(length);\n  for (let i = 0; i < length; i++) {\n    newArray[i] = Math.sqrt(re[i] ** 2 + im[i] ** 2);\n  }\n\n  return newArray;\n}\n","/**\n * Phase correction filter\n * @param {object} reim - An object of kind {re:[], im:[]}\n * @param {number} [phi0 = 0] - Angle in radians for zero order phase correction\n * @param {number} [phi1 = 0] - Angle in radians for first order phase correction\n * @return {object} returns a new object {re:[], im:[]}\n */\nexport function reimPhaseCorrection(data, phi0, phi1) {\n  phi0 = Number.isFinite(phi0) ? phi0 : 0;\n  phi1 = Number.isFinite(phi1) ? phi1 : 0;\n\n  const re = data.re;\n  const im = data.im;\n  const length = data.re.length;\n\n  const delta = phi1 / length;\n  const alpha = 2 * Math.pow(Math.sin(delta / 2), 2);\n  const beta = Math.sin(delta);\n  let cosTheta = Math.cos(phi0);\n  let sinTheta = Math.sin(phi0);\n\n  const newRe = new Float64Array(length);\n  const newIm = new Float64Array(length);\n  for (let i = 0; i < length; i++) {\n    newRe[i] = re[i] * cosTheta - im[i] * sinTheta;\n    newIm[i] = re[i] * sinTheta + im[i] * cosTheta;\n    // calculate angles i+1 from i\n    let newCosTheta = cosTheta - (alpha * cosTheta + beta * sinTheta);\n    let newSinTheta = sinTheta - (alpha * sinTheta - beta * cosTheta);\n    cosTheta = newCosTheta;\n    sinTheta = newSinTheta;\n  }\n\n  return { re: newRe, im: newIm };\n}\n","import { xNoiseSanPlot } from '../x/xNoiseSanPlot';\n\nimport { reimAbsolute } from './reimAbsolute';\nimport { reimPhaseCorrection } from './reimPhaseCorrection';\n/**\n * Implementation of the algorithm for automatic phase correction: A robust, general automatic phase\n * correction algorithm for high-resolution NMR data. 10.1002/mrc.4586\n * @param {object} data - { re, im } real and imaginary data.\n * @param {object} options -\n * @param {Number} options.minRegSize - min number of points to auto phase a region.\n * @param {Number} options.maxDistanceToJoin - max distance between regions (in number of points) to join two regions\n * @param {boolean} options.magnitudeMode - if true it uses magnitude spectrum.boolean\n * @param {Number} options.factorNoise - scale the cutoff like factorStd * noiseLevel.\n */\n\nconst defaultOptions = {\n  minRegSize: 30,\n  maxDistanceToJoin: 256,\n  magnitudeMode: true,\n  factorNoise: 3,\n};\n\nexport function reimAutoPhaseCorrection(data, options = {}) {\n  const { re, im } = data;\n  const length = re.length;\n\n  options = Object.assign(defaultOptions, options);\n\n  const { magnitudeMode, minRegSize } = options;\n\n  let magnitudeData = magnitudeMode ? reimAbsolute(data) : re;\n\n  let ds = holoborodko(magnitudeData);\n  let peaksDs = robustBaseLineRegionsDetection(ds, options);\n  let peaksSp = robustBaseLineRegionsDetection(magnitudeData, options);\n  let finalPeaks = new Array(length);\n  for (let i = 0; i < length; i++) {\n    finalPeaks[i] = peaksSp[i] & peaksDs[i];\n  }\n\n  // Once the regions are detected, we auto phase each of them separately.\n  // TODO: This part can be put inside a function\n  let i = -1;\n  let x0 = 0;\n  let res = [];\n  while (i < length) {\n    //phase first region\n    let reTmp = [];\n    let imTmp = [];\n\n    //Look for the first 1 in the array\n    while (!finalPeaks[++i] && i < length) {\n      //TODO: Add some extra points(0.1 ppm) at rigth and left sides of the region.\n      x0 = i;\n    }\n    for (; finalPeaks[i] && i < length; i++) {\n      reTmp.push(re[i]);\n      imTmp.push(im[i]);\n      i++;\n    }\n\n    if (reTmp.length > minRegSize) {\n      res.push(autoPhaseRegion(reTmp, imTmp, x0));\n    }\n  }\n  // TODO: Still some corrections needed. In the paper they remove the outlayers interatively\n  // until they can perform a regression witout bad points. Can someone help here?\n  let [ph1, ph0] = weightedLinearRegression(\n    res.map((r) => r.x0 / length),\n    res.map((r) => r.ph0),\n    res.map((r) => r.area / 1e11),\n  );\n  let phased = reimPhaseCorrection(\n    { re, im },\n    (ph0 * Math.PI) / 180,\n    (ph1 * Math.PI) / 180,\n  );\n  return { data: phased, ph0, ph1 };\n}\n\nfunction autoPhaseRegion(re, im, x0) {\n  let start = -180;\n  let stop = 180;\n  let nSteps = 6;\n  let maxSteps = 5;\n\n  let bestAng = 0;\n  let minArea = Number.MAX_SAFE_INTEGER;\n  while (maxSteps > 0) {\n    let dAng = (stop - start) / (nSteps + 1);\n    for (let i = start; i <= stop; i += dAng) {\n      let phased = reimPhaseCorrection({ re, im }, toRadians(i), 0);\n      let negArea = getNegArea(phased.re);\n      if (negArea < minArea) {\n        [minArea, bestAng] = [negArea, i];\n      }\n    }\n    start = bestAng - dAng;\n    stop = bestAng + dAng;\n    maxSteps--;\n  }\n\n  // Calculate the area for the best angle\n  let phased = reimPhaseCorrection({ re, im }, toRadians(bestAng), 0);\n  let area = 0;\n  let sumX = 0;\n  for (let j = 0; j < re.length; j++) {\n    area += phased.re[j];\n    sumX += phased.re[j] * (j + x0);\n  }\n\n  return { ph0: bestAng, area, x0: sumX / area };\n}\n\nfunction holoborodko(s) {\n  let dk = new Float64Array(s.length);\n  for (let i = 5; i < s.length - 5; i++) {\n    dk[i] =\n      (42 * (s[i + 1] - s[i - 1]) +\n        48 * (s[i + 2] - s[i - 2]) +\n        27 * (s[i + 3] + s[i - 3]) +\n        8 * (s[i + 4] - s[i - 4]) +\n        s[i + 5] -\n        s[i - 5]) /\n      512;\n  }\n  //Fill the borders\n  for (let i = 0; i < 5; i++) {\n    dk[i] = dk[5];\n    dk[s.length - i - 1] = dk[s.length - 6];\n  }\n\n  return dk;\n}\n\nfunction robustBaseLineRegionsDetection(s, options) {\n  const { maxDistanceToJoin, magnitudeMode, factorNoise } = options;\n\n  let mask = new Array(s.length);\n  for (let i = 0; i < s.length; i++) {\n    mask[i] = false;\n  }\n\n  let change = true;\n  while (change) {\n    let noiseLevel = xNoiseSanPlot(s, { magnitudeMode });\n    let cutOff = factorNoise * noiseLevel.positive;\n    change = false;\n    for (let i = 0; i < s.length; i++) {\n      if (Math.abs(s[i]) > cutOff && !mask[i]) {\n        change = true;\n        mask[i] = true;\n      }\n    }\n  }\n  // Clean up mask by merging peaks blocks, separated by just a few points(4??).\n  let count = 0;\n  let prev = 0;\n  for (let i = 0; i < s.length; i++) {\n    if (!mask[i]) {\n      count++;\n    } else {\n      if (count < maxDistanceToJoin) {\n        for (let j = 0; j <= count; j++) {\n          mask[prev + j] = true;\n        }\n      }\n      while (mask[++i] && i < s.length);\n      prev = i;\n      count = 0;\n    }\n  }\n\n  return mask;\n}\n\nfunction weightedLinearRegression(x, y, w) {\n  let sxtw = 0;\n  let swx = 0;\n  let sw = 0;\n  let sxtwy = 0;\n  let swy = 0;\n  for (let i = 0; i < x.length; i++) {\n    sxtw += x[i] * x[i] * w[i];\n    swx += x[i] * w[i];\n    sw += w[i];\n    sxtwy += x[i] * w[i] * y[i];\n    swy += w[i] * y[i];\n  }\n\n  /* Just to know what is the matrix system that we solve\n   let Mx = [[sxtw, swx], [swx, sw]];\n   let My = [[sxtwy], [swy]];\n  */\n\n  //Mx inverse\n  let detMx = sxtw * sw - swx * swx;\n  let inMx = [\n    [sw / detMx, -swx / detMx],\n    [-swx / detMx, sxtw / detMx],\n  ];\n\n  return [\n    inMx[0][0] * sxtwy + inMx[0][1] * swy,\n    inMx[1][0] * sxtwy + inMx[1][1] * swy,\n  ];\n}\n\nconst toRadians = (degree) => (degree * Math.PI) / 180;\n\nconst getNegArea = (data) => {\n  let area = 0;\n  for (let i = 0; i < data.length; i++) {\n    if (data[i] < 0) area -= data[i];\n  }\n  return area;\n};\n","'use strict';\n\nfunction FFT(size) {\n  this.size = size | 0;\n  if (this.size <= 1 || (this.size & (this.size - 1)) !== 0)\n    throw new Error('FFT size must be a power of two and bigger than 1');\n\n  this._csize = size << 1;\n\n  // NOTE: Use of `var` is intentional for old V8 versions\n  var table = new Array(this.size * 2);\n  for (var i = 0; i < table.length; i += 2) {\n    const angle = Math.PI * i / this.size;\n    table[i] = Math.cos(angle);\n    table[i + 1] = -Math.sin(angle);\n  }\n  this.table = table;\n\n  // Find size's power of two\n  var power = 0;\n  for (var t = 1; this.size > t; t <<= 1)\n    power++;\n\n  // Calculate initial step's width:\n  //   * If we are full radix-4 - it is 2x smaller to give inital len=8\n  //   * Otherwise it is the same as `power` to give len=4\n  this._width = power % 2 === 0 ? power - 1 : power;\n\n  // Pre-compute bit-reversal patterns\n  this._bitrev = new Array(1 << this._width);\n  for (var j = 0; j < this._bitrev.length; j++) {\n    this._bitrev[j] = 0;\n    for (var shift = 0; shift < this._width; shift += 2) {\n      var revShift = this._width - shift - 2;\n      this._bitrev[j] |= ((j >>> shift) & 3) << revShift;\n    }\n  }\n\n  this._out = null;\n  this._data = null;\n  this._inv = 0;\n}\nmodule.exports = FFT;\n\nFFT.prototype.fromComplexArray = function fromComplexArray(complex, storage) {\n  var res = storage || new Array(complex.length >>> 1);\n  for (var i = 0; i < complex.length; i += 2)\n    res[i >>> 1] = complex[i];\n  return res;\n};\n\nFFT.prototype.createComplexArray = function createComplexArray() {\n  const res = new Array(this._csize);\n  for (var i = 0; i < res.length; i++)\n    res[i] = 0;\n  return res;\n};\n\nFFT.prototype.toComplexArray = function toComplexArray(input, storage) {\n  var res = storage || this.createComplexArray();\n  for (var i = 0; i < res.length; i += 2) {\n    res[i] = input[i >>> 1];\n    res[i + 1] = 0;\n  }\n  return res;\n};\n\nFFT.prototype.completeSpectrum = function completeSpectrum(spectrum) {\n  var size = this._csize;\n  var half = size >>> 1;\n  for (var i = 2; i < half; i += 2) {\n    spectrum[size - i] = spectrum[i];\n    spectrum[size - i + 1] = -spectrum[i + 1];\n  }\n};\n\nFFT.prototype.transform = function transform(out, data) {\n  if (out === data)\n    throw new Error('Input and output buffers must be different');\n\n  this._out = out;\n  this._data = data;\n  this._inv = 0;\n  this._transform4();\n  this._out = null;\n  this._data = null;\n};\n\nFFT.prototype.realTransform = function realTransform(out, data) {\n  if (out === data)\n    throw new Error('Input and output buffers must be different');\n\n  this._out = out;\n  this._data = data;\n  this._inv = 0;\n  this._realTransform4();\n  this._out = null;\n  this._data = null;\n};\n\nFFT.prototype.inverseTransform = function inverseTransform(out, data) {\n  if (out === data)\n    throw new Error('Input and output buffers must be different');\n\n  this._out = out;\n  this._data = data;\n  this._inv = 1;\n  this._transform4();\n  for (var i = 0; i < out.length; i++)\n    out[i] /= this.size;\n  this._out = null;\n  this._data = null;\n};\n\n// radix-4 implementation\n//\n// NOTE: Uses of `var` are intentional for older V8 version that do not\n// support both `let compound assignments` and `const phi`\nFFT.prototype._transform4 = function _transform4() {\n  var out = this._out;\n  var size = this._csize;\n\n  // Initial step (permute and transform)\n  var width = this._width;\n  var step = 1 << width;\n  var len = (size / step) << 1;\n\n  var outOff;\n  var t;\n  var bitrev = this._bitrev;\n  if (len === 4) {\n    for (outOff = 0, t = 0; outOff < size; outOff += len, t++) {\n      const off = bitrev[t];\n      this._singleTransform2(outOff, off, step);\n    }\n  } else {\n    // len === 8\n    for (outOff = 0, t = 0; outOff < size; outOff += len, t++) {\n      const off = bitrev[t];\n      this._singleTransform4(outOff, off, step);\n    }\n  }\n\n  // Loop through steps in decreasing order\n  var inv = this._inv ? -1 : 1;\n  var table = this.table;\n  for (step >>= 2; step >= 2; step >>= 2) {\n    len = (size / step) << 1;\n    var quarterLen = len >>> 2;\n\n    // Loop through offsets in the data\n    for (outOff = 0; outOff < size; outOff += len) {\n      // Full case\n      var limit = outOff + quarterLen;\n      for (var i = outOff, k = 0; i < limit; i += 2, k += step) {\n        const A = i;\n        const B = A + quarterLen;\n        const C = B + quarterLen;\n        const D = C + quarterLen;\n\n        // Original values\n        const Ar = out[A];\n        const Ai = out[A + 1];\n        const Br = out[B];\n        const Bi = out[B + 1];\n        const Cr = out[C];\n        const Ci = out[C + 1];\n        const Dr = out[D];\n        const Di = out[D + 1];\n\n        // Middle values\n        const MAr = Ar;\n        const MAi = Ai;\n\n        const tableBr = table[k];\n        const tableBi = inv * table[k + 1];\n        const MBr = Br * tableBr - Bi * tableBi;\n        const MBi = Br * tableBi + Bi * tableBr;\n\n        const tableCr = table[2 * k];\n        const tableCi = inv * table[2 * k + 1];\n        const MCr = Cr * tableCr - Ci * tableCi;\n        const MCi = Cr * tableCi + Ci * tableCr;\n\n        const tableDr = table[3 * k];\n        const tableDi = inv * table[3 * k + 1];\n        const MDr = Dr * tableDr - Di * tableDi;\n        const MDi = Dr * tableDi + Di * tableDr;\n\n        // Pre-Final values\n        const T0r = MAr + MCr;\n        const T0i = MAi + MCi;\n        const T1r = MAr - MCr;\n        const T1i = MAi - MCi;\n        const T2r = MBr + MDr;\n        const T2i = MBi + MDi;\n        const T3r = inv * (MBr - MDr);\n        const T3i = inv * (MBi - MDi);\n\n        // Final values\n        const FAr = T0r + T2r;\n        const FAi = T0i + T2i;\n\n        const FCr = T0r - T2r;\n        const FCi = T0i - T2i;\n\n        const FBr = T1r + T3i;\n        const FBi = T1i - T3r;\n\n        const FDr = T1r - T3i;\n        const FDi = T1i + T3r;\n\n        out[A] = FAr;\n        out[A + 1] = FAi;\n        out[B] = FBr;\n        out[B + 1] = FBi;\n        out[C] = FCr;\n        out[C + 1] = FCi;\n        out[D] = FDr;\n        out[D + 1] = FDi;\n      }\n    }\n  }\n};\n\n// radix-2 implementation\n//\n// NOTE: Only called for len=4\nFFT.prototype._singleTransform2 = function _singleTransform2(outOff, off,\n                                                             step) {\n  const out = this._out;\n  const data = this._data;\n\n  const evenR = data[off];\n  const evenI = data[off + 1];\n  const oddR = data[off + step];\n  const oddI = data[off + step + 1];\n\n  const leftR = evenR + oddR;\n  const leftI = evenI + oddI;\n  const rightR = evenR - oddR;\n  const rightI = evenI - oddI;\n\n  out[outOff] = leftR;\n  out[outOff + 1] = leftI;\n  out[outOff + 2] = rightR;\n  out[outOff + 3] = rightI;\n};\n\n// radix-4\n//\n// NOTE: Only called for len=8\nFFT.prototype._singleTransform4 = function _singleTransform4(outOff, off,\n                                                             step) {\n  const out = this._out;\n  const data = this._data;\n  const inv = this._inv ? -1 : 1;\n  const step2 = step * 2;\n  const step3 = step * 3;\n\n  // Original values\n  const Ar = data[off];\n  const Ai = data[off + 1];\n  const Br = data[off + step];\n  const Bi = data[off + step + 1];\n  const Cr = data[off + step2];\n  const Ci = data[off + step2 + 1];\n  const Dr = data[off + step3];\n  const Di = data[off + step3 + 1];\n\n  // Pre-Final values\n  const T0r = Ar + Cr;\n  const T0i = Ai + Ci;\n  const T1r = Ar - Cr;\n  const T1i = Ai - Ci;\n  const T2r = Br + Dr;\n  const T2i = Bi + Di;\n  const T3r = inv * (Br - Dr);\n  const T3i = inv * (Bi - Di);\n\n  // Final values\n  const FAr = T0r + T2r;\n  const FAi = T0i + T2i;\n\n  const FBr = T1r + T3i;\n  const FBi = T1i - T3r;\n\n  const FCr = T0r - T2r;\n  const FCi = T0i - T2i;\n\n  const FDr = T1r - T3i;\n  const FDi = T1i + T3r;\n\n  out[outOff] = FAr;\n  out[outOff + 1] = FAi;\n  out[outOff + 2] = FBr;\n  out[outOff + 3] = FBi;\n  out[outOff + 4] = FCr;\n  out[outOff + 5] = FCi;\n  out[outOff + 6] = FDr;\n  out[outOff + 7] = FDi;\n};\n\n// Real input radix-4 implementation\nFFT.prototype._realTransform4 = function _realTransform4() {\n  var out = this._out;\n  var size = this._csize;\n\n  // Initial step (permute and transform)\n  var width = this._width;\n  var step = 1 << width;\n  var len = (size / step) << 1;\n\n  var outOff;\n  var t;\n  var bitrev = this._bitrev;\n  if (len === 4) {\n    for (outOff = 0, t = 0; outOff < size; outOff += len, t++) {\n      const off = bitrev[t];\n      this._singleRealTransform2(outOff, off >>> 1, step >>> 1);\n    }\n  } else {\n    // len === 8\n    for (outOff = 0, t = 0; outOff < size; outOff += len, t++) {\n      const off = bitrev[t];\n      this._singleRealTransform4(outOff, off >>> 1, step >>> 1);\n    }\n  }\n\n  // Loop through steps in decreasing order\n  var inv = this._inv ? -1 : 1;\n  var table = this.table;\n  for (step >>= 2; step >= 2; step >>= 2) {\n    len = (size / step) << 1;\n    var halfLen = len >>> 1;\n    var quarterLen = halfLen >>> 1;\n    var hquarterLen = quarterLen >>> 1;\n\n    // Loop through offsets in the data\n    for (outOff = 0; outOff < size; outOff += len) {\n      for (var i = 0, k = 0; i <= hquarterLen; i += 2, k += step) {\n        var A = outOff + i;\n        var B = A + quarterLen;\n        var C = B + quarterLen;\n        var D = C + quarterLen;\n\n        // Original values\n        var Ar = out[A];\n        var Ai = out[A + 1];\n        var Br = out[B];\n        var Bi = out[B + 1];\n        var Cr = out[C];\n        var Ci = out[C + 1];\n        var Dr = out[D];\n        var Di = out[D + 1];\n\n        // Middle values\n        var MAr = Ar;\n        var MAi = Ai;\n\n        var tableBr = table[k];\n        var tableBi = inv * table[k + 1];\n        var MBr = Br * tableBr - Bi * tableBi;\n        var MBi = Br * tableBi + Bi * tableBr;\n\n        var tableCr = table[2 * k];\n        var tableCi = inv * table[2 * k + 1];\n        var MCr = Cr * tableCr - Ci * tableCi;\n        var MCi = Cr * tableCi + Ci * tableCr;\n\n        var tableDr = table[3 * k];\n        var tableDi = inv * table[3 * k + 1];\n        var MDr = Dr * tableDr - Di * tableDi;\n        var MDi = Dr * tableDi + Di * tableDr;\n\n        // Pre-Final values\n        var T0r = MAr + MCr;\n        var T0i = MAi + MCi;\n        var T1r = MAr - MCr;\n        var T1i = MAi - MCi;\n        var T2r = MBr + MDr;\n        var T2i = MBi + MDi;\n        var T3r = inv * (MBr - MDr);\n        var T3i = inv * (MBi - MDi);\n\n        // Final values\n        var FAr = T0r + T2r;\n        var FAi = T0i + T2i;\n\n        var FBr = T1r + T3i;\n        var FBi = T1i - T3r;\n\n        out[A] = FAr;\n        out[A + 1] = FAi;\n        out[B] = FBr;\n        out[B + 1] = FBi;\n\n        // Output final middle point\n        if (i === 0) {\n          var FCr = T0r - T2r;\n          var FCi = T0i - T2i;\n          out[C] = FCr;\n          out[C + 1] = FCi;\n          continue;\n        }\n\n        // Do not overwrite ourselves\n        if (i === hquarterLen)\n          continue;\n\n        // In the flipped case:\n        // MAi = -MAi\n        // MBr=-MBi, MBi=-MBr\n        // MCr=-MCr\n        // MDr=MDi, MDi=MDr\n        var ST0r = T1r;\n        var ST0i = -T1i;\n        var ST1r = T0r;\n        var ST1i = -T0i;\n        var ST2r = -inv * T3i;\n        var ST2i = -inv * T3r;\n        var ST3r = -inv * T2i;\n        var ST3i = -inv * T2r;\n\n        var SFAr = ST0r + ST2r;\n        var SFAi = ST0i + ST2i;\n\n        var SFBr = ST1r + ST3i;\n        var SFBi = ST1i - ST3r;\n\n        var SA = outOff + quarterLen - i;\n        var SB = outOff + halfLen - i;\n\n        out[SA] = SFAr;\n        out[SA + 1] = SFAi;\n        out[SB] = SFBr;\n        out[SB + 1] = SFBi;\n      }\n    }\n  }\n};\n\n// radix-2 implementation\n//\n// NOTE: Only called for len=4\nFFT.prototype._singleRealTransform2 = function _singleRealTransform2(outOff,\n                                                                     off,\n                                                                     step) {\n  const out = this._out;\n  const data = this._data;\n\n  const evenR = data[off];\n  const oddR = data[off + step];\n\n  const leftR = evenR + oddR;\n  const rightR = evenR - oddR;\n\n  out[outOff] = leftR;\n  out[outOff + 1] = 0;\n  out[outOff + 2] = rightR;\n  out[outOff + 3] = 0;\n};\n\n// radix-4\n//\n// NOTE: Only called for len=8\nFFT.prototype._singleRealTransform4 = function _singleRealTransform4(outOff,\n                                                                     off,\n                                                                     step) {\n  const out = this._out;\n  const data = this._data;\n  const inv = this._inv ? -1 : 1;\n  const step2 = step * 2;\n  const step3 = step * 3;\n\n  // Original values\n  const Ar = data[off];\n  const Br = data[off + step];\n  const Cr = data[off + step2];\n  const Dr = data[off + step3];\n\n  // Pre-Final values\n  const T0r = Ar + Cr;\n  const T1r = Ar - Cr;\n  const T2r = Br + Dr;\n  const T3r = inv * (Br - Dr);\n\n  // Final values\n  const FAr = T0r + T2r;\n\n  const FBr = T1r;\n  const FBi = -T3r;\n\n  const FCr = T0r - T2r;\n\n  const FDr = T1r;\n  const FDi = T3r;\n\n  out[outOff] = FAr;\n  out[outOff + 1] = 0;\n  out[outOff + 2] = FBr;\n  out[outOff + 3] = FBi;\n  out[outOff + 4] = FCr;\n  out[outOff + 5] = 0;\n  out[outOff + 6] = FDr;\n  out[outOff + 7] = FDi;\n};\n","import FFT from 'fft.js';\n\nimport { xRotate } from '../x/xRotate';\n\nexport function reimFFT(data, options = {}) {\n  const { inverse = false, applyZeroShift = false } = options;\n\n  let { re, im } = data;\n  const size = re.length;\n  const csize = size << 1;\n\n  let complexArray = new Float64Array(csize);\n  for (let i = 0; i < csize; i += 2) {\n    complexArray[i] = re[i >>> 1];\n    complexArray[i + 1] = im[i >>> 1];\n  }\n\n  let fft = new FFT(size);\n  let output = new Float64Array(csize);\n  if (inverse) {\n    if (applyZeroShift) complexArray = zeroShift(complexArray, true);\n    fft.inverseTransform(output, complexArray);\n  } else {\n    fft.transform(output, complexArray);\n    if (applyZeroShift) output = zeroShift(output);\n  }\n\n  let newRe = new Float64Array(size);\n  let newIm = new Float64Array(size);\n  for (let i = 0; i < csize; i += 2) {\n    newRe[i >>> 1] = output[i];\n    newIm[i >>> 1] = output[i + 1];\n  }\n\n  return { re: newRe, im: newIm };\n}\n\nconst zeroShift = (data, inverse) => {\n  let middle = inverse\n    ? Math.ceil(data.length / 2)\n    : Math.floor(data.length / 2);\n  return xRotate(data, middle);\n};\n","const toString = Object.prototype.toString;\n\nexport default function isAnyArray(object) {\n  return toString.call(object).endsWith('Array]');\n}\n","import isAnyArray from 'is-any-array';\n\n/**\n * Throw an error in no an object of x,y arrays\n * @param {DataXY} [data={}]\n */\nexport function xyCheck(data = {}) {\n  if (!isAnyArray(data.x) || !isAnyArray(data.y)) {\n    throw new Error('Points must be an object of x and y arrays');\n  }\n  if (data.x.length !== data.y.length) {\n    throw new Error('The x and y arrays mush have the same length');\n  }\n}\n","/**\n * Normalize an array of zones:\n * - ensure than from < to\n * - merge overlapping zones\n * @param {Array<Zone>} [zones=[]]\n * @param {object} [options={}]\n * @param {number} [options.from=Number.MIN_VALUE]\n * @param {number} [options.to=Number.MAX_VALUE]\n */\n\nexport function zonesNormalize(zones = [], options = {}) {\n  if (zones.length === 0) return [];\n  zones = JSON.parse(JSON.stringify(zones)).map((zone) =>\n    zone.from > zone.to ? { from: zone.to, to: zone.from } : zone,\n  );\n  let {\n    from = Number.NEGATIVE_INFINITY,\n    to = Number.POSITIVE_INFINITY,\n  } = options;\n  if (from > to) {\n    [from, to] = [to, from];\n  }\n\n  zones = zones.sort((a, b) => {\n    if (a.from !== b.from) return a.from - b.from;\n    return a.to - b.to;\n  });\n\n  zones.forEach((zone) => {\n    if (from > zone.from) zone.from = from;\n    if (to < zone.to) zone.to = to;\n  });\n\n  zones = zones.filter((zone) => zone.from <= zone.to);\n  if (zones.length === 0) return [];\n\n  let currentZone = zones[0];\n  let result = [currentZone];\n  for (let zone of zones) {\n    if (zone.from <= currentZone.to) {\n      currentZone.to = zone.to;\n    } else {\n      currentZone = zone;\n      result.push(currentZone);\n    }\n  }\n  return result;\n}\n","import median from 'ml-array-median';\n\n/**\n * This function calculates the median after taking the reimAbsolute values of the points\n * @param {Array<Number>} array - the array that will be rotated\n * @return {Number}\n */\nexport function xAbsoluteMedian(array) {\n  let tmpArray = array.slice();\n  for (let i = 0; i < tmpArray.length; i++) {\n    tmpArray[i] = Math.abs(tmpArray[i]);\n  }\n\n  return median(tmpArray);\n}\n","import isArray from 'is-any-array';\nimport quickSelectMedian from 'median-quickselect';\n\n/**\n * Computes the median of the given values\n * @param {Array<number>} input\n * @return {number}\n */\n\nfunction median(input) {\n  if (!isArray(input)) {\n    throw new TypeError('input must be an array');\n  }\n\n  if (input.length === 0) {\n    throw new TypeError('input must not be empty');\n  }\n\n  return quickSelectMedian(input.slice());\n}\n\nexport default median;\n","/**\n\n/**\n * This function xAdd the first array by the second array or a constant value to each element of the first array\n * @param {Array<Number>} array1 - the array that will be rotated\n * @param {Array|Number} array2\n * @return {Array}\n */\nexport function xAdd(array1, array2) {\n  let isConstant = false;\n  let constant;\n  if (Array.isArray(array2)) {\n    if (array1.length !== array2.length) {\n      throw new Error('sub: size of array1 and array2 must be identical');\n    }\n  } else {\n    isConstant = true;\n    constant = Number(array2);\n  }\n\n  let array3 = new Array(array1.length);\n  if (isConstant) {\n    for (let i = 0; i < array1.length; i++) {\n      array3[i] = array1[i] + constant;\n    }\n  } else {\n    for (let i = 0; i < array1.length; i++) {\n      array3[i] = array1[i] + array2[i];\n    }\n  }\n\n  return array3;\n}\n","import { xCrossCorrelation } from './xCrossCorrelation';\n\n/**\n * Calculates the auto-correlation of a vector\n * @param {Array<Number>} [A] - the array that will be fixed\n * @param {object} [options={}]\n * @param {number} [options.tau = 1] - sweep increment size (in number of points, min = 1, max = A.length)\n * @param {number} [options.lag = A.length - 1] - scalar lag parameter\n */\n\nexport function xAutoCorrelation(A, options = {}) {\n  return xCrossCorrelation(A, A, options);\n}\n","/**\n * This function xSubtract the first array by the second array or a constant value from each element of the first array\n * @param {Array<Number>} array1 - the array that will be rotated\n * @return {object}\n */\nexport function xBoxPlot(array) {\n  array = array.slice(0).sort((a, b) => a - b);\n  if (array.length < 5) {\n    throw Error(\n      'xBoxPlot: can not calculate info if array contains less than 3 elements',\n    );\n  }\n  let info = {\n    Q1: 0.0,\n    Q2: 0.0,\n    Q3: 0.0,\n    min: array[0],\n    max: array[array.length - 1],\n  };\n  let q1max, q3min;\n  if (array.length % 2 === 1) {\n    // odd\n    let middle = (array.length - 1) / 2;\n    info.Q2 = array[middle];\n    q1max = middle - 1;\n    q3min = middle + 1;\n  } else {\n    // even\n    q3min = array.length / 2;\n    q1max = q3min - 1;\n    info.Q2 = (array[q1max] + array[q3min]) / 2;\n  }\n  if (q1max % 2 === 0) {\n    info.Q1 = array[q1max / 2];\n    info.Q3 = array[(array.length + q3min - 1) / 2];\n  } else {\n    info.Q1 = (array[(q1max + 1) / 2] + array[(q1max - 1) / 2]) / 2;\n    let middleOver = (array.length + q3min) / 2;\n    info.Q3 = (array[middleOver] + array[middleOver - 1]) / 2;\n  }\n  return info;\n}\n","/**\n\n/**\n * Calculates the correlation between 2 vectors\n * https://en.wikipedia.org/wiki/Correlation_and_dependence\n *\n * @param {Array<Number>} [A] - the array that will be rotated\n * @param {Array<Number>} [B]\n * @return {Array}\n */\nexport function xCorrelation(A, B) {\n  let n = A.length;\n  let sumA = 0;\n  let sumA2 = 0;\n  let sumB = 0;\n  let sumB2 = 0;\n  let sumAB = 0;\n  for (let i = 0; i < n; i++) {\n    let a = A[i];\n    let b = B[i];\n    sumA += a;\n    sumA2 += a ** 2;\n    sumB += b;\n    sumB2 += b ** 2;\n    sumAB += a * b;\n  }\n  return (\n    (n * sumAB - sumA * sumB) /\n    (Math.sqrt(n * sumA2 - sumA ** 2) * Math.sqrt(n * sumB2 - sumB ** 2))\n  );\n}\n","/**\n\n/**\n * This function divide the first array by the second array or a constant value to each element of the first array\n * @param {Array<Number>} array1 - the array that will be rotated\n * @param {Array<Number>|Number} array2\n * @return {Array}\n */\nexport function xDivide(array1, array2) {\n  let isConstant = false;\n  let constant;\n  if (Array.isArray(array2)) {\n    if (array1.length !== array2.length) {\n      throw new Error('sub: size of array1 and array2 must be identical');\n    }\n  } else {\n    isConstant = true;\n    constant = Number(array2);\n  }\n\n  let array3 = new Array(array1.length);\n  if (isConstant) {\n    for (let i = 0; i < array1.length; i++) {\n      array3[i] = array1[i] / constant;\n    }\n  } else {\n    for (let i = 0; i < array1.length; i++) {\n      array3[i] = array1[i] / array2[i];\n    }\n  }\n\n  return array3;\n}\n","/**\n * This function xSubtract the first array by the second array or a constant value from each element of the first array\n * @param {Array} array1 - the array that will be rotated\n * @param {Array|Number} array2\n * @return {Array}\n */\nexport function xSubtract(array1, array2) {\n  let isConstant = false;\n  let constant;\n  if (Array.isArray(array2)) {\n    if (array1.length !== array2.length) {\n      throw new Error('sub: size of array1 and array2 must be identical');\n    }\n  } else {\n    isConstant = true;\n    constant = Number(array2);\n  }\n\n  let array3 = new Array(array1.length);\n  if (isConstant) {\n    for (let i = 0; i < array1.length; i++) {\n      array3[i] = array1[i] - constant;\n    }\n  } else {\n    for (let i = 0; i < array1.length; i++) {\n      array3[i] = array1[i] - array2[i];\n    }\n  }\n\n  return array3;\n}\n","/**\n * Sort object of array, x has to be monotone.\n * @param {object} data Object of kind {x:[], re:[], im:[]}.\n * @return {SD}\n */\n\nexport function xreimSortX(data) {\n  const { x, re, im } = data;\n\n  if (x.length !== re.length || x.length !== im.length) {\n    throw TypeError('xreimSortX: length of x, re and im must be identical');\n  }\n\n  if (x.length < 2 || x[0] < x[1]) return data;\n\n  return {\n    x: x.slice(0).reverse(),\n    re: re.slice(0).reverse(),\n    im: im.slice(0).reverse(),\n  };\n}\n","/**\n * This function make a zero filling to re and im part.\n * @param {object} data Object of kind {x:[], re:[], im:[]}.\n * @param {number} totalLength - final number of points\n * @return {SD}\n */\nexport function xreimZeroFilling(data, totalLength) {\n  let length = data.x.length;\n  if (totalLength === 0 || length === totalLength) return data;\n\n  if (length > totalLength) {\n    return {\n      x: data.x.slice(0, totalLength),\n      re: data.re.slice(0, totalLength),\n      im: data.im.slice(0, totalLength),\n    };\n  }\n\n  const x = data.x;\n  const re = data.re;\n  const im = data.im;\n\n  const newX = new Float64Array(totalLength);\n  const newRE = new Float64Array(totalLength);\n  const newIM = new Float64Array(totalLength);\n\n  for (let i = 0; i < length; i++) {\n    newX[i] = x[i];\n    newRE[i] = re[i];\n    newIM[i] = im[i];\n  }\n  const deltaX = (x[x.length - 1] - x[0]) / (length - 1);\n  for (let i = length; i < totalLength; i++) {\n    newX[i] = newX[i - 1] + deltaX;\n  }\n\n  return {\n    x: newX,\n    re: newRE,\n    im: newIM,\n  };\n}\n","/**\n * xyAligns data of two spectra by verifying wether x values are in a certain range (`delta`).\n * The two spectra should not have two consecutive x values which difference is\n * smaller than `delta` to achieve good results!\n * @param {DataXY} spectrum1 First spectrum data\n * @param {DataXY} spectrum2 Second spectrum data\n * @param {object} options\n * @param {number} [options.delta = 1] The range in which the two x values of the spectra must be to be placed on the same line\n * @param {boolean} [options.common = true] If `true`, only the data considered as common to both spectra is kept. If `false`, the data y arrays are completed with zeroes where no common values are found\n * @param {string} [options.x = 'x1'] Defines what x values should be kept (`x1` : spectrum 1 x values, `x2` spectrum 2 x values, `weighted`: weighted average of both spectra x values)\n * @param {function} [options.weightFunction = undefined] Function that allows to weight `delta` depending on the X values of the spectrum\n */\nexport function xyAlign(spectrum1, spectrum2, options = {}) {\n  const {\n    delta = 1,\n    common = true,\n    x = 'x1',\n    weightFunction = undefined,\n  } = options;\n\n  let result = {\n    x: [],\n    y1: [],\n    y2: [],\n  };\n\n  let i = 0;\n  let j = 0;\n\n  let length1 = spectrum1.x.length;\n  let length2 = spectrum2.x.length;\n\n  while (i < spectrum1.x.length && j < spectrum2.x.length) {\n    let maxDiff = 0;\n\n    if (typeof weightFunction === 'function') {\n      let mean = (spectrum1.x[i] + spectrum2.x[j]) / 2; // is this a good thing to do?\n      maxDiff = weightFunction(mean);\n    } else {\n      maxDiff = delta;\n    }\n\n    let difference = spectrum1.x[i] - spectrum2.x[j];\n\n    if (Math.abs(difference) > maxDiff) {\n      if (difference > 0) {\n        if (!common) {\n          result.x.push(spectrum2.x[j]);\n          result.y1.push(0);\n          result.y2.push(spectrum2.y[j]);\n          if (j === length2 - 1) {\n            while (i < spectrum1.x.length) {\n              result.x.push(spectrum1.x[i]);\n              result.y1.push(spectrum1.y[i]);\n              result.y2.push(0);\n              i++;\n            }\n          }\n        }\n        // console.log({ i, j }, result);\n        j++;\n      } else {\n        if (!common) {\n          result.x.push(spectrum1.x[i]);\n          result.y1.push(spectrum1.y[i]);\n          result.y2.push(0);\n          if (i === length1 - 1) {\n            while (j < spectrum2.x.length) {\n              result.x.push(spectrum2.x[j]);\n              result.y1.push(0);\n              result.y2.push(spectrum2.y[j]);\n              j++;\n            }\n          }\n        }\n        // console.log({ i, j }, result);\n        i++;\n      }\n    } else {\n      let weightedX =\n        (spectrum1.x[i] * spectrum1.y[i] + spectrum2.x[j] * spectrum2.y[j]) /\n        (spectrum1.y[i] + spectrum2.y[j]);\n\n      switch (x) {\n        case 'x1':\n          result.x.push(spectrum1.x[i]);\n          break;\n        case 'x2':\n          result.x.push(spectrum2.x[j]);\n          break;\n        case 'weighted':\n          result.x.push(weightedX);\n          break;\n        default:\n          throw new Error(`Error: Unknown x option value: ${x}`);\n      }\n\n      result.y1.push(spectrum1.y[i]);\n      result.y2.push(spectrum2.y[j]);\n\n      // console.log({ i, j }, result);\n\n      i++;\n      j++;\n    }\n  }\n  return result;\n}\n","import { zonesNormalize } from '../zones/zonesNormalize';\n\nimport { xyCheck } from './xyCheck';\n\n/**\n * xyExtract zones from a XY data\n * @param {DataXY} [data={}] - Object that contains property x (an ordered increasing array) and y (an array)\n * @param {object} [options={}]\n * @param {Array} [options.zones=[]]\n * @return {Array} Array of points\n */\n\nexport function xyExtract(data = {}, options = {}) {\n  xyCheck(data);\n  const { x, y } = data;\n  let { zones } = options;\n\n  zones = zonesNormalize(zones);\n\n  if (!Array.isArray(zones) || zones.length === 0) return data;\n\n  let newX = [];\n  let newY = [];\n\n  let currentZone = zones[0];\n  let position = 0;\n  loop: for (let i = 0; i < x.length; i++) {\n    while (currentZone.to < x[i]) {\n      position++;\n      currentZone = zones[position];\n      if (!currentZone) {\n        i = x.length;\n        break loop;\n      }\n    }\n    if (x[i] >= currentZone.from) {\n      newX.push(x[i]);\n      newY.push(y[i]);\n    }\n  }\n  return { x: newX, y: newY };\n}\n","import { xyCheck } from './xyCheck';\n\n/**\n * Returns the numberMaxPoints points with the bigger y.\n * @param {DataXY} data - Object that contains property x (an ordered increasing array) and y (an array)\n * @param {number} numberMaxPoints Number of points to keep\n * @returns {object} The points filtered to keep the `numberMaxPoints` most intense points of the input\n */\nexport function xyGetNMaxY(data, numberMaxPoints) {\n  xyCheck(data);\n  if (data.x.length <= numberMaxPoints) {\n    return data;\n  } else {\n    let newX = new Array(numberMaxPoints);\n    let newY = new Array(numberMaxPoints);\n\n    // slice() is used to make a copy of the array, because sort() is IPM\n    let threshold = data.y.slice().sort((a, b) => b - a)[numberMaxPoints - 1];\n\n    let index = 0;\n    for (let i = 0; i < data.x.length; i++) {\n      if (data.y[i] >= threshold) {\n        newX[index] = data.x[i];\n        newY[index] = data.y[i];\n        index++;\n      }\n      if (index === numberMaxPoints) {\n        return { x: newX, y: newY };\n      }\n    }\n  }\n}\n","/**\n * Order object of array, x has to be monotone.\n * Ensure x is growing\n * @param {DataXY} data Object of kind {x:[], y:[]}.\n * @return {SD}\n */\n\nexport function xyGrowingX(data) {\n  const { x, y } = data;\n\n  if (x.length !== y.length) {\n    throw TypeError('sortX: length of x and y must be identical');\n  }\n\n  if (x.length < 2 || x[0] < x[1]) return data;\n\n  return {\n    x: x.slice(0).reverse(),\n    y: y.slice(0).reverse(),\n  };\n}\n","import { xGetFromToIndex } from '../x/xGetFromToIndex';\n\nimport { xyCheck } from './xyCheck';\n/**\n * Generate a X / Y of the xyIntegral\n * @param {DataXY} [data={}] - Object that contains property x (an ordered increasing array) and y (an array)\n * @param {object} [options={}]\n * @param {number} [options.from] - First value for xyIntegration in the X scale\n * @param {number} [options.fromIndex=0] - First point for xyIntegration\n * @param {number} [options.to] - Last value for xyIntegration in the X scale\n * @param {number} [options.toIndex=x.length-1] - Last point for xyIntegration\n * @param {boolean} [options.reverse=false] - Integrate from the larger value to the smallest value\n * @return {{x:[],y:[]}} An object with the xyIntegration function\n */\n\nexport function xyIntegral(data = {}, options = {}) {\n  const { reverse = false } = options;\n  xyCheck(data);\n  const { x, y } = data;\n  if (x.length < 2) return 0;\n\n  const { fromIndex, toIndex } = xGetFromToIndex(x, options);\n\n  let xyIntegration = 0;\n  let currentxyIntegral;\n  if (reverse) {\n    currentxyIntegral = { x: [x[toIndex]], y: [0] };\n    for (let i = toIndex; i > fromIndex; i--) {\n      xyIntegration += ((x[i] - x[i - 1]) * (y[i - 1] + y[i])) / 2;\n      currentxyIntegral.x.push(x[i - 1]);\n      currentxyIntegral.y.push(xyIntegration);\n    }\n    currentxyIntegral.x.reverse();\n    currentxyIntegral.y.reverse();\n  } else {\n    currentxyIntegral = { x: [x[fromIndex]], y: [0] };\n    for (let i = fromIndex; i < toIndex; i++) {\n      xyIntegration += ((x[i + 1] - x[i]) * (y[i + 1] + y[i])) / 2;\n      currentxyIntegral.x.push(x[i + 1]);\n      currentxyIntegral.y.push(xyIntegration);\n    }\n  }\n\n  return currentxyIntegral;\n}\n","import { xGetFromToIndex } from '../x/xGetFromToIndex';\n\nimport { xyCheck } from './xyCheck';\n\n/**\n * In place modification of the 2 arrays to make X unique and sum the Y if X has the same value\n * @param {DataXY} [data={}] - Object that contains property x (an ordered increasing array) and y (an array)\n * @param {object} [options={}]\n * @param {number} [options.from] - First value for xyIntegration in the X scale\n * @param {number} [options.fromIndex=0] - First point for xyIntegration\n * @param {number} [options.to] - Last value for xyIntegration in the X scale\n * @param {number} [options.toIndex=x.length-1] - Last point for xyIntegration\n * @return {number} xyIntegration value on the specified range\n */\n\nexport function xyIntegration(data = {}, options = {}) {\n  xyCheck(data);\n  const { x, y } = data;\n  if (x.length < 2) return 0;\n  const { fromIndex, toIndex } = xGetFromToIndex(x, options);\n  let currentxyIntegration = 0;\n  for (let i = fromIndex; i < toIndex; i++) {\n    currentxyIntegration += ((x[i + 1] - x[i]) * (y[i + 1] + y[i])) / 2;\n  }\n\n  return currentxyIntegration;\n}\n","import { xFindClosestIndex } from '../x/xFindClosestIndex';\n\nimport { xyCheck } from './xyCheck';\n\n/**\n * Find the closest maximum going up hill\n * @param {DataXY} [data={}] - Object that contains property x (an ordered increasing array) and y (an array)\n * @param {object} [options={}]\n * @param {number} [options.target]\n * @param {number} [options.targetIndex=0]\n * @return {{x,y,xIndex}} An object with the x/y value\n */\n\nexport function xyMaxClosestYPoint(data, options = {}) {\n  xyCheck(data);\n  const { x, y } = data;\n\n  let { target, targetIndex } = options;\n\n  if (targetIndex === undefined) {\n    if (target !== undefined) {\n      targetIndex = xFindClosestIndex(x, target);\n    } else {\n      targetIndex = 0;\n    }\n  }\n\n  let previousIndex = Number.MIN_SAFE_INTEGER;\n  let currentIndex = targetIndex;\n\n  let xyMaxY = y[targetIndex];\n\n  while (currentIndex !== previousIndex) {\n    previousIndex = currentIndex;\n    if (currentIndex > 0 && y[currentIndex - 1] > xyMaxY) {\n      currentIndex--;\n    } else if (currentIndex < x.length - 1 && y[currentIndex + 1] > xyMaxY) {\n      currentIndex++;\n    }\n    xyMaxY = y[currentIndex];\n  }\n  return {\n    x: x[currentIndex],\n    y: y[currentIndex],\n    index: currentIndex,\n  };\n}\n","import { xGetFromToIndex } from '../x/xGetFromToIndex';\n\nimport { xyCheck } from './xyCheck';\n/**\n * Finds the max value in a zone\n * @param {DataXY} [data={}] - Object that contains property x (an ordered increasing array) and y (an array)\n * @param {object} [options={}]\n * @param {number} [options.from] - First value for xyIntegration in the X scale\n * @param {number} [options.fromIndex=0] - First point for xyIntegration\n * @param {number} [options.to] - Last value for xyIntegration in the X scale\n * @param {number} [options.toIndex=x.length-1] - Last point for xyIntegration\n * @return {number} Max y on the specified range\n */\n\nexport function xyMaxY(data = {}, options = {}) {\n  xyCheck(data);\n  const { x, y } = data;\n  if (x.length < 2) return 0;\n\n  const { fromIndex, toIndex } = xGetFromToIndex(x, options);\n\n  let currentxyMaxY = y[fromIndex];\n  for (let i = fromIndex; i <= toIndex; i++) {\n    if (y[i] > currentxyMaxY) currentxyMaxY = y[i];\n  }\n\n  return currentxyMaxY;\n}\n","import { xGetFromToIndex } from '../x/xGetFromToIndex';\n\nimport { xyCheck } from './xyCheck';\n/**\n * Finds the max y value in a range and return a {x,y} point\n * @param {DataXY} [data={}] - Object that contains property x (an ordered increasing array) and y (an array)\n * @param {object} [options={}]\n * @param {number} [options.from] - First value for xyIntegration in the X scale\n * @param {number} [options.fromIndex=0] - First point for xyIntegration\n * @param {number} [options.to] - Last value for xyIntegration in the X scale\n * @param {number} [options.toIndex=x.length-1] - Last point for xyIntegration\n * @return {object}\n */\n\nexport function xyMaxYPoint(data = {}, options = {}) {\n  xyCheck(data);\n  const { x, y } = data;\n  if (x.length < 2) return 0;\n\n  const { fromIndex, toIndex } = xGetFromToIndex(x, options);\n\n  let current = { x: x[fromIndex], y: y[fromIndex], index: fromIndex };\n  for (let i = fromIndex; i <= toIndex; i++) {\n    if (y[i] > current.y) current = { x: x[i], y: y[i], index: i };\n  }\n\n  return current;\n}\n","import { xyCheck } from './xyCheck';\n/**\n * Finds all the max values\n * If the values are equal the middle\n * of the equal part will be the position of the signal!\n *\n * @param {DataXY} [data={}] - Object that contains property x (an ordered increasing array) and y (an array)\n * @return {Array} Array of points\n */\n\nexport function xyMaximaY(data = {}) {\n  xyCheck(data);\n  const { x, y } = data;\n  if (x.length < 3) return [];\n  let maxima = [];\n  let startEqualIndex = -1;\n  for (let i = 1; i < x.length - 1; i++) {\n    if (y[i - 1] < y[i] && y[i + 1] < y[i]) {\n      maxima.push({ x: x[i], y: y[i], index: i });\n    } else if (y[i - 1] < y[i] && y[i + 1] === y[i]) {\n      startEqualIndex = i;\n    } else if (y[i - 1] === y[i] && y[i + 1] < y[i]) {\n      let index = ((i + startEqualIndex) / 2) >> 0;\n      maxima.push({ x: x[index], y: y[index], index });\n    }\n  }\n  return maxima;\n}\n","import { xFindClosestIndex } from '../x/xFindClosestIndex';\n\nimport { xyCheck } from './xyCheck';\n\n/**\n * Find the closest minimum going down hill\n * @param {DataXY} [data={}] - Object that contains property x (an ordered increasing array) and y (an array)\n * @param {object} [options={}]\n * @param {number} [options.target]\n * @param {number} [options.targetIndex=0]\n * @return {{x,y,xIndex}} An object with the x/y value\n */\n\nexport function xyMinClosestYPoint(data, options = {}) {\n  xyCheck(data);\n  const { x, y } = data;\n\n  let { target, targetIndex } = options;\n\n  if (targetIndex === undefined) {\n    if (target !== undefined) {\n      targetIndex = xFindClosestIndex(x, target);\n    } else {\n      targetIndex = 0;\n    }\n  }\n\n  let previousIndex = Number.MIN_SAFE_INTEGER;\n  let currentIndex = targetIndex;\n\n  let minY = y[targetIndex];\n\n  while (currentIndex !== previousIndex) {\n    previousIndex = currentIndex;\n    if (currentIndex > 0 && y[currentIndex - 1] < minY) {\n      currentIndex--;\n    } else if (currentIndex < x.length - 1 && y[currentIndex + 1] < minY) {\n      currentIndex++;\n    }\n    minY = y[currentIndex];\n  }\n  return {\n    x: x[currentIndex],\n    y: y[currentIndex],\n    index: currentIndex,\n  };\n}\n","import { xGetFromToIndex } from '../x/xGetFromToIndex';\n\nimport { xyCheck } from './xyCheck';\n/**\n * Finds the max y value in a range and return a {x,y} point\n * @param {DataXY} [data={}] - Object that contains property x (an ordered increasing array) and y (an array)\n * @param {object} [options={}]\n * @param {number} [options.from] - First value for xyIntegration in the X scale\n * @param {number} [options.fromIndex=0] - First point for xyIntegration\n * @param {number} [options.to] - Last value for xyIntegration in the X scale\n * @param {number} [options.toIndex=x.length-1] - Last point for xyIntegration\n * @return {object}\n */\n\nexport function xyMinYPoint(data = {}, options = {}) {\n  xyCheck(data);\n  const { x, y } = data;\n  if (x.length < 2) return 0;\n\n  const { fromIndex, toIndex } = xGetFromToIndex(x, options);\n\n  let current = { x: x[fromIndex], y: y[fromIndex], index: fromIndex };\n  for (let i = fromIndex; i <= toIndex; i++) {\n    if (y[i] < current.y) current = { x: x[i], y: y[i], index: i };\n  }\n\n  return current;\n}\n","import { xyCheck } from './xyCheck';\n/**\n * Finds all the min values\n * If the values are equal the middle\n * of the equal part will be the position of the signal!\n *\n * @param {DataXY} [data={}] - Object that contains property x (an ordered increasing array) and y (an array)\n * @return {Array} Array of points\n */\n\nexport function xyMinimaY(data = {}) {\n  xyCheck(data);\n  const { x, y } = data;\n  if (x.length < 3) return [];\n  let maxima = [];\n  let startEqualIndex = -1;\n  for (let i = 1; i < x.length - 1; i++) {\n    if (y[i - 1] > y[i] && y[i + 1] > y[i]) {\n      maxima.push({ x: x[i], y: y[i], index: i });\n    } else if (y[i - 1] > y[i] && y[i + 1] === y[i]) {\n      startEqualIndex = i;\n    } else if (y[i - 1] === y[i] && y[i + 1] > y[i]) {\n      let index = ((i + startEqualIndex) / 2) >> 0;\n      maxima.push({ x: x[index], y: y[index], index });\n    }\n  }\n  return maxima;\n}\n","/**\n *\n * @param {ArrayPoints} [points] array of growing points {x,y}\n * @param {object} [options={}]\n * @param {object} [xError=Number.EPSILON] limit to join the data\n */\nexport function xyObjectJoinX(points, options = {}) {\n  const { xError = Number.EPSILON } = options;\n\n  // when we join we will use the center of mass\n  let result = [];\n  let current = {\n    x: Number.MIN_SAFE_INTEGER,\n    y: 0,\n  };\n  for (let point of points) {\n    if (point.x - current.x <= xError) {\n      // weighted sum\n      current.x =\n        (point.y / (current.y + point.y)) * (point.x - current.x) + current.x;\n      current.y += point.y;\n    } else {\n      current = {\n        x: point.x,\n        y: point.y,\n      };\n      result.push(current);\n    }\n  }\n  return result;\n}\n","/**\n *\n * @param {ArrayPoints} [points] array of growing points {x,y}\n * @param {object} [options={}]\n * @param {object} [slotWidth=1] limit to join the data\n */\nexport function xyObjectSlotX(points, options = {}) {\n  const { slotWidth = 1 } = options;\n  const halfSlot = slotWidth / 2;\n\n  // when we join we will use the center of mass\n  let result = [];\n  let current = {\n    x: Number.MIN_VALUE,\n    y: 0,\n  };\n  for (let point of points) {\n    let slot = point.x - ((point.x + halfSlot) % slotWidth) + halfSlot;\n    if (Math.abs(current.x - slot) > Number.EPSILON) {\n      current = {\n        x: slot,\n        y: 0,\n      };\n      result.push(current);\n    }\n    current.y += point.y;\n  }\n  return result;\n}\n","/**\n * Sorts an array of points\n * @param {ArrayPoints} [points] array of points {x,y}\n */\n\nexport function xyObjectSortX(points) {\n  return points.sort((a, b) => a.x - b.x);\n}\n","/**\n *\n * @param {ArrayPoints} [points] array of points {x,y}\n */\nexport function xyObjectToXY(points) {\n  return {\n    x: points.map((entry) => entry.x),\n    y: points.map((entry) => entry.y),\n  };\n}\n","import { xFindClosestIndex } from '../x/xFindClosestIndex';\n\nimport { xyCheck } from './xyCheck';\n\n/**\n * Returns an information about a signal\n *\n * We expect ordered data and equidistant X axis\n * You can use the method helper if required:\n * ML.ArrayPoints.uniqueX\n * ML.ArrayPoints.sortX\n * ML.ArrayPoints.equallySpaced\n *\n * @param {object} [data={}] - Object that contains property x (an ordered increasing array) and y (an array)\n * @param {object} [options={}]\n * @param {number} [options.target]\n * @param {number} [options.targetIndex]\n * @return {object} Information about signal\n */\n\nexport function xyPeakInfo(data = {}, options = {}) {\n  xyCheck(data);\n  const { x, y } = data;\n  if (x.length < 3) return undefined;\n  let { targetIndex, target } = options;\n  if (targetIndex === undefined) {\n    if (target !== undefined) {\n      targetIndex = xFindClosestIndex(x, target);\n    }\n  }\n\n  if (targetIndex === undefined) {\n    throw new Error('xyPeakInfo: need to specify target or targetIndex');\n  }\n\n  let i = targetIndex;\n  let currentDiff = y[i] - y[i + 1];\n\n  let multiplier = currentDiff < 0 ? -1 : 1;\n  currentDiff *= multiplier;\n  while (i < x.length - 1) {\n    i++;\n    let newDiff = (y[i] - y[i + 1]) * multiplier;\n    if (newDiff < currentDiff) break;\n    currentDiff = newDiff;\n  }\n  let after = { x: x[i], y: y[i] };\n\n  i = targetIndex;\n  currentDiff = (y[i] - y[i - 1]) * multiplier;\n  while (i > 1) {\n    i--;\n    let newDiff = (y[i] - y[i - 1]) * multiplier;\n    if (newDiff < currentDiff) break;\n    currentDiff = newDiff;\n  }\n  let before = { x: x[i], y: y[i] };\n\n  return {\n    inflectionBefore: before,\n    inflectionAfter: after,\n    extrema: { x: x[targetIndex], y: y[targetIndex] },\n    inflectionMiddle: {\n      x: (before.x + after.x) / 2,\n      y: (before.y + after.y) / 2,\n    },\n    width: Math.abs(before.x - after.x),\n  };\n}\n","import { xGetTargetIndex } from '../x/xGetTargetIndex';\n\nimport { xyCheck } from './xyCheck';\n/**\n * Find the closest minimum going down hill\n * @param {object} [data={}] - Object that contains property x (an ordered increasing array) and y (an array)\n * @param {object} [options={}]\n * @param {number} [options.target]\n * @param {number} [options.targetIndex=0]\n * @return {{x,y,xIndex}} An object with the x/y value\n */\n\nexport function xyRealMaxYPoint(data, options = {}) {\n  xyCheck(data);\n  const { x, y } = data;\n  const targetIndex = xGetTargetIndex(x, options);\n  // interpolation to a sin() function\n  if (\n    y[targetIndex - 1] > 0 &&\n    y[targetIndex + 1] > 0 &&\n    y[targetIndex] >= y[targetIndex - 1] &&\n    y[targetIndex] >= y[targetIndex + 1]\n  ) {\n    let alpha = 20 * Math.log10(y[targetIndex - 1]);\n    let beta = 20 * Math.log10(y[targetIndex]);\n    let gamma = 20 * Math.log10(y[targetIndex + 1]);\n    let p = (0.5 * (alpha - gamma)) / (alpha - 2 * beta + gamma);\n    return {\n      x: x[targetIndex] + (x[targetIndex] - x[targetIndex - 1]) * p,\n      y: y[targetIndex] - 0.25 * (y[targetIndex - 1] - y[targetIndex + 1]) * p,\n      index: targetIndex,\n    };\n  } else {\n    return {\n      x: x[targetIndex],\n      y: y[targetIndex],\n      index: targetIndex,\n    };\n  }\n}\n","import { xGetTargetIndex } from '../x/xGetTargetIndex';\n\nimport { xyCheck } from './xyCheck';\n\nexport function xyRealMinYPoint(data, options = {}) {\n  xyCheck(data);\n  const { x, y } = data;\n\n  const targetIndex = xGetTargetIndex(x, options);\n  // interpolation to a sin() function\n  if (\n    y[targetIndex - 1] < 0 &&\n    y[targetIndex + 1] < 0 &&\n    y[targetIndex] <= y[targetIndex - 1] &&\n    y[targetIndex] <= y[targetIndex + 1]\n  ) {\n    let alpha = 20 * Math.log10(-y[targetIndex - 1]);\n    let beta = 20 * Math.log10(-y[targetIndex]);\n    let gamma = 20 * Math.log10(-y[targetIndex + 1]);\n    let p = (0.5 * (alpha - gamma)) / (alpha - 2 * beta + gamma);\n    return {\n      x: x[targetIndex] + (x[targetIndex] - x[targetIndex - 1]) * p,\n      y: y[targetIndex] - 0.25 * (y[targetIndex - 1] - y[targetIndex + 1]) * p,\n      index: targetIndex,\n    };\n  } else {\n    return {\n      x: x[targetIndex],\n      y: y[targetIndex],\n      index: targetIndex,\n    };\n  }\n}\n","import { xFindClosestIndex } from '../x/xFindClosestIndex';\nimport { zonesNormalize } from '../zones/zonesNormalize';\n\nimport { xyCheck } from './xyCheck';\n/**\n * xyReduce the number of points while keeping visually the same noise. Practical to\n * display many spectra as SVG.\n * SHOULD NOT BE USED FOR DATA PROCESSING !!!\n * You should rather use ml-xy-equally-spaced to make further processing\n * @param {object} [data={}] - Object that contains property x (an ordered increasing array) and y (an array)\n * @param {object} [options={}]\n * @param {number} [options.from=x[0]]\n * @param {number} [options.to=x[x.length-1]]\n * @param {number} [options.nbPoints=4001] Number of points\n * @param {number} [options.zones=[]] Array of zones to keep (from/to object)\n * @param {number} [options.optimize=false] If optimize we may have less than nbPoints at the end\n */\n\nexport function xyReduce(data, options = {}) {\n  xyCheck(data);\n  const { x, y } = data;\n  let {\n    from = x[0],\n    to = x[x.length - 1],\n    nbPoints = 4001,\n    optimize = false,\n    zones = [],\n  } = options;\n\n  zones = zonesNormalize(zones, { from, to });\n  if (zones.length === 0) zones = [{ from, to }]; // we take everything\n\n  // for each zone we should know the first index, the last index and the number of points\n\n  let totalPoints = 0;\n  for (let zone of zones) {\n    zone.fromIndex = xFindClosestIndex(x, zone.from);\n    zone.toIndex = xFindClosestIndex(x, zone.to);\n    if (zone.fromIndex > 0 && x[zone.fromIndex] > zone.from) {\n      zone.fromIndex--;\n    }\n    if (zone.toIndex < x.length - 1 && x[zone.toIndex] < zone.to) {\n      zone.toIndex++;\n    }\n\n    zone.nbPoints = zone.toIndex - zone.fromIndex + 1;\n    totalPoints += zone.nbPoints;\n  }\n  // we calculate the number of points per zone that we should keep\n  if (totalPoints > nbPoints) {\n    // need to xyReduce number of points\n    let ratio = nbPoints / totalPoints;\n    let currentTotal = 0;\n    for (let i = 0; i < zones.length - 1; i++) {\n      const zone = zones[i];\n      zone.nbPoints = Math.round(zone.nbPoints * ratio);\n      currentTotal += zone.nbPoints;\n    }\n    zones[zones.length - 1].nbPoints = nbPoints - currentTotal;\n  } else {\n    let newX = new Float64Array(totalPoints);\n    let newY = new Float64Array(totalPoints);\n    let index = 0;\n    for (let zone of zones) {\n      for (let i = zone.fromIndex; i < zone.toIndex + 1; i++) {\n        newX[index] = x[i];\n        newY[index] = y[i];\n        index++;\n      }\n    }\n    return {\n      x: newX,\n      y: newY,\n    };\n  }\n\n  let newX = [];\n  let newY = [];\n  for (let zone of zones) {\n    if (!zone.nbPoints) continue;\n    appendFromTo(zone.fromIndex, zone.toIndex, zone.nbPoints);\n  }\n  return { x: newX, y: newY };\n\n  function appendFromTo(fromIndex, toIndex, zoneNbPoints) {\n    if (zoneNbPoints === 1) {\n      newX.push(x[Math.round((toIndex - fromIndex) / 2)]);\n      newY.push(y[Math.round((toIndex - fromIndex) / 2)]);\n      return;\n    }\n    if (zoneNbPoints === 2) {\n      newX.push(x[fromIndex], x[toIndex]);\n      newY.push(y[fromIndex], y[toIndex]);\n      return;\n    }\n    newX.push(x[fromIndex]);\n    newY.push(y[fromIndex]);\n    let minY = Number.MAX_VALUE;\n    let xyMaxY = Number.MIN_VALUE;\n    if (zoneNbPoints % 2 === 0) {\n      zoneNbPoints = zoneNbPoints / 2 + 1;\n    } else {\n      zoneNbPoints = (zoneNbPoints - 1) / 2 + 1;\n    }\n\n    // we will need to make some kind of min / max because there are too many points\n    // we will always keep the first point and the last point\n    let slot = (x[toIndex] - x[fromIndex]) / (zoneNbPoints - 1);\n    let currentX = x[fromIndex] + slot;\n    let first = true;\n    for (let i = fromIndex + 1; i <= toIndex; i++) {\n      if (first) {\n        minY = y[i];\n        xyMaxY = y[i];\n        first = false;\n      } else {\n        if (y[i] < minY) minY = y[i];\n        if (y[i] > xyMaxY) xyMaxY = y[i];\n      }\n      if (x[i] >= currentX || i === toIndex) {\n        if (optimize) {\n          if (minY > newY[newX.length - 1]) {\n            // we can skip the intermediate value\n          } else if (xyMaxY < newY[newX.length - 1]) {\n            // we can skip the intermediate value\n            xyMaxY = minY;\n          } else {\n            newX.push(currentX - slot / 2);\n            newY.push(minY);\n          }\n        } else {\n          newX.push(currentX - slot / 2);\n          newY.push(minY);\n        }\n\n        newX.push(currentX);\n        newY.push(xyMaxY);\n\n        currentX += slot;\n        first = true;\n      }\n    }\n  }\n}\n","import { xyCheck } from './xyCheck';\n\n/**\n *\n * @param {DataXY} [data] array of points {x,y}\n * @returns {DataPoints}\n */\nexport function xyToXYObject(data) {\n  xyCheck(data);\n  const { x, y } = data;\n  let objectArray = [];\n  for (let i = 0; i < x.length; i++) {\n    objectArray.push({ x: x[i], y: y[i] });\n  }\n  return objectArray;\n}\n","export function zoneToX(zone, size) {\n  const { from, to } = zone;\n  let array = new Float64Array(size);\n  let step = (to - from) / (size - 1);\n  for (let i = 0; i < size; i++) {\n    array[i] = from + step * i;\n  }\n  return array;\n}\n"],"names":["toString","Object","prototype","object","call","endsWith","a","d","e","f","length","g","h","i","j","c","b","_ref","module","exports","window","median","xMultiply","array1","array2","constant","isConstant","Array","isArray","Error","Number","array3","Float64Array","xDotProduct","A","B","result","xCrossCorrelation","options","tau","lag","n","q","k","w","l","xFindClosestIndex","array","target","low","high","middle","Math","abs","xGetFromToIndex","x","fromIndex","toIndex","from","to","undefined","value","valueOf","isNumber","isInteger","BYTES_PER_ELEMENT","byteOffset","byteLength","v","data","shape","offset","strides","dtype","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","CTORS","len","isNonNegativeInteger","arr","TypeError","isnan","toStr","val","type","obj","strName","slice","constructor","name","exec","DTYPES","ctor","arrayLike","getCtor","typeName","push","getType","this","idx","r","mat","sgn","s0","s1","o","clbk","ctx","m","sgn0","sgn1","r0","r1","j0","j1","s2","s3","o0","o1","rows","cols","nRows","nCols","getIndices","out","isNonNegativeIntegerArray","args","nargs","arguments","isFunction","mset2","mset1","mset3","mset4","mset5","mset6","re","reEnd","reMatch","str","x1","x2","tmp","inc","isString","test","split","parseInt","match","ceil","seq","thisArg","seqs","ispace","join","dr","BTYPES","POSITIVE_INFINITY","_isBuffer","isBuffer","funcName","keysShim","RE","RegExp","isArgs","callee","keys","has","hasOwnProperty","require$$0","isEnumerable","propertyIsEnumerable","hasDontEnumBug","hasProtoEnumBug","dontEnums","equalsConstructorPrototype","excludedKeys","$applicationCache","$console","$external","$frame","$frameElement","$frames","$innerHeight","$innerWidth","$onmozfullscreenchange","$onmozfullscreenerror","$outerHeight","$outerWidth","$pageXOffset","$pageYOffset","$parent","$scrollLeft","$scrollTop","$scrollX","$scrollY","$self","$webkitIndexedDB","$webkitStorageInfo","$window","hasAutomationEqualityBug","isObject","isArguments","theKeys","skipProto","String","skipConstructor","equalsConstructorPrototypeIfNotBuggy","origKeys","originalKeys","shim","getKeys","error","desc","key","err","message","stack","code","errno","syscall","getOwnPropertyDescriptor","deepCopy","defineProperty","searchElement","isArrayLike","typedArrays","objectKeys","Function","copy","cache","refs","level","parent","ref","Buffer","copyError","Date","regex","Set","Map","freeze","names","create","getPrototypeOf","getOwnPropertyNames","isExtensible","preventExtensions","isSealed","seal","isFrozen","cloneInstance","indexOf","PINF","prop","raw","writable","configurable","enumerable","cast","Matrix","set","iset","require$$1","mset","require$$2","sset","require$$3","get","require$$4","iget","require$$5","mget","require$$6","sget","require$$7","require$$8","toJSON","require$$9","ndims","vFLG","dt","contains","nbytes","opts","isBoolean","accessor","path","sep","polyval","p","isNumberArray","P1","Q1","P2","Q2","P3","Q3","P4","Q4","P5","Q5","calc","P","Q","Y","s","sign","NaN","RangeError","NEGATIVE_INFINITY","sqrt","log","ERFCINV","props","bool","isStr","defaults","validate","dset","dget","deepSet","factory","deepGet","erfcinv1","isMatrixLike","ctors","matrix","erfcinv5","isTypedArrayLike","erfcinv6","erfcinv4","erfcinv3","erfcinv2","sigma","isPositive","expm1","exp","pow","y","fcn","partial","cdf1","cdf5","cdf6","cdf4","cdf3","cdf2","ascending","bisector","compare","left","lo","hi","mid","right","ascendingBisect","bisectRight","bisectLeft","number$1","variance","isNaN","deviation","extent","identity","range","start","stop","step","max","e10","e5","e2","ticks","count","tickStep","floor","step0","step1","LN10","sturges","values","LN2","number","quantile","min","transpose","row","version","bisect","descending","histogram","domain","threshold","xz","x0","tz","shift","pop","bin","bins","_","thresholds","map","thresholdFreedmanDiaconis","sort","thresholdScott","thresholdSturges","mean","numbers","merge","arrays","merged","pairs","permute","indexes","permutes","scan","xi","xj","shuffle","i0","i1","t","random","sum","zip","xIn","yIn","lambda","indices","params","u","mu","quincunx","smoothingSpline","interpolate","xStart","delta","maxValue","Infinity","minValue","curve","nInterval","vals","xNoiseSanPlot","mask","cutOff","refine","magnitudeMode","scaleFactor","factorStd","fixOffset","input","filter","_e","medianIndex","firstNegativeValueIndex","findIndex","lastPositiveValueIndex","initialNoiseLevelNegative","signPositive","signNegative","cutOffDist","considerList","indexMax","index","round","simpleNormInv","minKi","MAX_SAFE_INTEGER","whereToCutStat","top","elementsOfCutOff","averageValue","reduce","kiSqrt","determineCutOff","initialNoiseLevelPositive","skyPoint","noiseLevelPositive","noiseLevelNegative","cloneSignPositive","cloneSignNegative","cutOffSignalsIndexPlus","cutOffSignalsIndexNeg","cutOffSignals","effectiveCutOffDist","refinedCorrectionFactor","correctionFactor","positive","negative","snr","xTraining","createArray","yTraining","factor","finalInput","rayleighCdf","interp","SplineInterpolator","yValue","SQRT2","erfcinv","xGetTargetIndex","targetIndex","xRotate","reimAbsolute","im","newArray","reimPhaseCorrection","phi0","phi1","isFinite","alpha","sin","beta","cosTheta","cos","sinTheta","newRe","newIm","newSinTheta","defaultOptions","minRegSize","maxDistanceToJoin","factorNoise","autoPhaseRegion","maxSteps","bestAng","minArea","dAng","phased","toRadians","negArea","getNegArea","area","sumX","ph0","robustBaseLineRegionsDetection","change","prev","degree","PI","FFT","size","_csize","table","angle","power","_width","_bitrev","revShift","_out","_data","_inv","fromComplexArray","complex","storage","res","createComplexArray","toComplexArray","completeSpectrum","spectrum","half","transform","_transform4","realTransform","_realTransform4","inverseTransform","outOff","bitrev","off","_singleTransform2","_singleTransform4","inv","quarterLen","limit","C","D","Ar","Ai","Br","Bi","Cr","Ci","Dr","Di","MAr","MAi","tableBr","tableBi","MBr","MBi","tableCr","tableCi","MCr","MCi","tableDr","tableDi","MDr","MDi","T0r","T0i","T1r","T1i","T2r","T2i","T3r","T3i","FAr","FAi","FCr","FCi","FBr","FBi","FDr","FDi","evenR","evenI","oddR","oddI","leftR","leftI","rightR","rightI","step2","step3","_singleRealTransform2","_singleRealTransform4","halfLen","hquarterLen","SFAr","SFAi","SFBr","SFBi","SA","SB","zeroShift","inverse","isAnyArray","xyCheck","zonesNormalize","zones","JSON","parse","stringify","zone","forEach","currentZone","assign","magnitudeData","peaksDs","dk","holoborodko","peaksSp","finalPeaks","reTmp","imTmp","ph1","sxtw","swx","sw","sxtwy","swy","detMx","inMx","weightedLinearRegression","applyZeroShift","csize","complexArray","fft","output","tmpArray","quickSelectMedian","q1max","q3min","info","middleOver","sumA","sumA2","sumB","sumB2","sumAB","reverse","totalLength","newX","newRE","newIM","deltaX","spectrum1","spectrum2","common","weightFunction","y1","y2","length1","length2","maxDiff","difference","weightedX","newY","position","loop","numberMaxPoints","currentxyIntegral","xyIntegration","currentxyIntegration","previousIndex","MIN_SAFE_INTEGER","currentIndex","xyMaxY","currentxyMaxY","current","maxima","startEqualIndex","minY","points","xError","EPSILON","point","slotWidth","halfSlot","MIN_VALUE","slot","entry","currentDiff","multiplier","newDiff","after","before","inflectionBefore","inflectionAfter","extrema","inflectionMiddle","width","log10","gamma","nbPoints","optimize","totalPoints","ratio","currentTotal","appendFromTo","zoneNbPoints","MAX_VALUE","currentX","first","objectArray"],"mappings":"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"}